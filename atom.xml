<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EvanSun Home</title>
  
  <subtitle>记录、分享</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.jyusun.com/"/>
  <updated>2019-03-22T10:28:38.465Z</updated>
  <id>https://blog.jyusun.com/</id>
  
  <author>
    <name>evansun</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>设置yum阿里源或本地源</title>
    <link href="https://blog.jyusun.com/contents/20190321110041.html"/>
    <id>https://blog.jyusun.com/contents/20190321110041.html</id>
    <published>2019-03-21T03:00:41.000Z</published>
    <updated>2019-03-22T10:28:38.465Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设置yum阿里源或本地源"><a href="#设置yum阿里源或本地源" class="headerlink" title="设置yum阿里源或本地源"></a>设置yum阿里源或本地源</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>Yum（全称为 Yellow dog Updater, Modified）是一个在Fedora和RedHat以及CentOS中的<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9TaGVsbA==" title="https://baike.baidu.com/item/Shell">Shell<i class="fa fa-external-link"></i></span>前端软件包管理器。基于<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9SUE0=" title="https://baike.baidu.com/item/RPM">RPM<i class="fa fa-external-link"></i></span>包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。摘自：<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS95dW0vMjgzNTc3MT9mcj1hbGFkZGlu" title="https://baike.baidu.com/item/yum/2835771?fr=aladdin">百度百科<i class="fa fa-external-link"></i></span></li><li>场景1：CentOS默认的yum软件仓库源是境外的，虽然没有被墙，但是有时候下载些软件也还是很慢的，所以将yum源改阿里软件仓库源。</li><li>场景2：CentOS服务器处在内网环境中，缺少依赖手动安装那么会非常麻烦，需要花费大量时间寻找rpm包及相互间依赖的包在上传。现在搭建本地的yum软件仓库源，解决环境是无法联网的情况下，要使用yum的问题。</li></ul><h2 id="阿里软件仓库源"><a href="#阿里软件仓库源" class="headerlink" title="阿里软件仓库源"></a>阿里软件仓库源</h2><h3 id="备份基础源"><a href="#备份基础源" class="headerlink" title="备份基础源"></a>备份基础源</h3><ul><li><p>切换到yum源配置路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br></pre></td></tr></table></figure></li><li><p>备份文件，重命名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv CentOS-Base.repo CentOS-Base.repo_bak</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置阿里软件仓库源"><a href="#设置阿里软件仓库源" class="headerlink" title="设置阿里软件仓库源"></a>设置阿里软件仓库源</h3><ul><li><p>下载阿里云</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure></li><li><p>生成元数据缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br></pre></td></tr></table></figure></li><li><p>查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure><blockquote><p>已加载插件：fastestmirror<br>Loading mirror speeds from cached hostfile<br> * base: mirrors.aliyun.com<br> * extras: mirrors.aliyun.com<br> * updates: mirrors.aliyun.com</p></blockquote></li></ul><h2 id="本地软件仓库源"><a href="#本地软件仓库源" class="headerlink" title="本地软件仓库源"></a>本地软件仓库源</h2><h3 id="备份所有源数据并删除"><a href="#备份所有源数据并删除" class="headerlink" title="备份所有源数据并删除"></a>备份所有源数据并删除</h3><ul><li><p>切换路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br></pre></td></tr></table></figure></li><li><p>CentOS源打包备份，避免读到其他源中配置外网而读取不到</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zcvf repo_bak.tar.gz CentOS-*</span><br></pre></td></tr></table></figure></li><li><p>删除所有源数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf *.repo</span><br></pre></td></tr></table></figure></li></ul><h3 id="ISO挂载"><a href="#ISO挂载" class="headerlink" title="ISO挂载"></a>ISO挂载</h3><ul><li><p>查看一下，光驱的位置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/lsblk.jpg" title="sr1"><p>在实体机中配置的时候，一般不去查看lsblk的结果。就认作是/dev/cdrom，虚拟机中则会指向虚拟盘。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ll /dev/cdrom</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/ll.jpg" title="sr0"><p>注：可以看到/dev/cdrom实际上是sr0的符号链接。而我们虚拟中光驱的位置是sr1</p></li><li><p>要使用光驱里的镜像文件，需要将它挂载到当前系统上。这个挂载位置称为挂载点，通常是在 /mnt/ 或者 /media/ 目录下，创建一个子目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/cdrom</span><br></pre></td></tr></table></figure></li><li><p>手动挂载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sr1 /mnt/cdrom</span><br></pre></td></tr></table></figure></li><li><p>开启激动自动挂载</p><p>编辑文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/fstab/</span><br></pre></td></tr></table></figure><p>写入</p><p><code>/dev/sr1 /mnt/cdrom iso9660 defaults 0 1</code></p></li></ul><table><thead><tr><th>设备位置</th><th>挂载点</th><th>文件系统</th><th>挂载选项</th><th>是否备份</th><th>检查文件系统的顺序</th></tr></thead><tbody><tr><td>/dev/sr1</td><td>/mnt/cdrom</td><td>iso9660</td><td>defaults</td><td>0</td><td>1</td></tr></tbody></table><ul><li><p>查看挂载并生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -a</span><br></pre></td></tr></table></figure><p>注：CentOS7如果不执行这个命令直接重启可能会出现一些错误。</p></li></ul><h3 id="设置本地源"><a href="#设置本地源" class="headerlink" title="设置本地源"></a>设置本地源</h3><ul><li><p>新建本地源文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum.repos.d/CentOS-Local.repo</span><br></pre></td></tr></table></figure><blockquote><p>[Local]<br>name=local yum<br>baseurl=file:///mnt/cdrom<br>gpgcheck=1<br>gpgkey=file:///etc/pki/rpm-gpg/RPM-KEY-CentOS-7<br>enbled=1</p></blockquote></li></ul><table><thead><tr><th>字段</th><th>解释</th></tr></thead><tbody><tr><td>[ ]</td><td>软件仓库服务器的id，保证不能已有的仓库id名重复</td></tr><tr><td>name</td><td>是仓库的名字，也任意</td></tr><tr><td>baseurl</td><td>基础路径。它支持三种协议http、ftp、file。图中的file:///mnt/cdrom分成两段来理解：file://(协议名) ， /mnt/cdrom（挂载点）。若有多个baseurl则依次写出</td></tr><tr><td>gpgcheck</td><td>gpg密钥检查字段，值1为则检查gpg密钥，0为不检查</td></tr><tr><td>gpgkey</td><td>gpg密钥所在路径。最后的文件名可能不同centos版本不同。提前检查一下你的/etc/pki/rpm-gpg目录中的文件</td></tr><tr><td>enable</td><td>是否启用该仓库服务器，值为1则启用，0为不启用</td></tr></tbody></table><ul><li><p>生成元数据缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/local_source_cache.jpg" title="本地源元数据缓存生成"></li><li><p>查看软件仓库源状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist all</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/local_source_enable.jpg" title="本地源已启用"></li><li><p>测试</p><img src="/contents/20190321110041/local_source_test.jpg" title="本地源测试"></li></ul><h2 id="局域网软件仓库源"><a href="#局域网软件仓库源" class="headerlink" title="局域网软件仓库源"></a>局域网软件仓库源</h2><ul><li>使用ftp、nginx或Apache服务器，启用并配置可访问到挂载文件夹，在指定baseurl即可。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;设置yum阿里源或本地源&quot;&gt;&lt;a href=&quot;#设置yum阿里源或本地源&quot; class=&quot;headerlink&quot; title=&quot;设置yum阿里源或本地源&quot;&gt;&lt;/a&gt;设置yum阿里源或本地源&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="yum源" scheme="https://blog.jyusun.com/tags/yum%E6%BA%90/"/>
    
      <category term="yum本地源" scheme="https://blog.jyusun.com/tags/yum%E6%9C%AC%E5%9C%B0%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-Next7.0主题博客优化</title>
    <link href="https://blog.jyusun.com/contents/20190320112238.html"/>
    <id>https://blog.jyusun.com/contents/20190320112238.html</id>
    <published>2019-03-20T03:22:38.000Z</published>
    <updated>2019-03-20T03:22:38.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo-Next7-0主题博客优化"><a href="#Hexo-Next7-0主题博客优化" class="headerlink" title="Hexo-Next7.0主题博客优化"></a>Hexo-Next7.0主题博客优化</h1><h2 id="基础路径说明"><a href="#基础路径说明" class="headerlink" title="基础路径说明"></a>基础路径说明</h2><table><thead><tr><th>名称</th><th>文件</th><th>URL</th></tr></thead><tbody><tr><td>根路径</td><td>BLOG_HEXO</td><td>BLOG_HEXO/</td></tr><tr><td>站点配置文件</td><td>_config.yml</td><td>BLOG_HEXO/_config.yml</td></tr><tr><td>主题配置文件</td><td>_config.yml</td><td>BLOG_HEXO/themes/next/_config.yml</td></tr></tbody></table><p>注：下文中术语以此为准自行匹配</p><h2 id="Hexo站点配置"><a href="#Hexo站点配置" class="headerlink" title="Hexo站点配置"></a>Hexo站点配置</h2><h3 id="站点基础配置"><a href="#站点基础配置" class="headerlink" title="站点基础配置"></a>站点基础配置</h3><ul><li><p>Site</p><blockquote><p>title: EvanSun Home<br>subtitle: 记录、分享<br>description: 男人有实力，才有魅力~<br>keywords:<br>author: evansun<br>language: zh-Hans #指定语言<br>timezone: Asia/Shanghai #指定时区</p></blockquote></li></ul><h3 id="URL访问配置"><a href="#URL访问配置" class="headerlink" title="URL访问配置"></a>URL访问配置</h3><ul><li><p>站点配置文件，关键字：<code>URL</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">url: https://blog.jyusun.com</span><br><span class="line">root: /</span><br><span class="line">permalink: contents/:id.html</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure></li></ul><h3 id="指定next主题"><a href="#指定next主题" class="headerlink" title="指定next主题"></a>指定next主题</h3><ul><li><p>克隆next主题到themes文件夹下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，关键字：<code>theme</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure></li></ul><h3 id="指定next-Pisces模板"><a href="#指定next-Pisces模板" class="headerlink" title="指定next-Pisces模板"></a>指定next-Pisces模板</h3><ul><li><p>主题配置文件，关键字：<code>Schemes</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">scheme: Pisces  #打开前面的注释</span><br><span class="line">#scheme: Gemini</span><br></pre></td></tr></table></figure></li></ul><h3 id="部署设置"><a href="#部署设置" class="headerlink" title="部署设置"></a>部署设置</h3><ul><li><p>站点配置文件，关键字：<code>deploy</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:jyusun/blog.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></li></ul><h3 id="文章生成位置及名称"><a href="#文章生成位置及名称" class="headerlink" title="文章生成位置及名称"></a>文章生成位置及名称</h3><ul><li><p>站点配置文件，设置文章生成位置及名称，关键字：<code>new_post_name</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new_post_name: :year:month:day-:title/index.md # File name of new posts</span><br></pre></td></tr></table></figure><p>生成效果：20190319-测试文件/index.md</p></li></ul><h2 id="菜单栏设置"><a href="#菜单栏设置" class="headerlink" title="菜单栏设置"></a>菜单栏设置</h2><h3 id="设置展示菜单"><a href="#设置展示菜单" class="headerlink" title="设置展示菜单"></a>设置展示菜单</h3><ul><li><p>增加菜单<code>主题/languages/zh-CH.yml</code>，关键字：<code>menu</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">home: 首页</span><br><span class="line">  archives: 归档</span><br><span class="line">  categories: 分类</span><br><span class="line">  tags: 标签</span><br><span class="line">  about: 关于</span><br><span class="line">  search: 搜索</span><br><span class="line">  schedule: 日程表</span><br><span class="line">  sitemap: 站点地图</span><br><span class="line">  commonweal: 公益404</span><br><span class="line">  test: 测试新增</span><br></pre></td></tr></table></figure><p>注：由于上面站点基础配置中指定了语言zh-CH，所以本文以此为例。</p></li><li><p>主题配置文件，关键字：<code>menu</code>打开需要菜单的注释</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  schedule: /schedule/ || calendar</span><br><span class="line">  sitemap: /sitemap.xml || sitemap</span><br><span class="line">  commonweal: /404/ || heartbeat</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  test: /test/ || test</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置文章分类页面"><a href="#设置文章分类页面" class="headerlink" title="设置文章分类页面"></a>设置文章分类页面</h3><ul><li><p>新建分类页面<code>categories</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page categories</span><br></pre></td></tr></table></figure><p>注：根路径下执行此命令</p></li><li><p>修改页面内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">​</span><br></pre></td></tr></table></figure><p>title: 文章分类<br>date: 2018-07-19 14:08:34<br>type: “categories”<br>​<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> </span><br></pre></td></tr></table></figure></p><p>注：使用时在文章标题处指定<code>categories</code>标签即可</p></li></ul><h3 id="站点地图"><a href="#站点地图" class="headerlink" title="站点地图"></a>站点地图</h3><ul><li><p>安装插件，分别适用于谷歌和百度生成站点地图便于爬虫爬取</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Plugins:</span><br><span class="line">  - hexo-generator-baidu-sitemap</span><br><span class="line">  - hexo-generator-sitemap</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br></pre></td></tr></table></figure></li></ul><h3 id="公益404"><a href="#公益404" class="headerlink" title="公益404"></a>公益404</h3><ul><li>待续…</li></ul><h3 id="添加站内搜索功能"><a href="#添加站内搜索功能" class="headerlink" title="添加站内搜索功能"></a>添加站内搜索功能</h3><ul><li><p>下载插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 设置站内搜索</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，关键字：<code>local_search</code>，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><br><span class="line">local_search:</span><br><span class="line">  enable: true  #设置为true</span><br><span class="line">  # If auto, trigger search by changing input.</span><br><span class="line">  # If manual, trigger search by pressing enter key or search button.</span><br><span class="line">  trigger: auto</span><br><span class="line">  # Show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  # Unescape html strings to the readable one.</span><br><span class="line">  unescape: false</span><br></pre></td></tr></table></figure></li></ul><h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><h3 id="设置头像"><a href="#设置头像" class="headerlink" title="设置头像"></a>设置头像</h3><ul><li><p>主题配置文件，关键字：<code>Sidebar Avatar</code></p><p>avatar指定本地图片,把图片放入 <code>themes/next/source/images</code> 下,修改 <code>avatar</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">avatar: </span><br><span class="line">  url: /images/touxiang.png</span><br><span class="line">  rounded: false</span><br><span class="line">  opacity: 1</span><br><span class="line">  rotated: false</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置侧边社交连接"><a href="#设置侧边社交连接" class="headerlink" title="设置侧边社交连接"></a>设置侧边社交连接</h3><ul><li><p>主题配置文件，关键字： <code>Social Links</code>，根据需要打开注释，调整为自己的地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/jyusun || github</span><br><span class="line">  E-Mail: mailto:mr.evansun@foxmail.com || envelope</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置侧边栏社交样式"><a href="#设置侧边栏社交样式" class="headerlink" title="设置侧边栏社交样式"></a>设置侧边栏社交样式</h3><ul><li><p>主题配置文件，关键字： <code>social_icons</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">social_icons:</span><br><span class="line">  enable: true      #`true`显示图标，`false`只显示名称</span><br><span class="line">  icons_only: false  #`true`只展示图标，`false`显示图标及名称</span><br><span class="line">  transition: false</span><br></pre></td></tr></table></figure></li></ul><h3 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h3><ul><li><p>安装feed插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># feed</span><br><span class="line"># Dependencies: https://github.com/hexojs/hexo-generator-feed</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: &apos; &apos;</span><br><span class="line">  order_by: -date</span><br><span class="line">  icon: icon.png</span><br></pre></td></tr></table></figure></li></ul><h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><ul><li><p>主题配置文件，关键字：<code>Blog rolls</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Blog rolls</span><br><span class="line">links_icon: link</span><br><span class="line">links_title: Links</span><br><span class="line">links_layout: block</span><br><span class="line">#links_layout: inline</span><br><span class="line">links:</span><br><span class="line">  开源中国: https://www.oschina.net/</span><br><span class="line">  百度: http://baidu.com/</span><br><span class="line">  搜狗: https://www.sogou.com/</span><br></pre></td></tr></table></figure></li></ul><h2 id="底部设置"><a href="#底部设置" class="headerlink" title="底部设置"></a>底部设置</h2><h3 id="推广链接功能"><a href="#推广链接功能" class="headerlink" title="推广链接功能"></a>推广链接功能</h3><ul><li><p><code>主题/layout/_macro</code>路径下新增<code>advert.swig</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;# Gallery support #&#125;</span><br><span class="line">&#123;% if config.advert %&#125;</span><br><span class="line">&lt;div class=&quot;post-gallery&quot; itemscope itemtype=&quot;http://schema.org/ImageGallery&quot;&gt;</span><br><span class="line">  &#123;% set COLUMN_NUMBER = 3 %&#125;</span><br><span class="line">  &#123;% for advert, link in config.advert %&#125;</span><br><span class="line">&#123;% if loop.index0 % COLUMN_NUMBER === 0 %&#125;&lt;div class=&quot;post-gallery-row&quot;&gt;&#123;% endif %&#125;</span><br><span class="line">  &lt;a class=&quot;post-gallery-img fancybox&quot;</span><br><span class="line"> href=&quot;&#123;&#123; link.split(&apos;||&apos;)[1] | trim &#125;&#125;&quot; rel=&quot;gallery_&#123;&#123; post._id &#125;&#125;&quot; target=&quot;_blank&quot;</span><br><span class="line"> itemscope itemtype=&quot;http://schema.org/ImageObject&quot; itemprop=&quot;url&quot;&gt;</span><br><span class="line">&lt;img src=&quot;&#123;&#123; link.split(&apos;||&apos;)[0] | trim &#125;&#125;&quot; itemprop=&quot;contentUrl&quot; alt=&quot;&#123;&#123;advert&#125;&#125;&quot;/&gt;</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line">&#123;% if loop.index0 % COLUMN_NUMBER === 2 %&#125;&lt;/div&gt;&#123;% endif %&#125;</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;# Append end tag for `post-gallery-row` when (photos size mod COLUMN_NUMBER) is less than COLUMN_NUMBER #&#125;</span><br><span class="line">  &#123;% if config.advert.length % COLUMN_NUMBER &gt; 0 %&#125;&lt;/div&gt;&#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>将代码插入<code>主题/layout/_macro/post.swig</code>文件中，关键字：<code>theme.wechat_subscriber.enabled</code>上方</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.advert.enable and not is_index%&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &#123;% include &apos;advert.swig&apos; %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增用于控制推广功能开关</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">advert:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，新增推广内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">advert:</span><br><span class="line">天猫618: https://gw.alicdn.com/tfs/TB1p12MsQ9WBuNjSspeXXaz5VXa-440-180.jpg || https://s.click.taobao.com/t?e=m%3D2%26s%3DQ7%2BOxHRJNU8cQipKwQzePCperVdZeJviK7Vc7tFgwiFRAdhuF14FMSjJriMKVvzd5x%2BIUlGKNpUKzRB5pSb%2B3oLgBNn%2Fh8Y9fs5VlYBlFz5kblEZQzGoFcs%2Fhc73tO6KVYo%2BqyT%2FBa1NrKwvDJNPXkIGbLNY5ut4zueC0P1cNS9iw0%2FdWyiVaogaseAKBk0cTbU9KzMTtxpe7auY0HPYWszlTEcWhO9mCmht7GX%2FH9k%3D</span><br><span class="line">2018年618理想生活狂欢季——聚划算主会场: https://img.alicdn.com/tfs/TB125UMsMmTBuNjy1XbXXaMrVXa-440-180.jpg || https://s.click.taobao.com/t?e=m%3D2%26s%3D2c9N%2F89tPiMcQipKwQzePCperVdZeJviK7Vc7tFgwiFRAdhuF14FMXJZeCVJPqDB8sviUM61dt0KzRB5pSb%2B3oLgBNn%2Fh8Y9fs5VlYBlFz5kblEZQzGoFcs%2Fhc73tO6KVYo%2BqyT%2FBa1NrKwvDJNPXkIGbLNY5ut4zueC0P1cNS%2B%2BUEclaRYva8F8WBkZipnv9sOkOOEWZ4E%2FnCA8IhtTQhnqXdg7YFDycSpj5qSCmbA%3D</span><br><span class="line">2018年618理想生活狂欢节—消费电子主会场: https://img.alicdn.com/tfs/TB1GnfasntYBeNjy1XdXXXXyVXa-440-180.jpg || https://s.click.taobao.com/t?e=m%3D2%26s%3D5xcD%2FIEjdhYcQipKwQzePCperVdZeJviK7Vc7tFgwiFRAdhuF14FMUG5eE0BPbCdxq3IhSJN6GQKzRB5pSb%2B3oLgBNn%2Fh8Y9fs5VlYBlFz5kblEZQzGoFcs%2Fhc73tO6KVYo%2BqyT%2FBa1NrKwvDJNPXkIGbLNY5ut4zueC0P1cNS%2B6zThPYvErzhJBFs1%2FyLxVPxey8%2Bhd8pyvTW5l3DCD30V92HL3DKLNSqwyt%2BH6DtO%2FMqT4SeHHMKTHNVRq3ENViYq%2BoOM2USF%2Bn%2B1pvicu6FXll1U39L8dNcwDbqGDeU3JefVee9XDEgxYVk%2BaFSeXxiXvDf8DaRs%3D</span><br></pre></td></tr></table></figure></li></ul><h3 id="文章末尾加上”本文结束”字样"><a href="#文章末尾加上”本文结束”字样" class="headerlink" title="文章末尾加上”本文结束”字样"></a>文章末尾加上”本文结束”字样</h3><ul><li><p><code>主题/layout/_macro</code>，新增<code>passage-end-tag.swig</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index %&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;------本文结束------&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>将代码插入<code>主题/layout/_macro/post.swig</code>文件中，关键字：<code>END POST BODY</code>下方</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.passage-end-tag.enable and not is_index %&#125;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">&#123;% include &apos;passage-end-tag.swig&apos; %&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 文章末尾添加“本文结束”标记</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure></li></ul><h3 id="底部标签"><a href="#底部标签" class="headerlink" title="底部标签"></a>底部标签</h3><ul><li><p>底部带有#号的标签<code>主题/layout/_macro/post.swig</code>，关键字：<code>post-footer</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 替换为 &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="底部统计"><a href="#底部统计" class="headerlink" title="底部统计"></a>底部统计</h3><ul><li><code>主题/layout/_partials/footer.swig</code></li></ul><h2 id="首页文章样式"><a href="#首页文章样式" class="headerlink" title="首页文章样式"></a>首页文章样式</h2><h3 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h3><ul><li><p>新增内容<code>主题/source/css/_custom/custom.styl</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line">.post &#123;</span><br><span class="line">   margin-top: 0px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="隐藏文章与文章间分割线"><a href="#隐藏文章与文章间分割线" class="headerlink" title="隐藏文章与文章间分割线"></a>隐藏文章与文章间分割线</h3><ul><li><p>修改内容<code>主题/source/css/_common/components/post/post-eof.styl</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.posts-expand &#123;</span><br><span class="line">  .post-eof &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    margin: $post-eof-margin-top auto $post-eof-margin-bottom;</span><br><span class="line">    width: 0%;</span><br><span class="line">    height: 0px;</span><br><span class="line">    background: $grey-light;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="首页自动形成摘要"><a href="#首页自动形成摘要" class="headerlink" title="首页自动形成摘要"></a>首页自动形成摘要</h3><ul><li><p>主题配置文件，关键字：<code>auto_excerpt</code>，文章前150字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">  enable: true</span><br><span class="line">  length: 150</span><br></pre></td></tr></table></figure></li></ul><h2 id="写作样式"><a href="#写作样式" class="headerlink" title="写作样式"></a>写作样式</h2><h3 id="文内图片引用"><a href="#文内图片引用" class="headerlink" title="文内图片引用"></a>文内图片引用</h3><ul><li><p>站点配置文件，关键字：<code>post_asset_folder</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure></li><li><p>执行新建命令时会创建同名文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n &lt;title&gt;</span><br></pre></td></tr></table></figure></li><li><p>将图片放入同名文件夹下，文章内图片相对引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img 图片名称.jpg 图片描述 %&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="文内超链接"><a href="#文内超链接" class="headerlink" title="文内超链接"></a>文内超链接</h3><ul><li><p>文内超链接</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[TextUrl](https://blog.jyusun.com/)</span><br></pre></td></tr></table></figure></li></ul><h2 id="博客功能"><a href="#博客功能" class="headerlink" title="博客功能"></a>博客功能</h2><h3 id="文章浏览显示进度百分比"><a href="#文章浏览显示进度百分比" class="headerlink" title="文章浏览显示进度百分比"></a>文章浏览显示进度百分比</h3><ul><li><p>主题配置文件，关键字： <code>scrollpercent</code> ，将 <code>false</code> 改为 <code>true</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Scroll percent label in b2t button.</span><br><span class="line">scrollpercent: true</span><br></pre></td></tr></table></figure></li><li><p>如果想要把百分比在左边显示，关键字：<code>b2t</code>将false改为true</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Back to top in sidebar (only for Pisces | Gemini).</span><br><span class="line">b2t: true</span><br></pre></td></tr></table></figure></li></ul><h3 id="开启版权声明"><a href="#开启版权声明" class="headerlink" title="开启版权声明"></a>开启版权声明</h3><ul><li><p>主题配置文件下，关键字 <code>creative_commons</code> </p><blockquote><p>creative_commons:<br>  license: by-nc-sa<br>  sidebar: true<br>  post: true<br>  language: zh-CN</p></blockquote></li></ul><h3 id="打赏功能"><a href="#打赏功能" class="headerlink" title="打赏功能"></a>打赏功能</h3><ul><li><p>文章底部打赏共功能，关键字：<code>Reward</code>。把二维码图片放入 <code>主题/source/images</code> 下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reward:</span><br><span class="line">  wechatpay: /images/wechatpay.jpg</span><br><span class="line">  alipay: /images/alipay.jpg</span><br></pre></td></tr></table></figure></li><li><p>禁止鼠标悬浮二维码上底部文字抖动，主题配置文件：，关键字：<code>animation</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Reward (Donate)</span><br><span class="line">reward_settings:</span><br><span class="line">  # If true, reward would be displayed in every article by default.</span><br><span class="line">  # You can show or hide reward in a specific article throuth `reward: true | false` in Front Matter.</span><br><span class="line">  enable: true</span><br><span class="line">  animation: false</span><br><span class="line">  comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</span><br></pre></td></tr></table></figure></li></ul><h3 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h3><h3 id="在线沟通"><a href="#在线沟通" class="headerlink" title="在线沟通"></a>在线沟通</h3><ul><li><p><code>主题/layout/_partials/head/</code>，新增文件<code>daovoice.swig</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m)&#123;i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)&#125;)(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, &#123;</span><br><span class="line">      app_id: &quot;&#123;&#123;theme.daovoice.appid&#125;&#125;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>主题/layout/_partials/head/head.swig</code>添加引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice.enable %&#125;</span><br><span class="line">&#123;% include &apos;daovoice.swig&apos; %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">daovoice:</span><br><span class="line">  enable: true</span><br><span class="line">  appid: asdqw5 #你的id</span><br></pre></td></tr></table></figure></li></ul><h3 id="分享功能"><a href="#分享功能" class="headerlink" title="分享功能"></a>分享功能</h3><ul><li><p>主题配置文件，关键字：<code>baidushare</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">baidushare：</span><br><span class="line">  type: button</span><br><span class="line">  baidushare: true</span><br></pre></td></tr></table></figure></li></ul><h3 id="文章内链接文本样式"><a href="#文章内链接文本样式" class="headerlink" title="文章内链接文本样式"></a>文章内链接文本样式</h3><ul><li><p>修改文件<code>主题/source/css/_common/components/post/post.styl</code>，在末尾添加css样式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.post-body p a&#123;</span><br><span class="line">  color: #0593d3;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: #fc6423;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>其中选择.post-body 是为了不影响标题，选择 p 是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。</p><h3 id="博文压缩"><a href="#博文压缩" class="headerlink" title="博文压缩"></a>博文压缩</h3><ul><li>安装gulp</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp -g</span><br><span class="line">$ npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></table></figure><ul><li>hexo主目录下新建gulpfile.js文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var gulp = require(&apos;gulp&apos;);</span><br><span class="line">var minifycss = require(&apos;gulp-minify-css&apos;);</span><br><span class="line">var uglify = require(&apos;gulp-uglify&apos;);</span><br><span class="line">var htmlmin = require(&apos;gulp-htmlmin&apos;);</span><br><span class="line">var htmlclean = require(&apos;gulp-htmlclean&apos;);</span><br><span class="line">// 压缩 public 目录 css</span><br><span class="line">gulp.task(&apos;minify-css&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/**/*.css&apos;)</span><br><span class="line">        .pipe(minifycss())</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩 public 目录 html</span><br><span class="line">gulp.task(&apos;minify-html&apos;, function() &#123;</span><br><span class="line">  return gulp.src(&apos;./public/**/*.html&apos;)</span><br><span class="line">    .pipe(htmlclean())</span><br><span class="line">    .pipe(htmlmin(&#123;</span><br><span class="line">         removeComments: true,</span><br><span class="line">         minifyJS: true,</span><br><span class="line">         minifyCSS: true,</span><br><span class="line">         minifyURLs: true,</span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(gulp.dest(&apos;./public&apos;))</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩 public/js 目录 js</span><br><span class="line">gulp.task(&apos;minify-js&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/**/*.js&apos;)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;));</span><br><span class="line">&#125;);</span><br><span class="line">// 执行 gulp 命令时执行的任务</span><br><span class="line">gulp.task(&apos;default&apos;, [</span><br><span class="line">    &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>生成博文是执行 hexo g &amp;&amp; gulp 就会根据 gulpfile.js 中的配置，对 public 目录中的静态资源文件进行压缩。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo-Next7-0主题博客优化&quot;&gt;&lt;a href=&quot;#Hexo-Next7-0主题博客优化&quot; class=&quot;headerlink&quot; title=&quot;Hexo-Next7.0主题博客优化&quot;&gt;&lt;/a&gt;Hexo-Next7.0主题博客优化&lt;/h1&gt;&lt;h2 id=&quot;基
      
    
    </summary>
    
      <category term="实用工具" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
      <category term="个人博客" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo" scheme="https://blog.jyusun.com/tags/hexo/"/>
    
      <category term="next" scheme="https://blog.jyusun.com/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>大数据学习-Hadoop-高可用（HA）集群搭建</title>
    <link href="https://blog.jyusun.com/contents/20190228112031.html"/>
    <id>https://blog.jyusun.com/contents/20190228112031.html</id>
    <published>2019-02-28T03:19:31.000Z</published>
    <updated>2019-02-28T03:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hadoop-高可用（HA）集群搭建"><a href="#Hadoop-高可用（HA）集群搭建" class="headerlink" title="Hadoop-高可用（HA）集群搭建"></a>Hadoop-高可用（HA）集群搭建</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h2><h3 id="软件及环境准备"><a href="#软件及环境准备" class="headerlink" title="软件及环境准备"></a>软件及环境准备</h3><table><thead><tr><th>软件名称</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td>VirtualBox或VMware</td><td>14</td><td></td></tr><tr><td>CentOS7</td><td>7.5</td><td></td></tr><tr><td>JDK</td><td>1.8</td><td></td></tr><tr><td>Hadoop</td><td>3.1.2</td><td>hadoop-3.1.2.tar.gz</td></tr><tr><td></td><td></td></tr></tbody></table><h3 id="机器节点规划"><a href="#机器节点规划" class="headerlink" title="机器节点规划"></a>机器节点规划</h3><ul><li>Hadoop五个节点HA规划</li></ul><table><thead><tr><th>HostName</th><th style="text-align:left">IP</th><th>NameNode</th><th>DataNode</th><th>ZooKeeper</th><th>ZKFC</th><th>JouaryNode</th></tr></thead><tbody><tr><td>node1</td><td style="text-align:left">192.168.233.101</td><td>*</td><td></td><td></td><td>*</td><td></td></tr><tr><td>node2</td><td style="text-align:left">192.168.233.102</td><td>*</td><td></td><td></td><td>*</td><td></td></tr><tr><td>node3</td><td style="text-align:left">192.168.233.103</td><td></td><td>*</td><td>*</td><td></td><td>*</td></tr><tr><td>node4</td><td style="text-align:left">192.168.233.104</td><td></td><td>*</td><td>*</td><td></td><td>*</td></tr><tr><td>node5</td><td style="text-align:left">192.168.233.105</td><td></td><td>*</td><td>*</td><td></td><td>*</td></tr></tbody></table><p>注：ZooKeeper和JouaryNode是可以共享的</p><h3 id="相关路径创建"><a href="#相关路径创建" class="headerlink" title="相关路径创建"></a>相关路径创建</h3><ul><li>基础软件安装配置路径</li></ul><table><thead><tr><th>路径</th><th>注释</th></tr></thead><tbody><tr><td>/opt/basics</td><td>基础路径</td></tr><tr><td>/opt/basics/java/</td><td>JDK路径</td></tr><tr><td>/opt/bigdata/hadoop/</td><td>Hadoop路径</td></tr><tr><td>/opt/bigdata/zookeeper/</td><td>ZooKeeper安装路径</td></tr></tbody></table><h2 id="系统基础配置（root用户）"><a href="#系统基础配置（root用户）" class="headerlink" title="系统基础配置（root用户）"></a>系统基础配置（root用户）</h2><h3 id="基本组件安装"><a href="#基本组件安装" class="headerlink" title="基本组件安装"></a>基本组件安装</h3><ul><li><p>安装net-tools vim wge ntp 等基础工具</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y net-tools vim* wget ntp telnet</span><br></pre></td></tr></table></figure><p>注：如果系统是最小化安装的，以上工具组件可能没有集成，需要另外安装</p></li></ul><h3 id="设置HostName和Hosts"><a href="#设置HostName和Hosts" class="headerlink" title="设置HostName和Hosts"></a>设置HostName和Hosts</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190213131719.html">链接-CentOS7设置hostname和hosts</a></p></li><li><p>根据规划将下面内容写入hosts</p><blockquote><p>192.168.233.101 node1<br>192.168.233.102 node2<br>192.168.233.103 node3<br>192.168.233.104 node4<br>192.168.233.105 node5</p></blockquote></li></ul><h3 id="关闭SELINUX"><a href="#关闭SELINUX" class="headerlink" title="关闭SELINUX"></a>关闭SELINUX</h3><ul><li><p>临时关闭</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br></pre></td></tr></table></figure></li><li><p>永久关闭</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/selinux/config</span><br></pre></td></tr></table></figure><blockquote><p>SELINUX=disabled          #将SELINUX的值由enforcing改为disabled</p></blockquote></li></ul><h3 id="设置静态IP地址"><a href="#设置静态IP地址" class="headerlink" title="设置静态IP地址"></a>设置静态IP地址</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190217112031.html">链接-设置静态IP地址</a></p><p>注：IP根据自己的节点规划进行相应的配置</p></li></ul><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><ul><li><a href="http://blog.jyusun.com/contents/20190218122031.html">链接-关闭防火墙</a></li></ul><h3 id="配置免密登陆"><a href="#配置免密登陆" class="headerlink" title="配置免密登陆"></a>配置免密登陆</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190218182031.html">链接-配置免密登陆</a></p><p>需要免密钥的两种场景：</p><blockquote><ol><li><p>管理脚本：远程管理其他节点启停服务时需要免密钥</p></li><li><p>NameNode：搭建HA的时候，需要免密钥控制对方和自己</p></li></ol></blockquote></li></ul><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="JDK环境配置"><a href="#JDK环境配置" class="headerlink" title="JDK环境配置"></a>JDK环境配置</h3><ul><li><a href="http://blog.jyusun.com/contents/20190219202025.html">链接-Linux安装配置JDK1.8</a></li></ul><h3 id="ZooKeeper分布式集群搭建配置"><a href="#ZooKeeper分布式集群搭建配置" class="headerlink" title="ZooKeeper分布式集群搭建配置"></a>ZooKeeper分布式集群搭建配置</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190220202125.html">链接-Linux下ZooKeeper分布式集群搭建</a></p><p>注：根据节点规划，调整相应的配置</p></li></ul><h2 id="Hadoop相关配置"><a href="#Hadoop相关配置" class="headerlink" title="Hadoop相关配置"></a>Hadoop相关配置</h2><h3 id="安装及环境变量配置"><a href="#安装及环境变量配置" class="headerlink" title="安装及环境变量配置"></a>安装及环境变量配置</h3><ul><li><p>创建Hadoop路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/basics/hadoop/</span><br></pre></td></tr></table></figure></li><li><p>将事先准备好的hadoop-3.1.2.tar.gz文件上传至/opt/basics/hadoop路径</p></li><li><p>执行解压命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf hadoop-3.1.2.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>配置环境变量，在末尾追加hadoop相关配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><blockquote><p>HADOOP_HOME=/opt/basics/hadoop/hadoop-3.1.2<br>HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop<br>YARN_CONF_DIR=$HADOOP_HOME/etc/hadoop<br>PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH<br>export HADOOP_HOME HADOOP_CONF_DIR YARN_CONF_DIR PATH</p></blockquote></li><li><p>使配置立即生效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>验证是否安装成功</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure></li></ul><h3 id="Hadoop配置"><a href="#Hadoop配置" class="headerlink" title="Hadoop配置"></a>Hadoop配置</h3><ul><li><p>切换到hadoop路径下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd $HADOOP_HOME/etc/hadoop</span><br></pre></td></tr></table></figure><p>注：本章节下文配置均在此目录中</p><p>| 涉及文件      | 描述                      |<br>| ————- | ————————- |<br>| hadoop-env.sh |                           |<br>| core-site.xml |                           |<br>| workers       | DataNode节点信息          |<br>| hdfs-site.xml | SecondaryNameNode相应内容 |<br>|               |                           |<br>|               |                           |</p><p>​        </p></li><li><p>编辑core-site.xml文件，配置NameNode相应内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi core-site.xml</span><br></pre></td></tr></table></figure><blockquote><configuration><br>        <!-- 指定namenode的地址--><br>        <property><br>                <name>fs.defaultFS</name><br>                <value>hdfs://node1:9000</value><br>        </property><br>        <!-- 临时目录设定，为hadoop文件基础路径 --><br>        <property><br>                <name>hadoop.tmp.dir</name><br>                <value>/var/bigdata/hdfs/full</value><br>        </property><br>        <!-- 流文件缓冲区 4K --><br>        <property><br>                <name>io.file.buffer.size</name><br>                <value>4096</value><br>        </property><br></configuration></blockquote></li><li><p>编辑workers文件，配置DataNode相应内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi workers</span><br></pre></td></tr></table></figure><blockquote><p>node3</p><p>node4</p><p>node5</p></blockquote></li><li><p>编辑hdfs-site.xml文件，配置SecondaryNameNode相应内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi hdfs-site.xml</span><br></pre></td></tr></table></figure><blockquote><configuration><br>        <!-- 配置系统自动数据备份数量为3份（默认是3份） --><br>        <property><br>                <name>dfs.replication</name><br>                <value>3</value><br>        </property><br>        <!-- SecondaryNameNode地址 配置为节点2 --><br>        <property><br>                <name>dfs.namenode.secondary.http-address</name><br>                <value>node2:9001</value><br>        </property><br>        <!-- 不区分端口，直接使用namenode的IP和端口进行所有的webhdfs操作 --><br>        <property><br>                <name>dfs.webhdfs.enabled</name><br>                <value>true</value><br>        </property><br></configuration></blockquote></li></ul><h2 id="格式化NameNode"><a href="#格式化NameNode" class="headerlink" title="格式化NameNode"></a>格式化NameNode</h2><ul><li><p>执行格式化NameNode</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure></li><li><p>启动hdfs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br></pre></td></tr></table></figure></li></ul><h2 id="访问hdfs"><a href="#访问hdfs" class="headerlink" title="访问hdfs"></a>访问hdfs</h2><ul><li><p>访问下面地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.233.101:9870</span><br></pre></td></tr></table></figure><p>注：Hadoop从3.1.0开始hdfs默认访问端口从50070改为9870</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hadoop-高可用（HA）集群搭建&quot;&gt;&lt;a href=&quot;#Hadoop-高可用（HA）集群搭建&quot; class=&quot;headerlink&quot; title=&quot;Hadoop-高可用（HA）集群搭建&quot;&gt;&lt;/a&gt;Hadoop-高可用（HA）集群搭建&lt;/h1&gt;&lt;h2 id=&quot;前
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="BigData" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/BigData/"/>
    
      <category term="Hadoop" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/BigData/Hadoop/"/>
    
    
      <category term="hadoop" scheme="https://blog.jyusun.com/tags/hadoop/"/>
    
      <category term="搭建" scheme="https://blog.jyusun.com/tags/%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>Linux下ZooKeeper分布式集群搭建</title>
    <link href="https://blog.jyusun.com/contents/20190220202125.html"/>
    <id>https://blog.jyusun.com/contents/20190220202125.html</id>
    <published>2019-02-20T12:21:25.000Z</published>
    <updated>2019-02-20T12:21:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ZooKeeper分布式集群搭建"><a href="#ZooKeeper分布式集群搭建" class="headerlink" title="ZooKeeper分布式集群搭建"></a>ZooKeeper分布式集群搭建</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h2><h3 id="软件及环境准备"><a href="#软件及环境准备" class="headerlink" title="软件及环境准备"></a>软件及环境准备</h3><table><thead><tr><th>软件名称</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td>CentOS</td><td>7.5</td><td>虚拟机节点3个且配置了JDK环境-<a href="https://blog.jyusun.com/contents/20190219202025.html">Linux安装配置JDK1.8</a> （zookeeper需要依赖jdk）</td></tr><tr><td>zookeeper</td><td>3.4.13</td><td>zookeeper-3.4.13.tar.gz</td></tr></tbody></table><h3 id="机器节点规划"><a href="#机器节点规划" class="headerlink" title="机器节点规划"></a>机器节点规划</h3><table><thead><tr><th>HostName</th><th>IP</th><th>描述</th></tr></thead><tbody><tr><td>zknode1</td><td>192.168.233.101</td><td>第一个节点</td></tr><tr><td>zknode2</td><td>192.168.233.102</td><td>第二个节点</td></tr><tr><td>zknode3</td><td>192.168.233.103</td><td>第三个节点</td></tr></tbody></table><p>注：根据规划为每个节点配置相应的HostName及IP地址</p><h3 id="相关路径创建"><a href="#相关路径创建" class="headerlink" title="相关路径创建"></a>相关路径创建</h3><ul><li><p>创建zookeeper安装路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p /opt/basics/zookeeper/</span><br></pre></td></tr></table></figure></li><li><p>创建zookeeper数据存储路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p /var/udata/zookeeper/</span><br></pre></td></tr></table></figure><p>注：由于zookeeper默认数据存储路径为/tmp下，所以我们需要调整数据存储路径</p></li></ul><h2 id="软件解压缩安装"><a href="#软件解压缩安装" class="headerlink" title="软件解压缩安装"></a>软件解压缩安装</h2><h3 id="将软件包上传至系统中"><a href="#将软件包上传至系统中" class="headerlink" title="将软件包上传至系统中"></a>将软件包上传至系统中</h3><ul><li>将下载好的软件包传至/opt/basics/zookeeper/目录中</li></ul><h3 id="解压缩包"><a href="#解压缩包" class="headerlink" title="解压缩包"></a>解压缩包</h3><ul><li><p>切换到上传路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd /opt/basics/zookeeper/</span><br></pre></td></tr></table></figure></li><li><p>解压缩包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># tar -xvzf zookeeper-3.4.13.tar.gz</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置环境变量-每个节点都需要配置"><a href="#配置环境变量-每个节点都需要配置" class="headerlink" title="配置环境变量(每个节点都需要配置)"></a>配置环境变量(每个节点都需要配置)</h2><h3 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h3><ul><li><a href="http://blog.jyusun.com/contents/2019-02-18/20190218-120022/">Linux环境变量配置文件总结</a></li></ul><h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><ul><li><p>编辑.bashrc文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>将以下文内容粘贴至配置文件末尾</p><blockquote><p>ZOOKEEPER_HOME=/opt/basics/zookeeper/zookeeper-3.4.13<br>PATH=\$ZOOKEEPER_HOME/bin:$PATH<br>export ZOOKEEPER_HOME PATH</p></blockquote></li></ul><h3 id="使修改立即生效"><a href="#使修改立即生效" class="headerlink" title="使修改立即生效"></a>使修改立即生效</h3><ul><li><p>配置文件如果有改动，需要执行一下source命令让文件生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># source ~/.bashrc</span><br></pre></td></tr></table></figure></li></ul><h2 id="ZooKeeper配置"><a href="#ZooKeeper配置" class="headerlink" title="ZooKeeper配置"></a>ZooKeeper配置</h2><h3 id="复制配置文件"><a href="#复制配置文件" class="headerlink" title="复制配置文件"></a>复制配置文件</h3><ul><li><p>切换到zookeeper配置文件路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd $ZOOKEEPER_HOME/conf</span><br></pre></td></tr></table></figure></li><li><p>复制zoo示例文件且重命名为zoo.cfg</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure></li></ul><h3 id="文件zoo-cfg配置"><a href="#文件zoo-cfg配置" class="headerlink" title="文件zoo.cfg配置"></a>文件zoo.cfg配置</h3><ul><li><p>编辑配置文件zoo.cfg</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi zoo.cfg</span><br></pre></td></tr></table></figure><ol><li><p>修改dataDir属性指定上边创建的数据存储路径</p><blockquote><p>dataDir=/var/udata/zookeeper</p></blockquote></li><li><p>在文件的末尾根据节点规划进行配置</p><blockquote><p>server.1=zknode1:2888:3888<br>server.2=zknode2:2888:3888<br>server.3=zknode3:2888:3888</p></blockquote></li></ol><p>注：此步骤配置完成，可以将此包分发至其他节点当前路径，或在其他节点根据上面配置信息依次配置即可。</p></li><li><p>数据存储位置中为节点指定id信息写入myid文件中（每个节点需要单独操作）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># echo 1 &gt; /var/udata/zookeeper/myid</span><br></pre></td></tr></table></figure><p>注：不同的节点根据实际规划情况自行指定1、2、3</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ZooKeeper分布式集群搭建&quot;&gt;&lt;a href=&quot;#ZooKeeper分布式集群搭建&quot; class=&quot;headerlink&quot; title=&quot;ZooKeeper分布式集群搭建&quot;&gt;&lt;/a&gt;ZooKeeper分布式集群搭建&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="ZooKeeper" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/ZooKeeper/"/>
    
    
      <category term="zookeeper" scheme="https://blog.jyusun.com/tags/zookeeper/"/>
    
      <category term="ZooKeeper分布式" scheme="https://blog.jyusun.com/tags/ZooKeeper%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Linux安装配置JDK1.8</title>
    <link href="https://blog.jyusun.com/contents/20190219202025.html"/>
    <id>https://blog.jyusun.com/contents/20190219202025.html</id>
    <published>2019-02-19T12:20:25.000Z</published>
    <updated>2019-02-19T12:20:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux安装配置JDK"><a href="#Linux安装配置JDK" class="headerlink" title="Linux安装配置JDK"></a>Linux安装配置JDK</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>JDK是 Java 语言的软件开发工具包，主要用于java应用程序。JDK是整个java开发的核心，它包含了JAVA的运行环境（JVM+Java系统类库）和JAVA工具，所以我们要运行一个JAVA程序的时候就要先安装一个JDK。下文主要以二进制的方式安装配置。</li></ul><h2 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h2><h3 id="软件及环境准备"><a href="#软件及环境准备" class="headerlink" title="软件及环境准备"></a>软件及环境准备</h3><table><thead><tr><th>软件名称</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td>JDK</td><td>jdk1.8.0_191</td><td>jdk-8u191-linux-x64.tar.gz</td></tr></tbody></table><h3 id="相关路径创建"><a href="#相关路径创建" class="headerlink" title="相关路径创建"></a>相关路径创建</h3><ul><li><p>创建jdk安装路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p /opt/basics/java</span><br></pre></td></tr></table></figure></li></ul><h2 id="软件解压缩安装"><a href="#软件解压缩安装" class="headerlink" title="软件解压缩安装"></a>软件解压缩安装</h2><h3 id="将软件包上传至系统中"><a href="#将软件包上传至系统中" class="headerlink" title="将软件包上传至系统中"></a>将软件包上传至系统中</h3><ul><li>下载好的软件包传至/opt/basics/java目录中</li></ul><h3 id="解压缩包"><a href="#解压缩包" class="headerlink" title="解压缩包"></a>解压缩包</h3><ul><li><p>切换到上传路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd /opt/basics/java</span><br></pre></td></tr></table></figure></li><li><p>解压缩包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># tar -xvzf jdk-8u191-linux-x64.tar.gz</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><h3 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h3><ul><li><a href="http://blog.jyusun.com/contents/2019-02-18/20190218-120022/">Linux环境变量配置文件总结</a></li></ul><h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><ul><li><p>编辑.bashrc文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>将以下文件粘贴至属性文件末尾</p><blockquote><p>JAVA_HOME=/opt/basics/java/jdk1.8.0_191<br>JRE_HOME=$JAVA_HOME/jre<br>CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar<br>PATH=$JAVA_HOME/bin:$PATH<br>export JAVA_HOME JRE_HOME CLASSPATH PATH</p></blockquote></li></ul><h3 id="使修改立即生效"><a href="#使修改立即生效" class="headerlink" title="使修改立即生效"></a>使修改立即生效</h3><ul><li><p>配置文件如果有变动，需要执行一下source命令让文件生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># source ~/.bashrc</span><br></pre></td></tr></table></figure></li></ul><h3 id="查看配置的环境变量"><a href="#查看配置的环境变量" class="headerlink" title="查看配置的环境变量"></a>查看配置的环境变量</h3><ul><li><p>查看是否可以读取到环境变量</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># echo $JAVA_HOME</span><br><span class="line"># echo $CLASSPATH</span><br><span class="line"># echo $PATH</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置完成，查看版本"><a href="#配置完成，查看版本" class="headerlink" title="配置完成，查看版本"></a>配置完成，查看版本</h2><ul><li><p>执行命令查看配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># java -version</span><br></pre></td></tr></table></figure><blockquote><p>java version “1.8.0_191”<br>Java(TM) SE Runtime Environment (build 1.8.0_191-b12)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)</p></blockquote><p>注：也可以使用jps命令查看进程</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux安装配置JDK&quot;&gt;&lt;a href=&quot;#Linux安装配置JDK&quot; class=&quot;headerlink&quot; title=&quot;Linux安装配置JDK&quot;&gt;&lt;/a&gt;Linux安装配置JDK&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="JDK" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/JDK/"/>
    
    
      <category term="jdk" scheme="https://blog.jyusun.com/tags/jdk/"/>
    
      <category term="配置JDK" scheme="https://blog.jyusun.com/tags/%E9%85%8D%E7%BD%AEJDK/"/>
    
  </entry>
  
  <entry>
    <title>配置SSH免密登陆</title>
    <link href="https://blog.jyusun.com/contents/20190218182031.html"/>
    <id>https://blog.jyusun.com/contents/20190218182031.html</id>
    <published>2019-02-18T10:20:31.000Z</published>
    <updated>2019-02-18T12:15:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="配置SSH免密登陆"><a href="#配置SSH免密登陆" class="headerlink" title="配置SSH免密登陆"></a>配置SSH免密登陆</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="生成-ssh文件夹"><a href="#生成-ssh文件夹" class="headerlink" title="生成.ssh文件夹"></a>生成.ssh文件夹</h2><ul><li><p>新安装的系统用户下一般情况下没有.ssh的文件夹</p></li><li><p>查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~ &amp; ls -al</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/1.jpg" title="ssh文件夹查看"></li><li><p>执行命令生成</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/2.jpg" title="ssh localhost"></li></ul><h2 id="生成公钥、私钥"><a href="#生成公钥、私钥" class="headerlink" title="生成公钥、私钥"></a>生成公钥、私钥</h2><ul><li><p>用于配置免密登陆</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/3.jpg" title="生成公钥私钥"></li></ul><h2 id="authorized-keys文件"><a href="#authorized-keys文件" class="headerlink" title="authorized_keys文件"></a>authorized_keys文件</h2><ul><li><p>将公钥（id_rsa.pub）写入到authorized_keys文件中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li></ul><h2 id="文件授权"><a href="#文件授权" class="headerlink" title="文件授权"></a>文件授权</h2><ul><li><p>SSH公钥生效需满足至少下面两个条件：</p><blockquote><ol><li>目录.ssh的权限必须是700，由于上面是通过ssh localhost生成的文件夹故此满足此条件；</li><li>文件.ssh/authorized_keys权限必须是600；</li></ol></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 0600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li></ul><h2 id="验证配置"><a href="#验证配置" class="headerlink" title="验证配置"></a>验证配置</h2><ul><li><p>将公钥（id_rsa.pub）写入到authorized_keys文件中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/4.jpg" title="验证成功"><p>注：能成功进入说明配置成功</p></li></ul><h2 id="同其他机器相互访问"><a href="#同其他机器相互访问" class="headerlink" title="同其他机器相互访问"></a>同其他机器相互访问</h2><ul><li><p>将.ssh文件夹完整复制到其他机器对应位置</p></li><li><p>授权后即可相互访问</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 0700 ~/.ssh</span><br><span class="line">chmod 0600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li><li><p>单向访问只需要将公钥写入到对方的authorized_keys文件中即可访问对方</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;配置SSH免密登陆&quot;&gt;&lt;a href=&quot;#配置SSH免密登陆&quot; class=&quot;headerlink&quot; title=&quot;配置SSH免密登陆&quot;&gt;&lt;/a&gt;配置SSH免密登陆&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="免密登陆" scheme="https://blog.jyusun.com/tags/%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86/"/>
    
      <category term="公钥认证" scheme="https://blog.jyusun.com/tags/%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7关闭防火墙</title>
    <link href="https://blog.jyusun.com/contents/20190218122031.html"/>
    <id>https://blog.jyusun.com/contents/20190218122031.html</id>
    <published>2019-02-18T04:20:31.000Z</published>
    <updated>2019-03-05T02:20:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CentOS7关闭防火墙"><a href="#CentOS7关闭防火墙" class="headerlink" title="CentOS7关闭防火墙"></a>CentOS7关闭防火墙</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>CentOS7默认的防火墙为firewalld，防火墙在一些非生产环境中，防火墙管理并不是我们关注的重点，至此我们需要将其关闭。</li></ul><h2 id="firewalld的基本命令"><a href="#firewalld的基本命令" class="headerlink" title="firewalld的基本命令"></a>firewalld的基本命令</h2><ul><li><p>启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld</span><br></pre></td></tr></table></figure></li><li><p>关闭</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure></li><li><p>查看状态</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure></li><li><p>开机禁用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure></li><li><p>开机启用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable firewalld</span><br></pre></td></tr></table></figure><p><strong>注：以上命令需要以管理员用户执行</strong></p></li></ul><h2 id="设置防火墙关闭"><a href="#设置防火墙关闭" class="headerlink" title="设置防火墙关闭"></a>设置防火墙关闭</h2><p>依据上文，我们需要执行相应的命令来关闭防火墙</p><ul><li><p>查看当前状态（防火墙开启状态）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl status firewalld</span><br></pre></td></tr></table></figure><img src="/contents/20190218122031/1.jpg" title="防火墙开启状态"></li><li><p>关闭防火墙</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl stop firewalld</span><br></pre></td></tr></table></figure></li><li><p>开机禁用（永久关闭，重启也不会启用）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl disable firewalld</span><br></pre></td></tr></table></figure></li><li><p>再次查看当前状态（防火墙关闭成功）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl status firewalld</span><br></pre></td></tr></table></figure><img src="/contents/20190218122031/2.jpg" title="防火墙关闭状态"></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CentOS7关闭防火墙&quot;&gt;&lt;a href=&quot;#CentOS7关闭防火墙&quot; class=&quot;headerlink&quot; title=&quot;CentOS7关闭防火墙&quot;&gt;&lt;/a&gt;CentOS7关闭防火墙&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="防火墙" scheme="https://blog.jyusun.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
      <category term="CentOS防火墙" scheme="https://blog.jyusun.com/tags/CentOS%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
      <category term="Linux防火墙" scheme="https://blog.jyusun.com/tags/Linux%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>Linux环境变量配置文件总结</title>
    <link href="https://blog.jyusun.com/contents/20190218120022.html"/>
    <id>https://blog.jyusun.com/contents/20190218120022.html</id>
    <published>2019-02-18T04:00:22.000Z</published>
    <updated>2019-02-18T04:00:22.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux环境变量配置文件总结"><a href="#Linux环境变量配置文件总结" class="headerlink" title="Linux环境变量配置文件总结"></a>Linux环境变量配置文件总结</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>Linux中环境变量可以配置在多个地方，在什么样的场景下将环境变量配置在哪个文件中比较合理，下文主要根据使用场景进行分析</li></ul><h2 id="主要文件介绍"><a href="#主要文件介绍" class="headerlink" title="主要文件介绍"></a>主要文件介绍</h2><ul><li>一般主要环境变量配置的文件</li></ul><table><thead><tr><th>文件</th><th>交互</th><th>描述</th></tr></thead><tbody><tr><td>/etc/profile</td><td>全局</td><td>此文件为系统的每个用户设置环境信息,当第一个用户登录时,该文件被执行，并从/etc/profile.d目录的配置文件中搜集shell的设置.</td></tr><tr><td>/etc/bashrc</td><td>全局</td><td>为每一个运行bash shell的用户执行此文件.当bash shell被打开时,该文件被读取。有些linux版本中的/etc目录下已经不存在bashrc文件。</td></tr><tr><td>~/.profile</td><td>用户家目录下的私有环境变量设定</td><td>每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行一次!默认情况下,它设置一些环境变量,然后执行用户的.bashrc文件</td></tr><tr><td>~/.bashrc</td><td>用户家目录下的私有环境变量设定</td><td>该文件包含专用于某个用户的bash shell的bash信息,当该用户登录时以及每次打开新的shell时,该文件被读取.</td></tr></tbody></table><h2 id="系统读取配置文件的顺序"><a href="#系统读取配置文件的顺序" class="headerlink" title="系统读取配置文件的顺序"></a>系统读取配置文件的顺序</h2><ul><li>待续</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux环境变量配置文件总结&quot;&gt;&lt;a href=&quot;#Linux环境变量配置文件总结&quot; class=&quot;headerlink&quot; title=&quot;Linux环境变量配置文件总结&quot;&gt;&lt;/a&gt;Linux环境变量配置文件总结&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="profile" scheme="https://blog.jyusun.com/tags/profile/"/>
    
      <category term="bashrc" scheme="https://blog.jyusun.com/tags/bashrc/"/>
    
  </entry>
  
  <entry>
    <title>Linux系统设置静态IP地址</title>
    <link href="https://blog.jyusun.com/contents/20190217112031.html"/>
    <id>https://blog.jyusun.com/contents/20190217112031.html</id>
    <published>2019-02-17T03:19:31.000Z</published>
    <updated>2019-02-17T03:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设置静态IP"><a href="#设置静态IP" class="headerlink" title="设置静态IP"></a>设置静态IP</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>通常使用Linux系统都是需要提供服务的。</li><li>如果不设置静态的IP地址，采用动态地址的情况下，系统每次启动或IP被占用，都会重新获取一个IP地址，会造成我们不知道此服务器当前的IP地址而访问不了，不便于我们管理和维护。</li><li>综合上述原因需要给其指定一个固定的IP地址，这个就是静态的IP地址，客户端可以每次通过这个指定的IP地址来访问这个服务器即可。</li></ul><h2 id="编辑网卡配置文件"><a href="#编辑网卡配置文件" class="headerlink" title="编辑网卡配置文件"></a>编辑网卡配置文件</h2><ul><li><p>切换路径，并编辑网卡文件，如（ifcfg-ens33）文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /etc/sysconfig/network-scripts</span><br><span class="line"># vim ifcfg-ens33</span><br></pre></td></tr></table></figure><blockquote><p>TYPE=”Ethernet”<br>PROXY_METHOD=”none”<br>BROWSER_ONLY=”no”<br>BOOTPROTO=”static”       #静态的IP<br>DEFROUTE=”yes”<br>IPV4_FAILURE_FATAL=”no”<br>IPV6INIT=”yes”<br>IPV6_AUTOCONF=”yes”<br>IPV6_DEFROUTE=”yes”<br>IPV6_FAILURE_FATAL=”no”<br>IPV6_ADDR_GEN_MODE=”stable-privacy”<br>NAME=”ens33”<br>UUID=”658b8ef8-1295-446d-8235-7f6e4054b527”<br>DEVICE=”ens33”<br>ONBOOT=”yes”                        #开机启动<br>IPADDR=192.168.233.101      #IP地址<br>PREFIX=24                                #子网掩码24位,255.255.255.0<br>GATEWAY=192.168.233.2      #网关地址<br>DNS1=202.106.0.20               #联通DNS</p></blockquote><p>注：IP及网关根据实际网络情况进行相应的设置</p></li></ul><h2 id="使网卡设置生效"><a href="#使网卡设置生效" class="headerlink" title="使网卡设置生效"></a>使网卡设置生效</h2><ul><li><p>设置完成后，无需重新启动系统，使用命令重启网卡使其生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl restart network</span><br></pre></td></tr></table></figure></li></ul><h2 id="重启后验证"><a href="#重启后验证" class="headerlink" title="重启后验证"></a>重启后验证</h2><ul><li><p>重启网卡后，验证是否生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig</span><br></pre></td></tr></table></figure><p>注:如ifconfig命令无效，说明没有安装基础工具包（net-tools）</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;设置静态IP&quot;&gt;&lt;a href=&quot;#设置静态IP&quot; class=&quot;headerlink&quot; title=&quot;设置静态IP&quot;&gt;&lt;/a&gt;设置静态IP&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="IP" scheme="https://blog.jyusun.com/tags/IP/"/>
    
      <category term="静态ip" scheme="https://blog.jyusun.com/tags/%E9%9D%99%E6%80%81ip/"/>
    
      <category term="LinuxIP" scheme="https://blog.jyusun.com/tags/LinuxIP/"/>
    
  </entry>
  
  <entry>
    <title>Centos7更新后遗留内核清理</title>
    <link href="https://blog.jyusun.com/contents/20190214131719.html"/>
    <id>https://blog.jyusun.com/contents/20190214131719.html</id>
    <published>2019-02-14T05:17:19.000Z</published>
    <updated>2019-02-14T05:17:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Centos7更新后遗留内核清理"><a href="#Centos7更新后遗留内核清理" class="headerlink" title="Centos7更新后遗留内核清理"></a>Centos7更新后遗留内核清理</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>今天对CentOS7系统进行了一次更新，更新后重启发现系统启动项多了一个，经过了解是更新后遗留的系统内核，在上网查找后，找到了下面的方法清理遗留的内核，经过本人测试完全可行。自己写下来便以后用到。</li></ul><h2 id="删除系统遗留内核"><a href="#删除系统遗留内核" class="headerlink" title="删除系统遗留内核"></a>删除系统遗留内核</h2><h3 id="查看当前内核"><a href="#查看当前内核" class="headerlink" title="查看当前内核"></a>查看当前内核</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># uname -sr</span><br></pre></td></tr></table></figure><blockquote><p>Linux 3.10.0-514.26.2.el7.x86_64</p></blockquote><h3 id="搜索查询"><a href="#搜索查询" class="headerlink" title="搜索查询"></a>搜索查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rpm -qa | grep kernel</span><br></pre></td></tr></table></figure><blockquote><p>kernel-3.10.0-514.26.2.el7.x86_64<br>abrt-addon-kerneloops-2.1.11-45.el7.centos.x86_64<br>kernel-tools-libs-3.10.0-514.26.2.el7.x86_64<br><strong>kernel-3.10.0-514.el7.x86_64</strong><br>kernel-tools-3.10.0-514.26.2.el7.x86_64</p></blockquote><h3 id="删除多余的版本"><a href="#删除多余的版本" class="headerlink" title="删除多余的版本"></a>删除多余的版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rpm -e kernel-3.10.0-514.el7.x86_64</span><br></pre></td></tr></table></figure><h2 id="内核定量"><a href="#内核定量" class="headerlink" title="内核定量"></a>内核定量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/yum.conf</span><br></pre></td></tr></table></figure><blockquote><p>installonly_limit=5</p></blockquote><h2 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br></pre></td></tr></table></figure><h2 id="再次查看"><a href="#再次查看" class="headerlink" title="再次查看"></a>再次查看</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rpm -qa|grep kernel*</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Centos7更新后遗留内核清理&quot;&gt;&lt;a href=&quot;#Centos7更新后遗留内核清理&quot; class=&quot;headerlink&quot; title=&quot;Centos7更新后遗留内核清理&quot;&gt;&lt;/a&gt;Centos7更新后遗留内核清理&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="Linux内核清理" scheme="https://blog.jyusun.com/tags/Linux%E5%86%85%E6%A0%B8%E6%B8%85%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7设置hostname和hosts</title>
    <link href="https://blog.jyusun.com/contents/20190213131719.html"/>
    <id>https://blog.jyusun.com/contents/20190213131719.html</id>
    <published>2019-02-13T05:17:19.000Z</published>
    <updated>2019-02-13T05:17:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设置hostname和hosts"><a href="#设置hostname和hosts" class="headerlink" title="设置hostname和hosts"></a>设置hostname和hosts</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>在使用Linux系统的过程中，某些软件访问需要指定IP地址，因IP可能会变动而导致软件需要再次配置新的IP。基于此种场景，配置hostname和hosts文件解决此问题：即软件中需要配置IP的地方使用hostname代替，通过解析hosts文件hostname就被解析成对应的IP地址。如果IP有变动也只需要调整hosts中IP与hostname的对应关系，无需在频繁改动软件内部IP配置。</li></ul><h2 id="设置HostName"><a href="#设置HostName" class="headerlink" title="设置HostName"></a>设置HostName</h2><ul><li><p>设置hostname为centosvm（可以根据自己的需求起名）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br></pre></td></tr></table></figure><blockquote><p>centosvm</p></blockquote><p>注：HostName尽量不要出现’/‘、’*’、’.’、’_’等特殊字符，否则某些软件引用过程中可能读不到正确的配置或一些莫名其妙的错误问题。</p></li></ul><h2 id="设置Hosts"><a href="#设置Hosts" class="headerlink" title="设置Hosts"></a>设置Hosts</h2><ul><li><p>在Hosts中设置的尾部追加IP地址、域名和主机名映射关系</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br></pre></td></tr></table></figure><blockquote><p>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4<br>::1         localhost localhost.localdomain localhost6 localhost6.localdomain6<br><strong>192.168.233.100 centosvm</strong></p></blockquote><p>注：需要配置多个映射关系在尾部继续追加即可</p></li></ul><h2 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h2><ul><li><p>hostname永久修改需要重启系统才可以生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;设置hostname和hosts&quot;&gt;&lt;a href=&quot;#设置hostname和hosts&quot; class=&quot;headerlink&quot; title=&quot;设置hostname和hosts&quot;&gt;&lt;/a&gt;设置hostname和hosts&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="OS" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/OS/"/>
    
    
      <category term="hostname" scheme="https://blog.jyusun.com/tags/hostname/"/>
    
      <category term="hosts" scheme="https://blog.jyusun.com/tags/hosts/"/>
    
  </entry>
  
  <entry>
    <title>虚拟机迁移-VMWare-to-VirtualBox</title>
    <link href="https://blog.jyusun.com/contents/20190211092005.html"/>
    <id>https://blog.jyusun.com/contents/20190211092005.html</id>
    <published>2019-02-11T01:20:05.000Z</published>
    <updated>2019-02-11T01:20:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="虚拟机迁移-VMWare-to-VirtualBox"><a href="#虚拟机迁移-VMWare-to-VirtualBox" class="headerlink" title="虚拟机迁移-VMWare-to-VirtualBox"></a>虚拟机迁移-VMWare-to-VirtualBox</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>由于之前使用的虚拟机是在VMware上，公司要求将所有VMWare的虚拟机迁移至VirtualBox上，至此整理如下步骤。</li></ul><h2 id="导出VMware中的虚拟机"><a href="#导出VMware中的虚拟机" class="headerlink" title="导出VMware中的虚拟机"></a>导出VMware中的虚拟机</h2><ul><li><p>导出开放式格式.ovf的虚拟机</p><img src="/contents/20190211092005/1.jpg" title="导出开放式格式.ovf的虚拟机"><img src="/contents/20190211092005/2.jpg" title="导出开放式格式.ovf的虚拟机"></li><li><p>导出完成</p><img src="/contents/20190211092005/3.jpg" title="导出完成"></li></ul><h2 id="导入虚拟机到VirtualBox"><a href="#导入虚拟机到VirtualBox" class="headerlink" title="导入虚拟机到VirtualBox"></a>导入虚拟机到VirtualBox</h2><ul><li><p>将.ovf格式的虚拟机导入到VirtualBox中</p><img src="/contents/20190211092005/4.jpg" title="导入开放式格式.ovf的虚拟机"><img src="/contents/20190211092005/5.jpg" title="导入开放式格式.ovf的虚拟机"></li><li><p>导入成功并启动</p><img src="/contents/20190211092005/6.jpg" title="导入成功并启动"></li></ul><h2 id="迁移过程中网络问题解决"><a href="#迁移过程中网络问题解决" class="headerlink" title="迁移过程中网络问题解决"></a>迁移过程中网络问题解决</h2><h3 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h3><ul><li>迁移完成后，打开虚拟机，执行ifconfig命令发现网卡名称与我们配置的网卡名称不一致，最简单的解决办法是重命名我们配置的网卡信息与ifconfig中的名称一致即可。</li></ul><h3 id="NAT模式"><a href="#NAT模式" class="headerlink" title="NAT模式"></a>NAT模式</h3><ul><li>VirtualBox如果实现VM Ware中的访问模式，需要配置两个网卡，将当前的网卡指定为（host-only）模式，在新建一个nat网卡即可。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;虚拟机迁移-VMWare-to-VirtualBox&quot;&gt;&lt;a href=&quot;#虚拟机迁移-VMWare-to-VirtualBox&quot; class=&quot;headerlink&quot; title=&quot;虚拟机迁移-VMWare-to-VirtualBox&quot;&gt;&lt;/a&gt;虚拟机迁移-VM
      
    
    </summary>
    
      <category term="实用工具" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
      <category term="虚拟机" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
    
    
      <category term="vm" scheme="https://blog.jyusun.com/tags/vm/"/>
    
  </entry>
  
  <entry>
    <title>idea-edit-default-file-location</title>
    <link href="https://blog.jyusun.com/contents/20181116135728.html"/>
    <id>https://blog.jyusun.com/contents/20181116135728.html</id>
    <published>2018-11-16T05:57:28.000Z</published>
    <updated>2018-11-16T05:57:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul><li>IDEA 默认会在用户文件夹创建配置目录，由于使用过程中此配置目录会越来越大，因此将配置目录指定到想要存放的位置。</li></ul><h1 id="编辑默认配置路径"><a href="#编辑默认配置路径" class="headerlink" title="编辑默认配置路径"></a>编辑默认配置路径</h1><ul><li><p>编辑默认配置路径</p><p>编辑文件：{IDEA安装路径}/bin/idea.properties（本人将默认路径配置在IntelliJIdea的安装路径settings下，故做如下配置）</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">idea.config.path=../settings/.IntelliJIdea/config</span><br><span class="line">idea.system.path=../settings/.IntelliJIdea/system</span><br><span class="line">idea.plugins.path=$&#123;idea.config.path&#125;/plugins</span><br><span class="line">idea.log.path=$&#123;idea.system.path&#125;/log</span><br></pre></td></tr></table></figure><p>如图所示红色部分</p><img src="/contents/20181116135728/1.jpg"><ul><li>配置完成后重新启动，配置即可生效！</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;IDEA 默认会在用户文件夹创建配置目录，由于使用过程中此配置目录会越来越大，因此将配置目录指定到想要存放的位置。&lt;/li&gt;
&lt;
      
    
    </summary>
    
      <category term="实用工具" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Idea" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Idea/"/>
    
    
      <category term="idea" scheme="https://blog.jyusun.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>Linux环境下Oracle生成AWR报告</title>
    <link href="https://blog.jyusun.com/contents/20180909121931.html"/>
    <id>https://blog.jyusun.com/contents/20180909121931.html</id>
    <published>2018-09-09T04:19:31.000Z</published>
    <updated>2018-09-09T04:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux环境下Oracle生成AWR报告"><a href="#Linux环境下Oracle生成AWR报告" class="headerlink" title="Linux环境下Oracle生成AWR报告"></a>Linux环境下Oracle生成AWR报告</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="生成报告"><a href="#生成报告" class="headerlink" title="生成报告"></a>生成报告</h2><ul><li>创建文件存储路径（oracle需要对此路径有读写权限）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p ~/oradata/update/awrreport</span><br></pre></td></tr></table></figure><ul><li>切换到存储路径中</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd ~/oradata/update/awrreport</span><br></pre></td></tr></table></figure><ul><li>使用sqlplus命令连接数据库</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># sqlplus / as sysdba</span><br></pre></td></tr></table></figure><blockquote><p>使用DBA用户或 sqlplus 用户名/密码</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@?/rdbms/admin/awrrpt.sql</span><br></pre></td></tr></table></figure><blockquote><ol><li>选择报告类型，默认选html （可直接回车）</li><li>报告涉及天数范围（1：当天）</li><li>开始、结束编号</li><li>报告名字 （回车默认）</li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux环境下Oracle生成AWR报告&quot;&gt;&lt;a href=&quot;#Linux环境下Oracle生成AWR报告&quot; class=&quot;headerlink&quot; title=&quot;Linux环境下Oracle生成AWR报告&quot;&gt;&lt;/a&gt;Linux环境下Oracle生成AWR报告&lt;/
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="Oracle" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/Oracle/"/>
    
    
      <category term="awr" scheme="https://blog.jyusun.com/tags/awr/"/>
    
  </entry>
  
  <entry>
    <title>Oracle数据库DMP导入和导出</title>
    <link href="https://blog.jyusun.com/contents/20180908122031.html"/>
    <id>https://blog.jyusun.com/contents/20180908122031.html</id>
    <published>2018-09-08T04:20:31.000Z</published>
    <updated>2018-09-08T04:20:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Oracle数据库DMP导入和导出"><a href="#Oracle数据库DMP导入和导出" class="headerlink" title="Oracle数据库DMP导入和导出"></a>Oracle数据库DMP导入和导出</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>开发的过程中，我们使用的数据库可能需要备份，即可以此方式进行简单的备份操作</li><li>使用expdp命令备份数据库</li><li>使用impdp命令恢复数据库</li></ul><h2 id="expdp命令导出操作"><a href="#expdp命令导出操作" class="headerlink" title="expdp命令导出操作"></a>expdp命令导出操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expdp tuser/tpass directory=DUMP_DIR dumpfile=TEST_DMP20180908.DMP logfile=TEST_DMP20180908.log reuse_dumpfiles=y</span><br></pre></td></tr></table></figure><h2 id="impdp命令导入操作"><a href="#impdp命令导入操作" class="headerlink" title="impdp命令导入操作"></a>impdp命令导入操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">impdp tuser/tpass@orcl directory=DUMP_DIR dumpfile=TEST_DMP20180908.DMP table_exists_action=replace remap_schema=tuser:tuser</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Oracle数据库DMP导入和导出&quot;&gt;&lt;a href=&quot;#Oracle数据库DMP导入和导出&quot; class=&quot;headerlink&quot; title=&quot;Oracle数据库DMP导入和导出&quot;&gt;&lt;/a&gt;Oracle数据库DMP导入和导出&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="Oracle" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/Oracle/"/>
    
    
      <category term="dmp操作" scheme="https://blog.jyusun.com/tags/dmp%E6%93%8D%E4%BD%9C/"/>
    
  </entry>
  
  <entry>
    <title>IDEA快捷键位调整及对比</title>
    <link href="https://blog.jyusun.com/contents/20180907180504.html"/>
    <id>https://blog.jyusun.com/contents/20180907180504.html</id>
    <published>2018-09-07T10:05:04.000Z</published>
    <updated>2018-09-07T10:05:04.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IDEA快捷键位调整及对比"><a href="#IDEA快捷键位调整及对比" class="headerlink" title="IDEA快捷键位调整及对比"></a>IDEA快捷键位调整及对比</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>最近工作中开发代码由Eclipse切换到IDEA，使用之前需要对IDEA进行一些简单的配置，还需要了解同Eclipse中快捷键的对比，使我们能够更快的适应这个软件。</li></ul><h2 id="修改冲突键位"><a href="#修改冲突键位" class="headerlink" title="修改冲突键位"></a>修改冲突键位</h2><ul><li>Ctrl+Alt+S进入设置页面，依次选择Keymap → Main menu → Code → Completion</li></ul><blockquote><ol><li>Cyclic Expand Word 默认Alt + /，修改为Alt + Shift + 逗号 （将此快捷键让给basic使用）</li><li>basic 默认Ctrl + 空格，修改为 Alt + /  （此快捷键一般会和输入法冲突，调整同eclipse一致键位符合使用习惯）</li></ol></blockquote><table><thead><tr><th>操作</th><th>原有</th><th>修改为</th></tr></thead><tbody><tr><td>循环往上选择单词</td><td>Alt+/</td><td>Alt+Shift+逗号</td></tr><tr><td>循环往下选择单词</td><td>Alt + Shift + /</td><td>无修改</td></tr><tr><td>代码提示</td><td>Ctrl+空格</td><td>Alt+/</td></tr></tbody></table><h2 id="常用默认键位对比"><a href="#常用默认键位对比" class="headerlink" title="常用默认键位对比"></a>常用默认键位对比</h2><table><thead><tr><th>操作</th><th>Eclipse</th><th>IDEA</th></tr></thead><tbody><tr><td>删除一行</td><td>Ctrl+D</td><td>Ctrl+Y</td></tr><tr><td>关闭当前窗口</td><td>Ctrl+W</td><td>Ctrl+F4</td></tr><tr><td>上移、下移一行</td><td>Alt+↑、↓</td><td>Ctrl+Alt+↑、↓</td></tr><tr><td>回退操作</td><td>Ctrl+Z</td><td>Ctrl+Z</td></tr><tr><td>反向回退</td><td>Ctrl+Y</td><td>Ctrl+Shift+Z</td></tr><tr><td>回到上一处编辑</td><td>Alt+←</td><td>Ctrl+Alt+←</td></tr><tr><td>提取变量</td><td>Ctrl+1 And Ctrl+L</td><td>Ctrl+Alt+V</td></tr><tr><td>添加或取消注释</td><td>Ctrl+/</td><td>Ctrl+/</td></tr><tr><td>生成Getter、Setter</td><td>Alt+Shift+S</td><td>Alt+Insert</td></tr><tr><td>光标移到相同的变量</td><td>Ctrl+K</td><td>F3或Ctrl+F7</td></tr><tr><td>打开类结构</td><td>Ctrl+O</td><td>Ctrl+F12</td></tr><tr><td>显示类继承层次</td><td>Ctrl+T</td><td>Ctrl+H</td></tr><tr><td>查看方法调用链</td><td>Ctrl+Shift+H</td><td>Ctrl+Alt+H</td></tr><tr><td>文件内容搜索</td><td>Ctrl+H</td><td>Ctrl+Shift+F</td></tr><tr><td>按文件名搜索</td><td>Ctrl+Shift+R</td><td>Ctrl+Shift+N</td></tr><tr><td>格式化代码</td><td>Ctrl+Shift+F</td><td>Ctrl+Alt+L</td></tr><tr><td>代码折叠与打开</td><td>Ctrl+Shift+*、/</td><td>Ctrl+Shift+加号、减号</td></tr><tr><td>try-catch包围</td><td>Alt+Shift+S</td><td>Ctrl+Shift+T</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;IDEA快捷键位调整及对比&quot;&gt;&lt;a href=&quot;#IDEA快捷键位调整及对比&quot; class=&quot;headerlink&quot; title=&quot;IDEA快捷键位调整及对比&quot;&gt;&lt;/a&gt;IDEA快捷键位调整及对比&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; cla
      
    
    </summary>
    
      <category term="实用工具" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Idea" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Idea/"/>
    
    
      <category term="idea" scheme="https://blog.jyusun.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>idea-plugin... read-timed-out</title>
    <link href="https://blog.jyusun.com/contents/20180907150704.html"/>
    <id>https://blog.jyusun.com/contents/20180907150704.html</id>
    <published>2018-09-07T07:07:04.000Z</published>
    <updated>2018-09-07T07:07:04.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="IDEA下载插件超时问题"><a href="#IDEA下载插件超时问题" class="headerlink" title="IDEA下载插件超时问题"></a>IDEA下载插件超时问题</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>新下载的idea集成开发环境，下载插件时出现读取超时错误</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Plugin ...  Read timed out</span><br></pre></td></tr></table></figure><img src="/contents/20180907150704/1.jpg" title="读取超时"><h2 id="解决此问题"><a href="#解决此问题" class="headerlink" title="解决此问题"></a>解决此问题</h2><ul><li>依次点击 Appearance &amp; Behavior →System settings →Updates</li><li>去掉use secure connection 前面的对号</li></ul><img src="/contents/20180907150704/2.jpg" title="解决问题"><h2 id="再次下载"><a href="#再次下载" class="headerlink" title="再次下载"></a>再次下载</h2><img src="/contents/20180907150704/3.jpg" title="下载成功"><ul><li>至此，问题已解决</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;IDEA下载插件超时问题&quot;&gt;&lt;a href=&quot;#IDEA下载插件超时问题&quot; class=&quot;headerlink&quot; title=&quot;IDEA下载插件超时问题&quot;&gt;&lt;/a&gt;IDEA下载插件超时问题&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="实用工具" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
      <category term="Idea" scheme="https://blog.jyusun.com/categories/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7/Idea/"/>
    
    
      <category term="idea" scheme="https://blog.jyusun.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7服务器安装Oralce11gR2企业版</title>
    <link href="https://blog.jyusun.com/contents/20180902112031.html"/>
    <id>https://blog.jyusun.com/contents/20180902112031.html</id>
    <published>2018-09-02T03:19:31.000Z</published>
    <updated>2018-09-02T03:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h1><h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><ul><li>系统：CentOS7 （需要联网，或配置本地源）</li><li>终端神器 ：<span class="exturl" data-url="aHR0cHM6Ly9tb2JheHRlcm0ubW9iYXRlay5uZXQvZG93bmxvYWQuaHRtbA==" title="https://mobaxterm.mobatek.net/download.html">MobaXterm<i class="fa fa-external-link"></i></span> 点击进入下载页面（SSH连接、图形转发）</li><li>Oracle安装包：linux.x64_11gR2_database_1of2.zip  linux.x64_11gR2_database_2of2.zip</li><li>查看当前内核（需要内核2.3.1以上）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> cat /proc/version </span><br><span class="line">Linux version 3.10.0-514.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version </span><br><span class="line">4.8.5 20150623 (Red Hat 4.8.5-11) (GCC) ) #1 SMP Tue Nov 22 16:42:41 UTC 2016</span><br></pre></td></tr></table></figure><h2 id="系统环境基础配置"><a href="#系统环境基础配置" class="headerlink" title="系统环境基础配置"></a>系统环境基础配置</h2><h3 id="配置静态IP"><a href="#配置静态IP" class="headerlink" title="配置静态IP"></a>配置静态IP</h3><ul><li>配置静态IP(192.168.233.99)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> cd /etc/sysconfig/network-scripts/     #切换路径</span><br><span class="line"><span class="meta">#</span> vi ifcfg-ens33                         #编辑你的网卡文件</span><br><span class="line">-----------以下为文件中内容-----------</span><br><span class="line">TYPE="Ethernet"</span><br><span class="line">PROXY_METHOD="none"</span><br><span class="line">BROWSER_ONLY="no"</span><br><span class="line">BOOTPROTO="static"                 #设置静态的IP</span><br><span class="line">DEFROUTE="yes"</span><br><span class="line">IPV4_FAILURE_FATAL="no"</span><br><span class="line">IPV6INIT="yes"</span><br><span class="line">IPV6_AUTOCONF="yes"</span><br><span class="line">IPV6_DEFROUTE="yes"</span><br><span class="line">IPV6_FAILURE_FATAL="no"</span><br><span class="line">IPV6_ADDR_GEN_MODE="stable-privacy"</span><br><span class="line">NAME="ens33"</span><br><span class="line">UUID="51dd3e15-9ec2-4aeb-b1bf-f371da401511"</span><br><span class="line">DEVICE="ens33"</span><br><span class="line">ONBOOT="yes"                       #系统启动时激活网卡</span><br><span class="line">IPADDR="192.168.233.99"            #IP地址</span><br><span class="line">PREFIX="24"                        #子网掩码</span><br><span class="line">GATEWAY="192.168.233.2"            #网关地址</span><br><span class="line">DNS1="192.168.233.2"               #DNS地址</span><br><span class="line">IPV6_PRIVACY="no"</span><br></pre></td></tr></table></figure><h3 id="修改hostname"><a href="#修改hostname" class="headerlink" title="修改hostname"></a>修改hostname</h3><ul><li>编辑hostname文件，写入centos</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> vi /etc/hostname</span><br><span class="line">-----------以下为文件中内容-----------</span><br><span class="line">centos</span><br></pre></td></tr></table></figure><h3 id="修改hosts"><a href="#修改hosts" class="headerlink" title="修改hosts"></a>修改hosts</h3><ul><li>编辑hosts文件，写入ip和hostname</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> vi /etc/hosts</span><br><span class="line">-----------以下为文件中内容-----------</span><br><span class="line">192.168.233.99 centos</span><br></pre></td></tr></table></figure><h3 id="修改系统标识"><a href="#修改系统标识" class="headerlink" title="修改系统标识"></a>修改系统标识</h3><ul><li>查看系统版本标识</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> cat /etc/redhat-release</span><br><span class="line">CentOS Linux release 7.3.1611 (Core)</span><br></pre></td></tr></table></figure><ul><li>修改系统版本标识（将centos标识修改为redhat-7）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> vi /etc/redhat-release</span><br><span class="line">-----------以下是文件内容-----------</span><br><span class="line">redhat-7</span><br></pre></td></tr></table></figure><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> systemctl stop firewalld.service  #临时关闭防火墙</span><br><span class="line"><span class="meta">#</span> systemctl disable firewalld.service  #禁止使用防火墙（重启也是禁止的）</span><br></pre></td></tr></table></figure><h3 id="关闭selinux"><a href="#关闭selinux" class="headerlink" title="关闭selinux"></a>关闭selinux</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> vi /etc/selinux/config</span><br><span class="line">-----------以下为文件中内容-----------</span><br><span class="line"><span class="meta">#</span> This file controls the state of SELinux on the system.</span><br><span class="line"><span class="meta">#</span> SELINUX= can take one of these three values:</span><br><span class="line"><span class="meta">#</span>     enforcing - SELinux security policy is enforced.</span><br><span class="line"><span class="meta">#</span>     permissive - SELinux prints warnings instead of enforcing.</span><br><span class="line"><span class="meta">#</span>     disabled - No SELinux policy is loaded.</span><br><span class="line">SELINUX=disabled   #此处修改为disabled</span><br><span class="line"><span class="meta">#</span> SELINUXTYPE= can take one of three two values:</span><br><span class="line"><span class="meta">#</span>     targeted - Targeted processes are protected,</span><br><span class="line"><span class="meta">#</span>     minimum - Modification of targeted policy. Only selected processes are protected. </span><br><span class="line"><span class="meta">#</span>     mls - Multi Level Security protection.</span><br><span class="line">SELINUXTYPE=targeted</span><br></pre></td></tr></table></figure><p>注：重启系统使所有配置生效</p><h2 id="依赖安装"><a href="#依赖安装" class="headerlink" title="依赖安装"></a>依赖安装</h2><h3 id="安装基础工具"><a href="#安装基础工具" class="headerlink" title="安装基础工具"></a>安装基础工具</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> yum install -y net-tools vim* wget ntp telnet unzip</span><br></pre></td></tr></table></figure><h3 id="安装SSH-X11转发依赖"><a href="#安装SSH-X11转发依赖" class="headerlink" title="安装SSH X11转发依赖"></a>安装SSH X11转发依赖</h3><ul><li>SSH X11 Forwarding  依赖</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> yum -y install xorg-x11-xauth xclock</span><br></pre></td></tr></table></figure><ul><li>查看SSH配置（一般情况下无需操作直接执行测试即可）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> cat /etc/ssh/sshd_config</span><br><span class="line">X11Forwarding yes</span><br><span class="line">X11UseLocalhost no -- 禁止将X11转发请求绑定到本地回环地址上</span><br><span class="line">AddressFamily inet -- 强制使用IPv4通道</span><br></pre></td></tr></table></figure><ul><li>测试：使用MobaXterm终端工具运行xclock程序（Win端弹出小时钟）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> xclock</span><br></pre></td></tr></table></figure><h3 id="安装Oracle必要依赖"><a href="#安装Oracle必要依赖" class="headerlink" title="安装Oracle必要依赖"></a>安装Oracle必要依赖</h3><ul><li>使用yum命令安装依赖（自动识别系统位数）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> yum install -y binutils compat-libcap1 compat-libstdc gcc gcc-c++ glibc glibc-devel ksh libaio libaio-devel libgcc libstdc libstdc++ libstdc++-devel libXi libXtst make sysstat  unixODBC unixODBC-devel elfutils-libelf-devel</span><br></pre></td></tr></table></figure><ul><li>使用yum命令安装所需要的32位依赖部分（安装检查时候可以检查出来缺少的）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> yum install -y unixODBC.i686 unixODBC-devel.i686 compat-libstdc++-33.i686 libstdc++-devel.i686 gcc-c++.i686 libaio-devel.i686</span><br></pre></td></tr></table></figure><p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLm9yYWNsZS5jb20vY2QvRTExODgyXzAxL2luc3RhbGwuMTEyL2U0NzY4OS9wcmVfaW5zdGFsbC5odG0jTEFEQkkxMTIx" title="https://docs.oracle.com/cd/E11882_01/install.112/e47689/pre_install.htm#LADBI1121">官网CentOS7依赖说明<i class="fa fa-external-link"></i></span></p><p>Oracle Linux 7和Red Hat Enterprise Linux 7    必须安装以下软件包（或更高版本），官方是这么说的：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">binutils-2.23.52.0.1-12.el7.x86_64 </span><br><span class="line">compat-libcap1-1.10-3.el7.x86_64 </span><br><span class="line">compat-libstdc++-33-3.2.3-71.el7.i686</span><br><span class="line">compat-libstdc++-33-3.2.3-71.el7.x86_64</span><br><span class="line">gcc-4.8.2-3.el7.x86_64 </span><br><span class="line">gcc-c++-4.8.2-3.el7.x86_64 </span><br><span class="line">glibc-2.17-36.el7.i686 </span><br><span class="line">glibc-2.17-36.el7.x86_64 </span><br><span class="line">glibc-devel-2.17-36.el7.i686 </span><br><span class="line">glibc-devel-2.17-36.el7.x86_64 </span><br><span class="line">ksh</span><br><span class="line">libaio-0.3.109-9.el7.i686 </span><br><span class="line">libaio-0.3.109-9.el7.x86_64 </span><br><span class="line">libaio-devel-0.3.109-9.el7.i686 </span><br><span class="line">libaio-devel-0.3.109-9.el7.x86_64 </span><br><span class="line">libgcc-4.8.2-3.el7.i686 </span><br><span class="line">libgcc-4.8.2-3.el7.x86_64 </span><br><span class="line">libstdc++-4.8.2-3.el7.i686 </span><br><span class="line">libstdc++-4.8.2-3.el7.x86_64 </span><br><span class="line">libstdc++-devel-4.8.2-3.el7.i686 </span><br><span class="line">libstdc++-devel-4.8.2-3.el7.x86_64 </span><br><span class="line">libXi-1.7.2-1.el7.i686 </span><br><span class="line">libXi-1.7.2-1.el7.x86_64 </span><br><span class="line">libXtst-1.2.2-1.el7.i686 </span><br><span class="line">libXtst-1.2.2-1.el7.x86_64 </span><br><span class="line">make-3.82-19.el7.x86_64 </span><br><span class="line">sysstat-10.1.5-1.el7.x86_64</span><br></pre></td></tr></table></figure><h1 id="安装前准备"><a href="#安装前准备" class="headerlink" title="安装前准备"></a>安装前准备</h1><h2 id="组和用户"><a href="#组和用户" class="headerlink" title="组和用户"></a>组和用户</h2><ul><li>新建oinstall和dba组  <span class="exturl" data-url="aHR0cDovL3d3dy5vcmFjbGUuY29tL3RlY2huZXR3b3JrL2NuL2FydGljbGVzL2h1bnRlci1yYWMxMWdyMi1pc2NzaS0yLTA5MjQxMi16aHMuaHRtbCMxMw==" title="http://www.oracle.com/technetwork/cn/articles/hunter-rac11gr2-iscsi-2-092412-zhs.html#13">官网参考<i class="fa fa-external-link"></i></span></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> groupadd oinstall</span><br><span class="line"><span class="meta">#</span> groupadd dba</span><br></pre></td></tr></table></figure><ul><li>新建用户oracle并指定组为oinstall和dba</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> useradd -g oinstall -g dba -m oracle</span><br><span class="line"><span class="meta">#</span> passwd oracle      #根据提示输入密码</span><br></pre></td></tr></table></figure><ul><li>查看oracle用户基本信息</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> id oracle</span><br><span class="line">uid=1002(oracle) gid=1003(dba) 组=1003(dba)</span><br></pre></td></tr></table></figure><h2 id="安装目录"><a href="#安装目录" class="headerlink" title="安装目录"></a>安装目录</h2><ul><li>创建相关目录</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> mkdir -p /opt/data/oracle            #oracle数据库安装目录</span><br><span class="line"><span class="meta">#</span> mkdir -p /opt/data/oraInventory　    #oracle数据库配置文件目录</span><br><span class="line"><span class="meta">#</span> mkdir -p /opt/data/database         #oracle数据库软件包解压目录</span><br></pre></td></tr></table></figure><ul><li>将文件夹指定操作用户oracle</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> chown -R oracle:oinstall /opt/data/oracle/</span><br><span class="line"><span class="meta">#</span> chown -R oracle:oinstall /opt/data/oraInventory/</span><br><span class="line"><span class="meta">#</span> chown -R oracle:oinstall /opt/data/database</span><br></pre></td></tr></table></figure><h2 id="修改系统内核参数"><a href="#修改系统内核参数" class="headerlink" title="修改系统内核参数"></a>修改系统内核参数</h2><ul><li>修改内核参数，以8G内存为例（配置时最好把内容中注释去掉）</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> vi /etc/sysctl.conf </span><br><span class="line">-----------将以下内容根据实际情况修改后粘贴至文件中------------</span><br><span class="line">net.ipv4.icmp_echo_ignore_broadcasts = 1</span><br><span class="line">net.ipv4.conf.all.rp_filter = 1</span><br><span class="line">fs.file-max = 6815744         #设置最大打开文件数</span><br><span class="line">fs.aio-max-nr = 1048576</span><br><span class="line">kernel.shmall = 2097152       #共享内存的总量，8G内存设置：2097152*4k/1024/1024</span><br><span class="line">kernel.shmmax = 7730941132    #单个段允许使用的大小，设置为内存的90%如：8*1024*1024*1024*90%</span><br><span class="line">kernel.shmmni = 4096          #整个系统共享内存端的最大数，缺省值 4096</span><br><span class="line">kernel.sem = 250 32000 100 128</span><br><span class="line">net.ipv4.ip_local_port_range = 9000 65500 #可使用的IPv4端口范围</span><br><span class="line">net.core.rmem_default = 262144</span><br><span class="line">net.core.rmem_max= 4194304</span><br><span class="line">net.core.wmem_default= 262144</span><br><span class="line">net.core.wmem_max= 1048576</span><br></pre></td></tr></table></figure><ul><li>使配置立即生效</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> sysctl -p</span><br></pre></td></tr></table></figure><h2 id="对oracle用户设置限制"><a href="#对oracle用户设置限制" class="headerlink" title="对oracle用户设置限制"></a>对oracle用户设置限制</h2><ul><li>对oracle用户设置限制，提高软件运行性能</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> vi /etc/security/limits.conf </span><br><span class="line">-----------将以下内容根据实际情况修改后粘贴至文件中------------</span><br><span class="line">oracle soft nproc 2047</span><br><span class="line">oracle hard nproc 16384</span><br><span class="line">oracle soft nofile 1024</span><br><span class="line">oracle hard nofile 65536</span><br></pre></td></tr></table></figure><h2 id="配置用户的环境变量"><a href="#配置用户的环境变量" class="headerlink" title="配置用户的环境变量"></a>配置用户的环境变量</h2><ul><li>配置oracle相关环境变量（配置时最好把内容中注释去掉）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># vi /home/oracle/.bash_profile</span><br><span class="line">-----------将以下内容根据实际情况修改后粘贴至文件中------------</span><br><span class="line">export ORACLE_BASE=/data/oracle #oracle数据库安装目录</span><br><span class="line">export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/db_1 #oracle数据库路径</span><br><span class="line">export ORACLE_SID=orcl #oracle启动数据库实例名</span><br><span class="line">export ORACLE_TERM=xterm #xterm窗口模式安装</span><br><span class="line">export PATH=$ORACLE_HOME/bin:/usr/sbin:$PATH #添加系统环境变量</span><br><span class="line">export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib #添加系统环境变量</span><br><span class="line">export LANG=C #防止安装过程出现乱码</span><br><span class="line">export NLS_LANG=AMERICAN_AMERICA.ZHS16GBK  #设置Oracle客户端字符集，必须与Oracle安装时设置的字符集保持一致，如：ZHS16GBK，否则出现数据导入导出中文乱码问题</span><br></pre></td></tr></table></figure><ul><li>使环境变量立即生效</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> source /home/oracle/.bash_profile</span><br></pre></td></tr></table></figure><h2 id="通过MobaXterm上传文件"><a href="#通过MobaXterm上传文件" class="headerlink" title="通过MobaXterm上传文件"></a>通过MobaXterm上传文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">将Oracle两个安装包</span><br><span class="line">linux.x64_11gR2_database_1of2.zip  </span><br><span class="line">linux.x64_11gR2_database_2of2.zip</span><br><span class="line">上传至/usr/local/src/ 路径中</span><br></pre></td></tr></table></figure><h2 id="解压并对oracle用户授权"><a href="#解压并对oracle用户授权" class="headerlink" title="解压并对oracle用户授权"></a>解压并对oracle用户授权</h2><ul><li>解压文件1和文件2</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> cd /usr/local/src/               #切换到文件上传路径</span><br><span class="line"><span class="meta">#</span> unzip linux.x64_11gR2_database_1of2.zip -d /opt/data</span><br><span class="line"><span class="meta">#</span> unzip linux.x64_11gR2_database_2of2.zip -d /opt/data</span><br></pre></td></tr></table></figure><ul><li>将此解压路径授权给oinstall组中oracle用户</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> chown -R oracle:oinstall /opt/data/database</span><br></pre></td></tr></table></figure><h1 id="安装Oracle数据库"><a href="#安装Oracle数据库" class="headerlink" title="安装Oracle数据库"></a>安装Oracle数据库</h1><h2 id="Oracle用户登陆"><a href="#Oracle用户登陆" class="headerlink" title="Oracle用户登陆"></a>Oracle用户登陆</h2><ul><li>检查database、oraInventory、oracle权限是否为oinstall组和oracle用户</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[oracle@centos ~]$ cd /opt/data/</span><br><span class="line">[oracle@centos data]$ ls -al</span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x  5 root   root      56 Sep  4 17:32 .</span><br><span class="line">drwxr-xr-x. 4 root   root      32 Sep  4 17:31 ..</span><br><span class="line">drwxr-xr-x  8 oracle oinstall 128 Sep  4 19:00 database</span><br><span class="line">drwxr-xr-x  2 oracle oinstall   6 Sep  4 17:31 oraInventory</span><br><span class="line">drwxr-xr-x  2 oracle oinstall   6 Sep  4 17:31 oracle</span><br></pre></td></tr></table></figure><ul><li>测试：使用MobaXterm终端工具运行xclock程序（Win端弹出小时钟）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># xclock</span><br></pre></td></tr></table></figure><p>注：弹出小时钟在继续执行，如不弹出，使用MobaXterm直接以oracle用户登陆（使用su - oracle 切换可能某些变量不生效会报错导致无法弹出窗口）</p><ul><li>执行安装命令</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /opt/data/database       #切换到安装文件路径下</span><br><span class="line"># ./runInstaller</span><br></pre></td></tr></table></figure><h2 id="Win端弹出安装窗口"><a href="#Win端弹出安装窗口" class="headerlink" title="Win端弹出安装窗口"></a>Win端弹出安装窗口</h2><img src="/contents/20180902112031/1.jpg"><img src="/contents/20180902112031/2.jpg"><img src="/contents/20180902112031/3.jpg"><img src="/contents/20180902112031/4.jpg"><img src="/contents/20180902112031/5.jpg"><img src="/contents/20180902112031/6.jpg"><img src="/contents/20180902112031/7.jpg"><img src="/contents/20180902112031/8.jpg"><img src="/contents/20180902112031/9.jpg"><img src="/contents/20180902112031/10.jpg"><img src="/contents/20180902112031/11.jpg"><img src="/contents/20180902112031/12.jpg"><img src="/contents/20180902112031/13.jpg"><img src="/contents/20180902112031/14.jpg"><img src="/contents/20180902112031/15.jpg"><img src="/contents/20180902112031/16.jpg"><img src="/contents/20180902112031/17.jpg"><img src="/contents/20180902112031/18.jpg"><img src="/contents/20180902112031/19.jpg"><img src="/contents/20180902112031/20.jpg"><img src="/contents/20180902112031/21.jpg"><p>中文参照：<span class="exturl" data-url="aHR0cHM6Ly9qaW5neWFuLmJhaWR1LmNvbS9hcnRpY2xlLzM2Mzg3MmVjY2ZiOTI2NmU0YWExNmY1ZC5odG1s" title="https://jingyan.baidu.com/article/363872eccfb9266e4aa16f5d.html">https://jingyan.baidu.com/article/363872eccfb9266e4aa16f5d.html<i class="fa fa-external-link"></i></span> 安装即可</p><h2 id="安装完成之后执行脚本"><a href="#安装完成之后执行脚本" class="headerlink" title="安装完成之后执行脚本"></a>安装完成之后执行脚本</h2><ul><li>执行一下两个脚本（根据自己配置的路径调整）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#/opt/data/oraInventory/orainstRoot.sh</span><br><span class="line">#/opt/data/oracle/product/11.2.0/db_1/root.sh</span><br></pre></td></tr></table></figure><h1 id="服务与监听随系统启动"><a href="#服务与监听随系统启动" class="headerlink" title="服务与监听随系统启动"></a>服务与监听随系统启动</h1><h2 id="配置-etc-oratab"><a href="#配置-etc-oratab" class="headerlink" title="配置/etc/oratab"></a>配置/etc/oratab</h2><ul><li>以root身份登录到linux系统，编辑/etc/oratab文件<br>(如oratab文件不存在，新增即可)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/oratab</span><br><span class="line"></span><br><span class="line">orcl:/opt/data/oracle/product/11.2.0/db_1:N</span><br><span class="line">改为</span><br><span class="line">orcl:/opt/data/oracle/product/11.2.0/db_1:Y</span><br></pre></td></tr></table></figure><p>注：orcl为实例名/opt/data/oracle/product/11.2.0/db_1为安装的$ORACLE_HOME，根据情况自行修改。</p><h2 id="编辑dbstart和dbshut"><a href="#编辑dbstart和dbshut" class="headerlink" title="编辑dbstart和dbshut"></a>编辑dbstart和dbshut</h2><ul><li>以oracle身份登录到linux系统，编辑dbstart文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vi $ORACLE_HOME/bin/dbstart</span><br><span class="line"></span><br><span class="line">ORACLE_HOME_LISTNER=$1</span><br><span class="line">改为</span><br><span class="line">ORACLE_HOME_LISTNER=$ORACLE_HOME</span><br></pre></td></tr></table></figure><ul><li>以oracle身份登录到linux系统，编辑dbshut文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vi $ORACLE_HOME/bin/dbshut</span><br><span class="line"></span><br><span class="line">ORACLE_HOME_LISTNER=$1</span><br><span class="line">改为</span><br><span class="line">ORACLE_HOME_LISTNER=$ORACLE_HOME</span><br></pre></td></tr></table></figure><h2 id="配置-rc-local-文件"><a href="#配置-rc-local-文件" class="headerlink" title="配置 rc.local 文件"></a>配置 rc.local 文件</h2><ul><li>以root身份登录到linux系统，编辑/etc/rc.d/rc.local文件，将dbstart命令写入文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/rc.d/rc.local</span><br><span class="line">------------将以下内容写入文件末尾--------------</span><br><span class="line">su oracle -lc dbstart</span><br></pre></td></tr></table></figure><ul><li>执行以下命令，对rc.local文件授予执行权限</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> chmod +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure><ul><li>该文件默认是没有执行权限的，查看/etc/rc.d/rc.local文件说明：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># cat /etc/rc.d/rc.local</span><br><span class="line">-------------------------------------------------</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line"># THIS FILE IS ADDED FOR COMPATIBILITY PURPOSES</span><br><span class="line">#</span><br><span class="line"># It is highly advisable to create own systemd services or udev rules</span><br><span class="line"># to run scripts during boot instead of using this file.</span><br><span class="line">#</span><br><span class="line"># In contrast to previous versions due to parallel execution during boot</span><br><span class="line"># this script will NOT be run after all other services.</span><br><span class="line">#</span><br><span class="line"># Please note that you must run &apos;chmod +x /etc/rc.d/rc.local&apos; to ensure</span><br><span class="line"># that this script will be executed during boot.</span><br><span class="line">----------------------------------------------------</span><br><span class="line">翻译一下：</span><br><span class="line">这个文件是为了兼容性的目的而添加的，</span><br><span class="line">建议创建自己的systemd服务或udev规则来在开机引导时运行脚本而不是使用这个文件。 </span><br><span class="line">与以前的版本引导时的并行执行相比较，这个脚本将不会在其他所有的服务后执行。 </span><br><span class="line">请记住，你必须执行“chmod +x /etc/rc.d/rc.local”来确保确保这个脚本在引导时执行。</span><br></pre></td></tr></table></figure><h2 id="重启并查看监听与服务"><a href="#重启并查看监听与服务" class="headerlink" title="重启并查看监听与服务"></a>重启并查看监听与服务</h2><ul><li>以oracle用户登入，并查看监听与服务状态</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> lsnrctl status</span><br><span class="line"><span class="meta">$</span> ps -ef | grep ora</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;基础准备&quot;&gt;&lt;a href=&quot;#基础准备&quot; class=&quot;headerlink&quot; title=&quot;基础准备&quot;&gt;&lt;/a&gt;基础准备&lt;/h1&gt;&lt;h2 id=&quot;环境准备&quot;&gt;&lt;a href=&quot;#环境准备&quot; class=&quot;headerlink&quot; title=&quot;环境准备&quot;&gt;&lt;/a
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="Oracle" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/Oracle/"/>
    
    
      <category term="Oracle" scheme="https://blog.jyusun.com/tags/Oracle/"/>
    
      <category term="安装Oracle" scheme="https://blog.jyusun.com/tags/%E5%AE%89%E8%A3%85Oracle/"/>
    
  </entry>
  
  <entry>
    <title>基于CentOS7安装Docker-CE</title>
    <link href="https://blog.jyusun.com/contents/20180901171228.html"/>
    <id>https://blog.jyusun.com/contents/20180901171228.html</id>
    <published>2018-09-01T09:12:28.000Z</published>
    <updated>2018-09-01T09:12:28.000Z</updated>
    
    <summary type="html">
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="Linux" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/"/>
    
      <category term="Docker" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/Linux/Docker/"/>
    
    
      <category term="docker" scheme="https://blog.jyusun.com/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>设置npm国内镜像源</title>
    <link href="https://blog.jyusun.com/contents/20180807112035.html"/>
    <id>https://blog.jyusun.com/contents/20180807112035.html</id>
    <published>2018-08-07T03:20:35.000Z</published>
    <updated>2018-08-07T03:20:35.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="NodeJS修改npm镜像源"><a href="#NodeJS修改npm镜像源" class="headerlink" title="NodeJS修改npm镜像源"></a>NodeJS修改npm镜像源</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>由于npm的镜像地址默认在境外，虽然没有被墙，但是在国内使用的过程中会出现下载速度较慢或因直接安装失败，所以将镜像地址为国内的地址解决此问题。本人使用的是NPMJS，下文以此为例</li></ul><h2 id="npm镜像源修改"><a href="#npm镜像源修改" class="headerlink" title="npm镜像源修改"></a>npm镜像源修改</h2><h3 id="常用镜像说明"><a href="#常用镜像说明" class="headerlink" title="常用镜像说明"></a>常用镜像说明</h3><ul><li><p>官方默认镜像</p><blockquote><p>registry <code>https://registry.npmjs.org/</code></p></blockquote></li><li><p>淘宝镜像</p><blockquote><p>官网：<span class="exturl" data-url="aHR0cHM6Ly9ucG0udGFvYmFvLm9yZy8=" title="https://npm.taobao.org/">https://npm.taobao.org/<i class="fa fa-external-link"></i></span></p><p>registry <code>http://registry.npm.taobao.org/</code></p></blockquote></li><li><p>CNPMJS </p><blockquote><p>官网：<span class="exturl" data-url="aHR0cHM6Ly9jbnBtanMub3JnLw==" title="https://cnpmjs.org/">https://cnpmjs.org/<i class="fa fa-external-link"></i></span></p><p>registry <code>http://registry.cnpmjs.org/</code></p></blockquote></li></ul><h3 id="方式1：通过命令设置镜像源"><a href="#方式1：通过命令设置镜像源" class="headerlink" title="方式1：通过命令设置镜像源"></a>方式1：通过命令设置镜像源</h3><ul><li><p>执行命令后将源地址写入~/.npmrc文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config set registry http://registry.cnpmjs.org</span><br></pre></td></tr></table></figure></li></ul><h3 id="方式2：直接在文件中指定"><a href="#方式2：直接在文件中指定" class="headerlink" title="方式2：直接在文件中指定"></a>方式2：直接在文件中指定</h3><ul><li><p>修改~/.npmrc文件，直接指定镜像源地址，如果没有此文件新建即可</p><blockquote><p>registry = <span class="exturl" data-url="aHR0cDovL3JlZ2lzdHJ5LmNucG1qcy5vcmc=" title="http://registry.cnpmjs.org">http://registry.cnpmjs.org<i class="fa fa-external-link"></i></span></p></blockquote><p>注：~为用户家目录</p></li></ul><h3 id="方式3：cnpm-命令代替npm"><a href="#方式3：cnpm-命令代替npm" class="headerlink" title="方式3：cnpm 命令代替npm"></a>方式3：cnpm 命令代替npm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install cnpm -g --registry=http://registry.cnpmjs.org</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm 命令</span><br></pre></td></tr></table></figure><h3 id="查看是否设置成功"><a href="#查看是否设置成功" class="headerlink" title="查看是否设置成功"></a>查看是否设置成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm config get registry</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;NodeJS修改npm镜像源&quot;&gt;&lt;a href=&quot;#NodeJS修改npm镜像源&quot; class=&quot;headerlink&quot; title=&quot;NodeJS修改npm镜像源&quot;&gt;&lt;/a&gt;NodeJS修改npm镜像源&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="NPM" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/NPM/"/>
    
    
      <category term="npm" scheme="https://blog.jyusun.com/tags/npm/"/>
    
      <category term="npm镜像源" scheme="https://blog.jyusun.com/tags/npm%E9%95%9C%E5%83%8F%E6%BA%90/"/>
    
  </entry>
  
</feed>
