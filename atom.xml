<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EvanSun Home</title>
  
  <subtitle>记录、分享</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.jyusun.com/"/>
  <updated>2020-02-12T09:41:06.828Z</updated>
  <id>https://blog.jyusun.com/</id>
  
  <author>
    <name>evansun</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>idea-Java导入设置</title>
    <link href="https://blog.jyusun.com/contents/20190615141126.html"/>
    <id>https://blog.jyusun.com/contents/20190615141126.html</id>
    <published>2019-06-15T06:11:26.000Z</published>
    <updated>2020-02-12T09:41:06.828Z</updated>
    
    <content type="html"><![CDATA[<h1 id="导入设置"><a href="#导入设置" class="headerlink" title="导入设置"></a>导入设置</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>编码时候，需要明确的导入类以便于出现问题时我们查看引用的类是否正确，所以尽量避免引用*这种方式全量导入。</li><li>即时导入和导入优化，解决了我们编码过程中知道类名还需要再次引用选择的问题，以及不调整代码后有些无效的导入自动清理。</li></ul><h2 id="导入变-问题"><a href="#导入变-问题" class="headerlink" title="导入变*问题"></a>导入变*问题</h2><ul><li><p>当导入的同一包下的类超过默认指定的数量时会自动变成*</p></li><li><p>设置方法：<code>File</code>-&gt;<code>Setting</code>-&gt;<code>Editor</code>-&gt;<code>Code Style</code>-&gt;<code>Java</code>-&gt;<code>imports</code></p><img src="/contents/20190615141126/imports.jpg" title="ideaversion"></li></ul><h2 id="即时导入和优化导入"><a href="#即时导入和优化导入" class="headerlink" title="即时导入和优化导入"></a>即时导入和优化导入</h2><ul><li>编写代码的过程中所使用的明确的类会自动导入进来，无用的类会被及时清理掉</li><li>设置方法：<code>File</code>-&gt;<code>Setting</code>-&gt;<code>Editor</code>-&gt;<code>General</code>-&gt;<code>Auto Import</code></li></ul><p>​    <img src="/contents/20190615141126/import_package.jpg" title="ideaversion"></p><blockquote><p>导入明确的类</p><p>即时优化当前导入</p></blockquote><p>注：如不明确的类需要自己Alt+Enter自行导入，也可以使用Ctrl+Shift+Alt+L快捷键优化导入</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;导入设置&quot;&gt;&lt;a href=&quot;#导入设置&quot; class=&quot;headerlink&quot; title=&quot;导入设置&quot;&gt;&lt;/a&gt;导入设置&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="工具配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="idea" scheme="https://blog.jyusun.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>idea-设置代码超出限定长度自动换行</title>
    <link href="https://blog.jyusun.com/contents/20190605160148.html"/>
    <id>https://blog.jyusun.com/contents/20190605160148.html</id>
    <published>2019-06-05T08:01:48.000Z</published>
    <updated>2020-02-12T09:40:16.909Z</updated>
    
    <content type="html"><![CDATA[<h1 id="代码超出限定长度自动换行"><a href="#代码超出限定长度自动换行" class="headerlink" title="代码超出限定长度自动换行"></a>代码超出限定长度自动换行</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li><p>依据阿里巴巴开发规范 限定每行代码长度120</p></li><li><p>Windows下idea版本展示</p><img src="/contents/20190605160148/idea-version.jpg" title="ideaversion"></li></ul><h2 id="限定长度自动换行"><a href="#限定长度自动换行" class="headerlink" title="限定长度自动换行"></a>限定长度自动换行</h2><ul><li><p>默认每行展示长度为120，限制为120</p></li><li><p>设置方法：<code>File</code>-&gt;<code>Setting</code>-&gt;<code>Editor</code>-&gt;<code>Code Style</code></p><blockquote><p>选中<code>Wrap on typing</code>，输入超过限定长度时，自动换行。</p></blockquote><img src="/contents/20190605160148/set-length.jpg" title="ideaversion"></li></ul><h2 id="代码格式化时换行"><a href="#代码格式化时换行" class="headerlink" title="代码格式化时换行"></a>代码格式化时换行</h2><ul><li><p>设置方法：<code>File</code>-&gt;<code>Setting</code>-&gt;<code>Editor</code>-&gt;<code>Code Style</code>-&gt;<code>Java</code>-&gt;<code>Wrapping and Braces</code></p><blockquote><p>选中<code>Ensure right marigin is not exceed</code>，当执行代码格式化时，会自动根据限定长度换行</p></blockquote><img src="/contents/20190605160148/format.jpg" title="ideaversion"></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;代码超出限定长度自动换行&quot;&gt;&lt;a href=&quot;#代码超出限定长度自动换行&quot; class=&quot;headerlink&quot; title=&quot;代码超出限定长度自动换行&quot;&gt;&lt;/a&gt;代码超出限定长度自动换行&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="开发工具" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="idea" scheme="https://blog.jyusun.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>VirtualBox-Install-Android-x86_64</title>
    <link href="https://blog.jyusun.com/contents/20190423125339.html"/>
    <id>https://blog.jyusun.com/contents/20190423125339.html</id>
    <published>2019-04-23T04:53:39.000Z</published>
    <updated>2019-04-24T02:57:39.239Z</updated>
    
    <content type="html"><![CDATA[<h1 id="VirtualBox-Install-Android-x86-64"><a href="#VirtualBox-Install-Android-x86-64" class="headerlink" title="VirtualBox-Install-Android-x86_64"></a>VirtualBox-Install-Android-x86_64</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>先上图片，具体说明稍后维护</li><li>VirtualBox版本：6.0.6</li><li>Android-x86_64版本：8.1-r1</li></ul><h2 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h2><img src="/contents/20190423125339/newvm1.jpg" title="点击新建"><img src="/contents/20190423125339/newvm2version.jpg" title="指定其他版本"><img src="/contents/20190423125339/newvm3ram.jpg" title="调整虚拟机内存"><img src="/contents/20190423125339/newvm4newfile.jpg" title="新创建一个虚拟磁盘"><img src="/contents/20190423125339/newvm5filetype.jpg" title="指定虚拟磁盘类型"><img src="/contents/20190423125339/newvm6.jpg" title="动态分配"><img src="/contents/20190423125339/newvm7disk.jpg" title="指定磁盘大小"><img src="/contents/20190423125339/newvm8cpu.jpg" title="分配cpu"><img src="/contents/20190423125339/newvm9show.jpg" title="显存"><img src="/contents/20190423125339/newvm10.jpg" title="显添加安卓iso镜像"><img src="/contents/20190423125339/newvm11.jpg" title="注册iso镜像"><img src="/contents/20190423125339/newvm12.jpg" title="完成"><img src="/contents/20190423125339/newvm13.jpg" title="网络"><h2 id="系统安装图解"><a href="#系统安装图解" class="headerlink" title="系统安装图解"></a>系统安装图解</h2><ul><li>虚拟机配置完成后，启动安装</li></ul><img src="/contents/20190423125339/install1.jpg" title="启动安装"><img src="/contents/20190423125339/install2.jpg" title="启动安装"><img src="/contents/20190423125339/install3gpt.jpg" title="启动安装"><img src="/contents/20190423125339/install4newdisk.jpg" title="启动安装"><img src="/contents/20190423125339/install5enter.jpg" title="启动安装"><img src="/contents/20190423125339/install6bootable.jpg" title="启动安装"><img src="/contents/20190423125339/install7write.jpg" title="启动安装"><img src="/contents/20190423125339/install8quit.jpg" title="启动安装"><img src="/contents/20190423125339/install9ok.jpg" title="启动安装"><img src="/contents/20190423125339/install10ext4.jpg" title="启动安装"><img src="/contents/20190423125339/install11formatext4.jpg" title="启动安装"><img src="/contents/20190423125339/install12GRUB.jpg" title="启动安装"><img src="/contents/20190423125339/install13.jpg" title="启动安装"><img src="/contents/20190423125339/install14.rebootjpg.jpg" title="重启"><img src="/contents/20190423125339/install15rm.jpg" title="删除iso"><img src="/contents/20190423125339/install16sys.jpg" title="安装完成">]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;VirtualBox-Install-Android-x86-64&quot;&gt;&lt;a href=&quot;#VirtualBox-Install-Android-x86-64&quot; class=&quot;headerlink&quot; title=&quot;VirtualBox-Install-Android
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>基于Windows10安装配置及卸载MySQL8社区版</title>
    <link href="https://blog.jyusun.com/contents/20190328112159.html"/>
    <id>https://blog.jyusun.com/contents/20190328112159.html</id>
    <published>2019-03-28T03:21:59.000Z</published>
    <updated>2020-02-12T09:42:48.506Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装配置及卸载MySQL8社区版"><a href="#安装配置及卸载MySQL8社区版" class="headerlink" title="安装配置及卸载MySQL8社区版"></a>安装配置及卸载MySQL8社区版</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>今天写一个工具，需要使用到数据库，于是在电脑上安装了一个MySQL8社区版数据库，对整个安装过程进行了如下整理。</li></ul><h2 id="下载MySQL并解压缩"><a href="#下载MySQL并解压缩" class="headerlink" title="下载MySQL并解压缩"></a>下载MySQL并解压缩</h2><h3 id="下载社区版"><a href="#下载社区版" class="headerlink" title="下载社区版"></a>下载社区版</h3><ul><li>点击进入<span class="exturl" data-url="aHR0cHM6Ly9kZXYubXlzcWwuY29tL2Rvd25sb2Fkcy9teXNxbC8=" title="https://dev.mysql.com/downloads/mysql/">MySQL最新社区版下载<i class="fa fa-external-link"></i></span>页面</li></ul><h3 id="解压缩文件"><a href="#解压缩文件" class="headerlink" title="解压缩文件"></a>解压缩文件</h3><ul><li><p>使用解压缩工具对压缩包进行解压</p><img src="/contents/20190328112159/unzip.jpg" title="解压缩"></li><li><p>压缩包内文件展示</p><img src="/contents/20190328112159/showfiles.jpg" title="初始压缩包文件内容"></li></ul><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><ul><li><p>MYSQL_HOME配置</p><blockquote><p>MYSQL_HOME=安装地址</p></blockquote><img src="/contents/20190328112159/mysqlhome.jpg" title="MYSQL_HOME"></li><li><p>path中配置bin目录</p><img src="/contents/20190328112159/path.jpg" title="path环境变量配置"></li></ul><h3 id="MySQL配置文件"><a href="#MySQL配置文件" class="headerlink" title="MySQL配置文件"></a>MySQL配置文件</h3><ul><li>根目录下新建<code>my-default.ini</code>或<code>my.ini</code>文件并添加以下内容</li></ul><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Other default tuning values</span></span><br><span class="line"><span class="comment"># MySQL Server Instance Configuration File</span></span><br><span class="line"><span class="comment"># ----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Generated by the MySQL Server Instance Configuration Wizard</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Installation Instructions</span></span><br><span class="line"><span class="comment"># ----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># On Linux you can copy this file to /etc/my.cnf to set global options,</span></span><br><span class="line"><span class="comment"># mysql-data-dir/my.cnf to set server-specific options</span></span><br><span class="line"><span class="comment"># (@localstatedir@ for this installation) or to</span></span><br><span class="line"><span class="comment"># ~/.my.cnf to set user-specific options.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># On Windows you should keep this file in the installation directory </span></span><br><span class="line"><span class="comment"># of your server (e.g. C:\Program Files\MySQL\MySQL Server X.Y). To</span></span><br><span class="line"><span class="comment"># make sure the server reads the config file use the startup option </span></span><br><span class="line"><span class="comment"># "--defaults-file". </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To run run the server from the command line, execute this in a </span></span><br><span class="line"><span class="comment"># command line shell, e.g.</span></span><br><span class="line"><span class="comment"># mysqld --defaults-file="G:\Mysql\mysql-5.6.10-winx64\my.ini"</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># To install the server as a Windows service manually, execute this in a </span></span><br><span class="line"><span class="comment"># command line shell, e.g.</span></span><br><span class="line"><span class="comment"># mysqld --install MySQLXY --defaults-file="G:\Mysql\mysql-5.6.10-winx64\my.ini"</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># And then execute this in a command line shell to start the server, e.g.</span></span><br><span class="line"><span class="comment"># net start MySQLXY</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Guildlines for editing this file</span></span><br><span class="line"><span class="comment"># ----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># In this file, you can use all long options that the program supports.</span></span><br><span class="line"><span class="comment"># If you want to know the options a program supports, start the program</span></span><br><span class="line"><span class="comment"># with the "--help" option.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># More detailed information about the individual options can also be</span></span><br><span class="line"><span class="comment"># found in the manual.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># For advice on how to change settings please see</span></span><br><span class="line"><span class="comment"># http://dev.mysql.com/doc/refman/5.6/en/server-configuration-defaults.html</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># CLIENT SECTION</span></span><br><span class="line"><span class="comment"># ----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following options will be read by MySQL client applications.</span></span><br><span class="line"><span class="comment"># Note that only client applications shipped by MySQL are guaranteed</span></span><br><span class="line"><span class="comment"># to read this section. If you want your own MySQL client program to</span></span><br><span class="line"><span class="comment"># honor these values, you need to specify it as an option during the</span></span><br><span class="line"><span class="comment"># MySQL client library initialization.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="comment">#password =1234</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pipe</span></span><br><span class="line"><span class="comment"># socket=mysql</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br><span class="line"><span class="section">[mysql]</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"><span class="attr">default-character-set</span>=utf8</span><br><span class="line"><span class="comment"># SERVER SECTION</span></span><br><span class="line"><span class="comment"># ----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># The following options will be read by the MySQL Server. Make sure that</span></span><br><span class="line"><span class="comment"># you have installed the server correctly (see above) so it reads this </span></span><br><span class="line"><span class="comment"># file.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># server_type=3</span></span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The next three options are mutually exclusive to SERVER_PORT below.</span></span><br><span class="line"><span class="comment"># skip-networking</span></span><br><span class="line"><span class="comment"># enable-named-pipe</span></span><br><span class="line"><span class="comment"># The Pipe the MySQL Server will use</span></span><br><span class="line"><span class="comment"># socket=mysql</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The TCP/IP Port the MySQL Server will listen on</span></span><br><span class="line"><span class="attr">port</span>=<span class="number">3306</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to installation directory. All paths are usually resolved relative to this.</span></span><br><span class="line"><span class="attr">basedir</span>=%MYSQL_HOME%</span><br><span class="line"></span><br><span class="line"><span class="comment"># Path to the database root</span></span><br><span class="line"><span class="attr">datadir</span>=%MYSQL_HOME%/data</span><br><span class="line"></span><br><span class="line"><span class="comment"># The default character set that will be used when a new schema or table is</span></span><br><span class="line"><span class="comment"># created and no character set is defined</span></span><br><span class="line"><span class="attr">character-set-server</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="comment"># The default storage engine that will be used when create new tables when</span></span><br><span class="line"><span class="attr">default-storage-engine</span>=INNODB</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the SQL mode to strict</span></span><br><span class="line"><span class="attr">sql-mode</span>=<span class="string">"STRICT_TRANS_TABLES,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable Windows Authentication</span></span><br><span class="line"><span class="comment"># plugin-load=authentication_windows.dll</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># General and Slow logging.</span></span><br><span class="line"><span class="attr">log-output</span>=NONE</span><br><span class="line"><span class="attr">general-log</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">general_log_file</span>=<span class="string">"database-mysql.log"</span></span><br><span class="line"><span class="attr">slow-query-log</span>=<span class="number">0</span></span><br><span class="line"><span class="attr">slow_query_log_file</span>=<span class="string">"database-mysql-slow.log"</span></span><br><span class="line"><span class="attr">long_query_time</span>=<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Binary Logging.</span></span><br><span class="line"><span class="comment"># log-bin</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Error Logging.</span></span><br><span class="line"><span class="attr">log-error</span>=<span class="string">"database-mysql.err"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The maximum amount of concurrent sessions the MySQL server will</span></span><br><span class="line"><span class="comment"># allow. One of these connections will be reserved for a user with</span></span><br><span class="line"><span class="comment"># SUPER privileges to allow the administrator to login even if the</span></span><br><span class="line"><span class="comment"># connection limit has been reached.</span></span><br><span class="line"><span class="attr">max_connections</span>=<span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Query cache is used to cache SELECT results and later return them</span></span><br><span class="line"><span class="comment"># without actual executing the same query once again. Having the query</span></span><br><span class="line"><span class="comment"># cache enabled may result in significant speed improvements, if your</span></span><br><span class="line"><span class="comment"># have a lot of identical queries and rarely changing tables. See the</span></span><br><span class="line"><span class="comment"># "Qcache_lowmem_prunes" status variable to check if the current value</span></span><br><span class="line"><span class="comment"># is high enough for your load.</span></span><br><span class="line"><span class="comment"># <span class="doctag">Note:</span> In case your tables change very often or if your queries are</span></span><br><span class="line"><span class="comment"># textually different every time, the query cache may result in a</span></span><br><span class="line"><span class="comment"># slowdown instead of a performance improvement.</span></span><br><span class="line"><span class="attr">query_cache_size</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of open tables for all threads. Increasing this value</span></span><br><span class="line"><span class="comment"># increases the number of file descriptors that mysqld requires.</span></span><br><span class="line"><span class="comment"># Therefore you have to make sure to set the amount of open files</span></span><br><span class="line"><span class="comment"># allowed to at least 4096 in the variable "open-files-limit" in</span></span><br><span class="line"><span class="comment"># section [mysqld_safe]</span></span><br><span class="line"><span class="attr">table_open_cache</span>=<span class="number">2000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Maximum size for internal (in-memory) temporary tables. If a table</span></span><br><span class="line"><span class="comment"># grows larger than this value, it is automatically converted to disk</span></span><br><span class="line"><span class="comment"># based table This limitation is for a single table. There can be many</span></span><br><span class="line"><span class="comment"># of them.</span></span><br><span class="line"><span class="attr">tmp_table_size</span>=<span class="number">20</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># How many threads we should keep in a cache for reuse. When a client</span></span><br><span class="line"><span class="comment"># disconnects, the client's threads are put in the cache if there aren't</span></span><br><span class="line"><span class="comment"># more than thread_cache_size threads from before.  This greatly reduces</span></span><br><span class="line"><span class="comment"># the amount of thread creations needed if you have a lot of new</span></span><br><span class="line"><span class="comment"># connections. (Normally this doesn't give a notable performance</span></span><br><span class="line"><span class="comment"># improvement if you have a good thread implementation.)</span></span><br><span class="line"><span class="attr">thread_cache_size</span>=<span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#*** MyISAM Specific options</span></span><br><span class="line"><span class="comment"># The maximum size of the temporary file MySQL is allowed to use while</span></span><br><span class="line"><span class="comment"># recreating the index (during REPAIR, ALTER TABLE or LOAD DATA INFILE.</span></span><br><span class="line"><span class="comment"># If the file-size would be bigger than this, the index will be created</span></span><br><span class="line"><span class="comment"># through the key cache (which is slower).</span></span><br><span class="line"><span class="attr">myisam_max_sort_file_size</span>=<span class="number">100</span>G</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the temporary file used for fast index creation would be bigger</span></span><br><span class="line"><span class="comment"># than using the key cache by the amount specified here, then prefer the</span></span><br><span class="line"><span class="comment"># key cache method.  This is mainly used to force long character keys in</span></span><br><span class="line"><span class="comment"># large tables to use the slower key cache method to create the index.</span></span><br><span class="line"><span class="attr">myisam_sort_buffer_size</span>=<span class="number">39</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># Size of the Key Buffer, used to cache index blocks for MyISAM tables.</span></span><br><span class="line"><span class="comment"># Do not set it larger than 30% of your available memory, as some memory</span></span><br><span class="line"><span class="comment"># is also required by the OS to cache rows. Even if you're not using</span></span><br><span class="line"><span class="comment"># MyISAM tables, you should still set it to 8-64M as it will also be</span></span><br><span class="line"><span class="comment"># used for internal temporary disk tables.</span></span><br><span class="line"><span class="attr">key_buffer_size</span>=<span class="number">8</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># Size of the buffer used for doing full table scans of MyISAM tables.</span></span><br><span class="line"><span class="comment"># Allocated per thread, if a full scan is needed.</span></span><br><span class="line"><span class="attr">read_buffer_size</span>=<span class="number">64</span>K</span><br><span class="line"><span class="attr">read_rnd_buffer_size</span>=<span class="number">256</span>K</span><br><span class="line"></span><br><span class="line"><span class="comment"># This buffer is allocated when MySQL needs to rebuild the index in</span></span><br><span class="line"><span class="comment"># REPAIR, OPTIMZE, ALTER table statements as well as in LOAD DATA INFILE</span></span><br><span class="line"><span class="comment"># into an empty table. It is allocated per thread so be careful with</span></span><br><span class="line"><span class="comment"># large settings.</span></span><br><span class="line"><span class="attr">sort_buffer_size</span>=<span class="number">256</span>K</span><br><span class="line"></span><br><span class="line"><span class="comment">#*** INNODB Specific options ***</span></span><br><span class="line"><span class="comment"># innodb_data_home_dir=0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use this option if you have a MySQL server with InnoDB support enabled</span></span><br><span class="line"><span class="comment"># but you do not plan to use it. This will save memory and disk space</span></span><br><span class="line"><span class="comment"># and speed up some things.</span></span><br><span class="line"><span class="comment"># skip-innodb</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Additional memory pool that is used by InnoDB to store metadata</span></span><br><span class="line"><span class="comment"># information.  If InnoDB requires more memory for this purpose it will</span></span><br><span class="line"><span class="comment"># start to allocate it from the OS.  As this is fast enough on most</span></span><br><span class="line"><span class="comment"># recent operating systems, you normally do not need to change this</span></span><br><span class="line"><span class="comment"># value. SHOW INNODB STATUS will display the current amount used.</span></span><br><span class="line"><span class="attr">innodb_additional_mem_pool_size</span>=<span class="number">2</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># If set to 1, InnoDB will flush (fsync) the transaction logs to the</span></span><br><span class="line"><span class="comment"># disk at each commit, which offers full ACID behavior. If you are</span></span><br><span class="line"><span class="comment"># willing to compromise this safety, and you are running small</span></span><br><span class="line"><span class="comment"># transactions, you may set this to 0 or 2 to reduce disk I/O to the</span></span><br><span class="line"><span class="comment"># logs. Value 0 means that the log is only written to the log file and</span></span><br><span class="line"><span class="comment"># the log file flushed to disk approximately once per second. Value 2</span></span><br><span class="line"><span class="comment"># means the log is written to the log file at each commit, but the log</span></span><br><span class="line"><span class="comment"># file is only flushed to disk approximately once per second.</span></span><br><span class="line"><span class="attr">innodb_flush_log_at_trx_commit</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The size of the buffer InnoDB uses for buffering log data. As soon as</span></span><br><span class="line"><span class="comment"># it is full, InnoDB will have to flush it to disk. As it is flushed</span></span><br><span class="line"><span class="comment"># once per second anyway, it does not make sense to have it very large</span></span><br><span class="line"><span class="comment"># (even with long transactions).</span></span><br><span class="line"><span class="attr">innodb_log_buffer_size</span>=<span class="number">1</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># InnoDB, unlike MyISAM, uses a buffer pool to cache both indexes and</span></span><br><span class="line"><span class="comment"># row data. The bigger you set this the less disk I/O is needed to</span></span><br><span class="line"><span class="comment"># access data in tables. On a dedicated database server you may set this</span></span><br><span class="line"><span class="comment"># parameter up to 80% of the machine physical memory size. Do not set it</span></span><br><span class="line"><span class="comment"># too large, though, because competition of the physical memory may</span></span><br><span class="line"><span class="comment"># cause paging in the operating system.  Note that on 32bit systems you</span></span><br><span class="line"><span class="comment"># might be limited to 2-3.5G of user level memory per process, so do not</span></span><br><span class="line"><span class="comment"># set it too high.</span></span><br><span class="line"><span class="attr">innodb_buffer_pool_size</span>=<span class="number">97</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># Size of each log file in a log group. You should set the combined size</span></span><br><span class="line"><span class="comment"># of log files to about 25%-100% of your buffer pool size to avoid</span></span><br><span class="line"><span class="comment"># unneeded buffer pool flush activity on log file overwrite. However,</span></span><br><span class="line"><span class="comment"># note that a larger logfile size will increase the time needed for the</span></span><br><span class="line"><span class="comment"># recovery process.</span></span><br><span class="line"><span class="attr">innodb_log_file_size</span>=<span class="number">48</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># Number of threads allowed inside the InnoDB kernel. The optimal value</span></span><br><span class="line"><span class="comment"># depends highly on the application, hardware as well as the OS</span></span><br><span class="line"><span class="comment"># scheduler properties. A too high value may lead to thread thrashing.</span></span><br><span class="line"><span class="attr">innodb_thread_concurrency</span>=<span class="number">9</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The increment size (in MB) for extending the size of an auto-extend InnoDB system tablespace file when it becomes full.</span></span><br><span class="line"><span class="attr">innodb_autoextend_increment</span>=<span class="number">64</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of regions that the InnoDB buffer pool is divided into.</span></span><br><span class="line"><span class="comment"># For systems with buffer pools in the multi-gigabyte range, dividing the buffer pool into separate instances can improve concurrency,</span></span><br><span class="line"><span class="comment"># by reducing contention as different threads read and write to cached pages.</span></span><br><span class="line"><span class="attr">innodb_buffer_pool_instances</span>=<span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Determines the number of threads that can enter InnoDB concurrently.</span></span><br><span class="line"><span class="attr">innodb_concurrency_tickets</span>=<span class="number">5000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specifies how long in milliseconds (ms) a block inserted into the old sublist must stay there after its first access before</span></span><br><span class="line"><span class="comment"># it can be moved to the new sublist.</span></span><br><span class="line"><span class="attr">innodb_old_blocks_time</span>=<span class="number">1000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># It specifies the maximum number of .ibd files that MySQL can keep open at one time. The minimum value is 10.</span></span><br><span class="line"><span class="attr">innodb_open_files</span>=<span class="number">300</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When this variable is enabled, InnoDB updates statistics during metadata statements.</span></span><br><span class="line"><span class="attr">innodb_stats_on_metadata</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># When innodb_file_per_table is enabled (the default in 5.6.6 and higher), InnoDB stores the data and indexes for each newly created table</span></span><br><span class="line"><span class="comment"># in a separate .ibd file, rather than in the system tablespace.</span></span><br><span class="line"><span class="attr">innodb_file_per_table</span>=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Use the following list of values: 0 for crc32, 1 for strict_crc32, 2 for innodb, 3 for strict_innodb, 4 for none, 5 for strict_none.</span></span><br><span class="line"><span class="attr">innodb_checksum_algorithm</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of outstanding connection requests MySQL can have.</span></span><br><span class="line"><span class="comment"># This option is useful when the main MySQL thread gets many connection requests in a very short time.</span></span><br><span class="line"><span class="comment"># It then takes some time (although very little) for the main thread to check the connection and start a new thread.</span></span><br><span class="line"><span class="comment"># The back_log value indicates how many requests can be stacked during this short time before MySQL momentarily</span></span><br><span class="line"><span class="comment"># stops answering new requests.</span></span><br><span class="line"><span class="comment"># You need to increase this only if you expect a large number of connections in a short period of time.</span></span><br><span class="line"><span class="attr">back_log</span>=<span class="number">70</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If this is set to a nonzero value, all tables are closed every flush_time seconds to free up resources and</span></span><br><span class="line"><span class="comment"># synchronize unflushed data to disk.</span></span><br><span class="line"><span class="comment"># This option is best used only on systems with minimal resources.</span></span><br><span class="line"><span class="attr">flush_time</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The minimum size of the buffer that is used for plain index scans, range index scans, and joins that do not use</span></span><br><span class="line"><span class="comment"># indexes and thus perform full table scans.</span></span><br><span class="line"><span class="attr">join_buffer_size</span>=<span class="number">256</span>K</span><br><span class="line"></span><br><span class="line"><span class="comment"># The maximum size of one packet or any generated or intermediate string, or any parameter sent by the</span></span><br><span class="line"><span class="comment"># mysql_stmt_send_long_data() C API function.</span></span><br><span class="line"><span class="attr">max_allowed_packet</span>=<span class="number">4</span>M</span><br><span class="line"></span><br><span class="line"><span class="comment"># If more than this many successive connection requests from a host are interrupted without a successful connection,</span></span><br><span class="line"><span class="comment"># the server blocks that host from performing further connections.</span></span><br><span class="line"><span class="attr">max_connect_errors</span>=<span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Changes the number of file descriptors available to mysqld.</span></span><br><span class="line"><span class="comment"># You should try increasing the value of this option if mysqld gives you the error "Too many open files".</span></span><br><span class="line"><span class="attr">open_files_limit</span>=<span class="number">4110</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the query cache type. 0 for OFF, 1 for ON and 2 for DEMAND.</span></span><br><span class="line"><span class="attr">query_cache_type</span>=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If you see many sort_merge_passes per second in SHOW GLOBAL STATUS output, you can consider increasing the</span></span><br><span class="line"><span class="comment"># sort_buffer_size value to speed up ORDER BY or GROUP BY operations that cannot be improved with query optimization</span></span><br><span class="line"><span class="comment"># or improved indexing.</span></span><br><span class="line"><span class="attr">sort_buffer_size</span>=<span class="number">256</span>K</span><br><span class="line"></span><br><span class="line"><span class="comment"># The number of table definitions (from .frm files) that can be stored in the definition cache.</span></span><br><span class="line"><span class="comment"># If you use a large number of tables, you can create a large table definition cache to speed up opening of tables.</span></span><br><span class="line"><span class="comment"># The table definition cache takes less space and does not use file descriptors, unlike the normal table cache.</span></span><br><span class="line"><span class="comment"># The minimum and default values are both 400.</span></span><br><span class="line"><span class="attr">table_definition_cache</span>=<span class="number">1400</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specify the maximum size of a row-based binary log event, in bytes.</span></span><br><span class="line"><span class="comment"># Rows are grouped into events smaller than this size if possible. The value should be a multiple of 256.</span></span><br><span class="line"><span class="attr">binlog_row_event_max_size</span>=<span class="number">8</span>K</span><br><span class="line"></span><br><span class="line"><span class="comment"># If the value of this variable is greater than 0, a replication slave synchronizes its master.info file to disk.</span></span><br><span class="line"><span class="comment"># (using fdatasync()) after every sync_master_info events.</span></span><br><span class="line"><span class="attr">sync_master_info</span>=<span class="number">10000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the value of this variable is greater than 0, the MySQL server synchronizes its relay log to disk.</span></span><br><span class="line"><span class="comment"># (using fdatasync()) after every sync_relay_log writes to the relay log.</span></span><br><span class="line"><span class="attr">sync_relay_log</span>=<span class="number">10000</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If the value of this variable is greater than 0, a replication slave synchronizes its relay-log.info file to disk.</span></span><br><span class="line"><span class="comment"># (using fdatasync()) after every sync_relay_log_info transactions.</span></span><br><span class="line"><span class="attr">sync_relay_log_info</span>=<span class="number">10000</span></span><br></pre></td></tr></table></figure><p>注：如果初始化过程中提示找不到路径<code>basedir</code>和<code>datadir</code>修改为绝对路径</p><h2 id="数据库初始化"><a href="#数据库初始化" class="headerlink" title="数据库初始化"></a>数据库初始化</h2><h3 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h3><ul><li><p>通过cmd窗口执行初始化数据库命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld --initialize --console</span><br></pre></td></tr></table></figure><p>注：此命令执行成功会在<code>MYSQL_HOME/data</code>下生成一些文件及root用户初始密码。</p><img src="/contents/20190328112159/init.jpg" title="数据库初始化"><p>注：红色部分为初始密码需要记录，也可在<code>MYSQL_HOME/data</code>路径下<code>主机名.err</code>文件中找到</p></li></ul><h2 id="服务安装及启动"><a href="#服务安装及启动" class="headerlink" title="服务安装及启动"></a>服务安装及启动</h2><ul><li>以管理员身份运行cmd窗口，执行下面的命令</li></ul><h3 id="安装服务"><a href="#安装服务" class="headerlink" title="安装服务"></a>安装服务</h3><ul><li><p>将mysql服务安装到服务列表中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld install</span><br></pre></td></tr></table></figure></li></ul><h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><ul><li><p>启动mysql服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mysql</span><br></pre></td></tr></table></figure></li></ul><h2 id="安装完成测试"><a href="#安装完成测试" class="headerlink" title="安装完成测试"></a>安装完成测试</h2><ul><li><p>通过工具<code>Navicat Premium</code>连接，登陆成功</p><img src="/contents/20190328112159/ok.jpg" title="登陆成功"><p>注：第一次登陆会提示修改密码</p></li></ul><h2 id="卸载MySQL数据库"><a href="#卸载MySQL数据库" class="headerlink" title="卸载MySQL数据库"></a>卸载MySQL数据库</h2><ul><li>MySQL卸载步骤进行如下整理</li></ul><h3 id="停止服务"><a href="#停止服务" class="headerlink" title="停止服务"></a>停止服务</h3><ul><li><p>通过cmd窗口执行命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop mysql</span><br></pre></td></tr></table></figure></li></ul><h3 id="卸载服务"><a href="#卸载服务" class="headerlink" title="卸载服务"></a>卸载服务</h3><ul><li><p>通过cmd窗口执行命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld -remove</span><br></pre></td></tr></table></figure></li></ul><h3 id="删除环境变量"><a href="#删除环境变量" class="headerlink" title="删除环境变量"></a>删除环境变量</h3><ul><li>删除MySQL相关的环境变量</li></ul><h3 id="删除解压包"><a href="#删除解压包" class="headerlink" title="删除解压包"></a>删除解压包</h3><ul><li>删除MySQL解压包，卸载完成</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;安装配置及卸载MySQL8社区版&quot;&gt;&lt;a href=&quot;#安装配置及卸载MySQL8社区版&quot; class=&quot;headerlink&quot; title=&quot;安装配置及卸载MySQL8社区版&quot;&gt;&lt;/a&gt;安装配置及卸载MySQL8社区版&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="程序安装" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="mysql安装" scheme="https://blog.jyusun.com/tags/mysql%E5%AE%89%E8%A3%85/"/>
    
      <category term="mysql卸载" scheme="https://blog.jyusun.com/tags/mysql%E5%8D%B8%E8%BD%BD/"/>
    
      <category term="mysql8" scheme="https://blog.jyusun.com/tags/mysql8/"/>
    
  </entry>
  
  <entry>
    <title>设置yum阿里源或本地源</title>
    <link href="https://blog.jyusun.com/contents/20190321110041.html"/>
    <id>https://blog.jyusun.com/contents/20190321110041.html</id>
    <published>2019-03-21T03:00:41.000Z</published>
    <updated>2020-02-14T04:26:38.963Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设置yum阿里源或本地源"><a href="#设置yum阿里源或本地源" class="headerlink" title="设置yum阿里源或本地源"></a>设置yum阿里源或本地源</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>Yum（全称为 Yellow dog Updater, Modified）是一个在Fedora和RedHat以及CentOS中的<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9TaGVsbA==" title="https://baike.baidu.com/item/Shell">Shell<i class="fa fa-external-link"></i></span>前端软件包管理器。基于<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9SUE0=" title="https://baike.baidu.com/item/RPM">RPM<i class="fa fa-external-link"></i></span>包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软件包，无须繁琐地一次次下载、安装。摘自：<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS95dW0vMjgzNTc3MT9mcj1hbGFkZGlu" title="https://baike.baidu.com/item/yum/2835771?fr=aladdin">百度百科<i class="fa fa-external-link"></i></span></li><li>场景1：CentOS默认的yum软件仓库源是境外的，虽然没有被墙，但是有时候下载些软件也还是很慢的，所以将yum源改阿里软件仓库源。</li><li>场景2：CentOS服务器处在内网环境中，缺少依赖手动安装那么会非常麻烦，需要花费大量时间寻找rpm包及相互间依赖的包在上传。现在搭建本地的yum软件仓库源，解决环境是无法联网的情况下，要使用yum的问题。</li></ul><h2 id="阿里软件仓库源"><a href="#阿里软件仓库源" class="headerlink" title="阿里软件仓库源"></a>阿里软件仓库源</h2><h3 id="备份基础源"><a href="#备份基础源" class="headerlink" title="备份基础源"></a>备份基础源</h3><ul><li><p>切换到yum源配置路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br></pre></td></tr></table></figure></li><li><p>备份文件，重命名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv CentOS-Base.repo CentOS-Base.repo_bak</span><br></pre></td></tr></table></figure></li></ul><h3 id="阿里软件仓库源-CentOS7"><a href="#阿里软件仓库源-CentOS7" class="headerlink" title="阿里软件仓库源-CentOS7"></a>阿里软件仓库源-CentOS7</h3><ul><li><p>下载阿里云</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span><br></pre></td></tr></table></figure></li><li><p>生成元数据缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br></pre></td></tr></table></figure></li><li><p>查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure><blockquote><p>已加载插件：fastestmirror<br>Loading mirror speeds from cached hostfile<br> * base: mirrors.aliyun.com<br> * extras: mirrors.aliyun.com<br> * updates: mirrors.aliyun.com</p></blockquote><h3 id="阿里软件仓库源-CentOS8"><a href="#阿里软件仓库源-CentOS8" class="headerlink" title="阿里软件仓库源-CentOS8"></a>阿里软件仓库源-CentOS8</h3></li><li><p>下载阿里云</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo</span><br></pre></td></tr></table></figure></li><li><p>编辑AppStream</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim CentOS-AppStream.repo</span><br></pre></td></tr></table></figure><blockquote><p>[AppStream]<br>name=CentOS-$releasever - AppStream<br>#mirrorlist=<span class="exturl" data-url="aHR0cDovL21pcnJvcmxpc3QuY2VudG9zLm9yZy8/cmVsZWFzZT0kcmVsZWFzZXZlciZhbXA7YXJjaD0kYmFzZWFyY2gmYW1wO3JlcG89QXBwU3RyZWFtJmFtcDtpbmZyYT0kaW5mcmE=" title="http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=AppStream&amp;infra=$infra">http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=AppStream&amp;infra=$infra<i class="fa fa-external-link"></i></span><br>#baseurl=<span class="exturl" data-url="aHR0cDovL21pcnJvci5jZW50b3Mub3JnLyRjb250ZW50ZGlyLyRyZWxlYXNldmVyL0FwcFN0cmVhbS8kYmFzZWFyY2gvb3Mv" title="http://mirror.centos.org/$contentdir/$releasever/AppStream/$basearch/os/">http://mirror.centos.org/$contentdir/$releasever/AppStream/$basearch/os/<i class="fa fa-external-link"></i></span><br>baseurl=<span class="exturl" data-url="aHR0cDovL21pcnJvcnMuYWxpeXVuLmNvbS8kY29udGVudGRpci8kcmVsZWFzZXZlci9BcHBTdHJlYW0vJGJhc2VhcmNoL29zLw==" title="http://mirrors.aliyun.com/$contentdir/$releasever/AppStream/$basearch/os/">http://mirrors.aliyun.com/$contentdir/$releasever/AppStream/$basearch/os/<i class="fa fa-external-link"></i></span><br>gpgcheck=1<br>enabled=1<br>gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial</p></blockquote></li><li><p>编辑Extras</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi CentOS-Extras.repo</span><br></pre></td></tr></table></figure><blockquote><p>#additional packages that may be useful<br>[extras]<br>name=CentOS-$releasever - Extras<br>#mirrorlist=<span class="exturl" data-url="aHR0cDovL21pcnJvcmxpc3QuY2VudG9zLm9yZy8/cmVsZWFzZT0kcmVsZWFzZXZlciZhbXA7YXJjaD0kYmFzZWFyY2gmYW1wO3JlcG89ZXh0cmFzJmFtcDtpbmZyYT0kaW5mcmE=" title="http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras&amp;infra=$infra">http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras&amp;infra=$infra<i class="fa fa-external-link"></i></span><br>#baseurl=<span class="exturl" data-url="aHR0cDovL21pcnJvci5jZW50b3Mub3JnLyRjb250ZW50ZGlyLyRyZWxlYXNldmVyL2V4dHJhcy8kYmFzZWFyY2gvb3Mv" title="http://mirror.centos.org/$contentdir/$releasever/extras/$basearch/os/">http://mirror.centos.org/$contentdir/$releasever/extras/$basearch/os/<i class="fa fa-external-link"></i></span><br>baseurl=<span class="exturl" data-url="aHR0cDovL21pcnJvcnMuYWxpeXVuLmNvbS8kY29udGVudGRpci8kcmVsZWFzZXZlci9leHRyYXMvJGJhc2VhcmNoL29zLw==" title="http://mirrors.aliyun.com/$contentdir/$releasever/extras/$basearch/os/">http://mirrors.aliyun.com/$contentdir/$releasever/extras/$basearch/os/<i class="fa fa-external-link"></i></span></p><p>gpgcheck=1<br>enabled=1<br>gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial</p></blockquote></li><li><p>生成元数据缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache</span><br></pre></td></tr></table></figure></li><li><p>查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist</span><br></pre></td></tr></table></figure><blockquote><p>已加载插件：fastestmirror<br>Loading mirror speeds from cached hostfile<br> * base: mirrors.aliyun.com<br> * extras: mirrors.aliyun.com<br> * updates: mirrors.aliyun.com</p></blockquote></li></ul><h2 id="本地软件仓库源"><a href="#本地软件仓库源" class="headerlink" title="本地软件仓库源"></a>本地软件仓库源</h2><h3 id="备份所有源数据并删除"><a href="#备份所有源数据并删除" class="headerlink" title="备份所有源数据并删除"></a>备份所有源数据并删除</h3><ul><li><p>切换路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br></pre></td></tr></table></figure></li><li><p>CentOS源打包备份，避免读到其他源中配置外网而读取不到</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zcvf repo_bak.tar.gz CentOS-*</span><br></pre></td></tr></table></figure></li><li><p>删除所有源数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rf *.repo</span><br></pre></td></tr></table></figure></li></ul><h3 id="ISO挂载"><a href="#ISO挂载" class="headerlink" title="ISO挂载"></a>ISO挂载</h3><ul><li><p>查看一下，光驱的位置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/lsblk.jpg" title="sr1"><p>在实体机中配置的时候，一般不去查看lsblk的结果。就认作是/dev/cdrom，虚拟机中则会指向虚拟盘。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ll /dev/cdrom</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/ll.jpg" title="sr0"><p>注：可以看到/dev/cdrom实际上是sr0的符号链接。而我们虚拟中光驱的位置是sr1</p></li><li><p>要使用光驱里的镜像文件，需要将它挂载到当前系统上。这个挂载位置称为挂载点，通常是在 /mnt/ 或者 /media/ 目录下，创建一个子目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/cdrom</span><br></pre></td></tr></table></figure></li><li><p>手动挂载</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sr1 /mnt/cdrom</span><br></pre></td></tr></table></figure></li><li><p>开启激动自动挂载</p><p>编辑文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/fstab/</span><br></pre></td></tr></table></figure><p>写入</p><p><code>/dev/sr1 /mnt/cdrom iso9660 defaults 0 1</code></p></li></ul><table><thead><tr><th>设备位置</th><th>挂载点</th><th>文件系统</th><th>挂载选项</th><th>是否备份</th><th>检查文件系统的顺序</th></tr></thead><tbody><tr><td>/dev/sr1</td><td>/mnt/cdrom</td><td>iso9660</td><td>defaults</td><td>0</td><td>1</td></tr></tbody></table><ul><li><p>查看挂载并生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -a</span><br></pre></td></tr></table></figure><p>注：CentOS7如果不执行这个命令直接重启可能会出现一些错误。</p></li></ul><h3 id="设置本地源"><a href="#设置本地源" class="headerlink" title="设置本地源"></a>设置本地源</h3><ul><li><p>新建本地源文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/yum.repos.d/CentOS-Local.repo</span><br></pre></td></tr></table></figure><blockquote><p>[Local]<br>name=local yum<br>baseurl=file:///mnt/cdrom<br>gpgcheck=1<br>gpgkey=file:///etc/pki/rpm-gpg/RPM-KEY-CentOS-7<br>enbled=1</p></blockquote></li></ul><table><thead><tr><th>字段</th><th>解释</th></tr></thead><tbody><tr><td>[ ]</td><td>软件仓库服务器的id，保证不能已有的仓库id名重复</td></tr><tr><td>name</td><td>是仓库的名字，也任意</td></tr><tr><td>baseurl</td><td>基础路径。它支持三种协议http、ftp、file。图中的file:///mnt/cdrom分成两段来理解：file://(协议名) ， /mnt/cdrom（挂载点）。若有多个baseurl则依次写出</td></tr><tr><td>gpgcheck</td><td>gpg密钥检查字段，值1为则检查gpg密钥，0为不检查</td></tr><tr><td>gpgkey</td><td>gpg密钥所在路径。最后的文件名可能不同centos版本不同。提前检查一下你的/etc/pki/rpm-gpg目录中的文件</td></tr><tr><td>enable</td><td>是否启用该仓库服务器，值为1则启用，0为不启用</td></tr></tbody></table><ul><li><p>生成元数据缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum makecache fast</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/local_source_cache.jpg" title="本地源元数据缓存生成"></li><li><p>查看软件仓库源状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist all</span><br></pre></td></tr></table></figure><img src="/contents/20190321110041/local_source_enable.jpg" title="本地源已启用"></li><li><p>测试</p><img src="/contents/20190321110041/local_source_test.jpg" title="本地源测试"></li></ul><h2 id="局域网软件仓库源"><a href="#局域网软件仓库源" class="headerlink" title="局域网软件仓库源"></a>局域网软件仓库源</h2><ul><li>使用ftp、nginx或Apache服务器，启用并配置可访问到挂载文件夹，在指定baseurl即可。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;设置yum阿里源或本地源&quot;&gt;&lt;a href=&quot;#设置yum阿里源或本地源&quot; class=&quot;headerlink&quot; title=&quot;设置yum阿里源或本地源&quot;&gt;&lt;/a&gt;设置yum阿里源或本地源&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="系统配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="yum源" scheme="https://blog.jyusun.com/tags/yum%E6%BA%90/"/>
    
      <category term="yum本地源" scheme="https://blog.jyusun.com/tags/yum%E6%9C%AC%E5%9C%B0%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-Next7.0主题博客优化</title>
    <link href="https://blog.jyusun.com/contents/20190320112238.html"/>
    <id>https://blog.jyusun.com/contents/20190320112238.html</id>
    <published>2019-03-20T03:22:38.000Z</published>
    <updated>2019-03-20T03:22:38.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hexo-Next7-0主题博客优化"><a href="#Hexo-Next7-0主题博客优化" class="headerlink" title="Hexo-Next7.0主题博客优化"></a>Hexo-Next7.0主题博客优化</h1><h2 id="基础路径说明"><a href="#基础路径说明" class="headerlink" title="基础路径说明"></a>基础路径说明</h2><table><thead><tr><th>名称</th><th>文件</th><th>URL</th></tr></thead><tbody><tr><td>根路径</td><td>BLOG_HEXO</td><td>BLOG_HEXO/</td></tr><tr><td>站点配置文件</td><td>_config.yml</td><td>BLOG_HEXO/_config.yml</td></tr><tr><td>主题配置文件</td><td>_config.yml</td><td>BLOG_HEXO/themes/next/_config.yml</td></tr></tbody></table><p>注：下文中术语以此为准自行匹配</p><h2 id="Hexo站点配置"><a href="#Hexo站点配置" class="headerlink" title="Hexo站点配置"></a>Hexo站点配置</h2><h3 id="站点基础配置"><a href="#站点基础配置" class="headerlink" title="站点基础配置"></a>站点基础配置</h3><ul><li><p>Site</p><blockquote><p>title: EvanSun Home<br>subtitle: 记录、分享<br>description: 男人有实力，才有魅力~<br>keywords:<br>author: evansun<br>language: zh-Hans #指定语言<br>timezone: Asia/Shanghai #指定时区</p></blockquote></li></ul><h3 id="URL访问配置"><a href="#URL访问配置" class="headerlink" title="URL访问配置"></a>URL访问配置</h3><ul><li><p>站点配置文件，关键字：<code>URL</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">url: https://blog.jyusun.com</span><br><span class="line">root: /</span><br><span class="line">permalink: contents/:id.html</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure></li></ul><h3 id="指定next主题"><a href="#指定next主题" class="headerlink" title="指定next主题"></a>指定next主题</h3><ul><li><p>克隆next主题到themes文件夹下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，关键字：<code>theme</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure></li></ul><h3 id="指定next-Pisces模板"><a href="#指定next-Pisces模板" class="headerlink" title="指定next-Pisces模板"></a>指定next-Pisces模板</h3><ul><li><p>主题配置文件，关键字：<code>Schemes</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">scheme: Pisces  #打开前面的注释</span><br><span class="line">#scheme: Gemini</span><br></pre></td></tr></table></figure></li></ul><h3 id="部署设置"><a href="#部署设置" class="headerlink" title="部署设置"></a>部署设置</h3><ul><li><p>站点配置文件，关键字：<code>deploy</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: git@github.com:jyusun/blog.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></li></ul><h3 id="文章生成位置及名称"><a href="#文章生成位置及名称" class="headerlink" title="文章生成位置及名称"></a>文章生成位置及名称</h3><ul><li><p>站点配置文件，设置文章生成位置及名称，关键字：<code>new_post_name</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">new_post_name: :year:month:day-:title/index.md # File name of new posts</span><br></pre></td></tr></table></figure><p>生成效果：20190319-测试文件/index.md</p></li></ul><h2 id="菜单栏设置"><a href="#菜单栏设置" class="headerlink" title="菜单栏设置"></a>菜单栏设置</h2><h3 id="设置展示菜单"><a href="#设置展示菜单" class="headerlink" title="设置展示菜单"></a>设置展示菜单</h3><ul><li><p>增加菜单<code>主题/languages/zh-CH.yml</code>，关键字：<code>menu</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">home: 首页</span><br><span class="line">  archives: 归档</span><br><span class="line">  categories: 分类</span><br><span class="line">  tags: 标签</span><br><span class="line">  about: 关于</span><br><span class="line">  search: 搜索</span><br><span class="line">  schedule: 日程表</span><br><span class="line">  sitemap: 站点地图</span><br><span class="line">  commonweal: 公益404</span><br><span class="line">  test: 测试新增</span><br></pre></td></tr></table></figure><p>注：由于上面站点基础配置中指定了语言zh-CH，所以本文以此为例。</p></li><li><p>主题配置文件，关键字：<code>menu</code>打开需要菜单的注释</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  schedule: /schedule/ || calendar</span><br><span class="line">  sitemap: /sitemap.xml || sitemap</span><br><span class="line">  commonweal: /404/ || heartbeat</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  test: /test/ || test</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置文章分类页面"><a href="#设置文章分类页面" class="headerlink" title="设置文章分类页面"></a>设置文章分类页面</h3><ul><li><p>新建分类页面<code>categories</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new page categories</span><br></pre></td></tr></table></figure><p>注：根路径下执行此命令</p></li><li><p>修改页面内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">​</span><br></pre></td></tr></table></figure><p>title: 文章分类<br>date: 2018-07-19 14:08:34<br>type: “categories”<br>​<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> </span><br></pre></td></tr></table></figure></p><p>注：使用时在文章标题处指定<code>categories</code>标签即可</p></li></ul><h3 id="站点地图"><a href="#站点地图" class="headerlink" title="站点地图"></a>站点地图</h3><ul><li><p>安装插件，分别适用于谷歌和百度生成站点地图便于爬虫爬取</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Plugins:</span><br><span class="line">  - hexo-generator-baidu-sitemap</span><br><span class="line">  - hexo-generator-sitemap</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br></pre></td></tr></table></figure></li></ul><h3 id="公益404"><a href="#公益404" class="headerlink" title="公益404"></a>公益404</h3><ul><li>待续…</li></ul><h3 id="添加站内搜索功能"><a href="#添加站内搜索功能" class="headerlink" title="添加站内搜索功能"></a>添加站内搜索功能</h3><ul><li><p>下载插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 设置站内搜索</span><br><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  format: html</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，关键字：<code>local_search</code>，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Local search</span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><br><span class="line">local_search:</span><br><span class="line">  enable: true  #设置为true</span><br><span class="line">  # If auto, trigger search by changing input.</span><br><span class="line">  # If manual, trigger search by pressing enter key or search button.</span><br><span class="line">  trigger: auto</span><br><span class="line">  # Show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 1</span><br><span class="line">  # Unescape html strings to the readable one.</span><br><span class="line">  unescape: false</span><br></pre></td></tr></table></figure></li></ul><h2 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h2><h3 id="设置头像"><a href="#设置头像" class="headerlink" title="设置头像"></a>设置头像</h3><ul><li><p>主题配置文件，关键字：<code>Sidebar Avatar</code></p><p>avatar指定本地图片,把图片放入 <code>themes/next/source/images</code> 下,修改 <code>avatar</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">avatar: </span><br><span class="line">  url: /images/touxiang.png</span><br><span class="line">  rounded: false</span><br><span class="line">  opacity: 1</span><br><span class="line">  rotated: false</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置侧边社交连接"><a href="#设置侧边社交连接" class="headerlink" title="设置侧边社交连接"></a>设置侧边社交连接</h3><ul><li><p>主题配置文件，关键字： <code>Social Links</code>，根据需要打开注释，调整为自己的地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/jyusun || github</span><br><span class="line">  E-Mail: mailto:mr.evansun@foxmail.com || envelope</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置侧边栏社交样式"><a href="#设置侧边栏社交样式" class="headerlink" title="设置侧边栏社交样式"></a>设置侧边栏社交样式</h3><ul><li><p>主题配置文件，关键字： <code>social_icons</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">social_icons:</span><br><span class="line">  enable: true      #`true`显示图标，`false`只显示名称</span><br><span class="line">  icons_only: false  #`true`只展示图标，`false`显示图标及名称</span><br><span class="line">  transition: false</span><br></pre></td></tr></table></figure></li></ul><h3 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h3><ul><li><p>安装feed插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># feed</span><br><span class="line"># Dependencies: https://github.com/hexojs/hexo-generator-feed</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content:</span><br><span class="line">  content_limit: 140</span><br><span class="line">  content_limit_delim: &apos; &apos;</span><br><span class="line">  order_by: -date</span><br><span class="line">  icon: icon.png</span><br></pre></td></tr></table></figure></li></ul><h3 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h3><ul><li><p>主题配置文件，关键字：<code>Blog rolls</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Blog rolls</span><br><span class="line">links_icon: link</span><br><span class="line">links_title: Links</span><br><span class="line">links_layout: block</span><br><span class="line">#links_layout: inline</span><br><span class="line">links:</span><br><span class="line">  开源中国: https://www.oschina.net/</span><br><span class="line">  百度: http://baidu.com/</span><br><span class="line">  搜狗: https://www.sogou.com/</span><br></pre></td></tr></table></figure></li></ul><h2 id="底部设置"><a href="#底部设置" class="headerlink" title="底部设置"></a>底部设置</h2><h3 id="推广链接功能"><a href="#推广链接功能" class="headerlink" title="推广链接功能"></a>推广链接功能</h3><ul><li><p><code>主题/layout/_macro</code>路径下新增<code>advert.swig</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&#123;# Gallery support #&#125;</span><br><span class="line">&#123;% if config.advert %&#125;</span><br><span class="line">&lt;div class=&quot;post-gallery&quot; itemscope itemtype=&quot;http://schema.org/ImageGallery&quot;&gt;</span><br><span class="line">  &#123;% set COLUMN_NUMBER = 3 %&#125;</span><br><span class="line">  &#123;% for advert, link in config.advert %&#125;</span><br><span class="line">&#123;% if loop.index0 % COLUMN_NUMBER === 0 %&#125;&lt;div class=&quot;post-gallery-row&quot;&gt;&#123;% endif %&#125;</span><br><span class="line">  &lt;a class=&quot;post-gallery-img fancybox&quot;</span><br><span class="line"> href=&quot;&#123;&#123; link.split(&apos;||&apos;)[1] | trim &#125;&#125;&quot; rel=&quot;gallery_&#123;&#123; post._id &#125;&#125;&quot; target=&quot;_blank&quot;</span><br><span class="line"> itemscope itemtype=&quot;http://schema.org/ImageObject&quot; itemprop=&quot;url&quot;&gt;</span><br><span class="line">&lt;img src=&quot;&#123;&#123; link.split(&apos;||&apos;)[0] | trim &#125;&#125;&quot; itemprop=&quot;contentUrl&quot; alt=&quot;&#123;&#123;advert&#125;&#125;&quot;/&gt;</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line">&#123;% if loop.index0 % COLUMN_NUMBER === 2 %&#125;&lt;/div&gt;&#123;% endif %&#125;</span><br><span class="line">  &#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line">  &#123;# Append end tag for `post-gallery-row` when (photos size mod COLUMN_NUMBER) is less than COLUMN_NUMBER #&#125;</span><br><span class="line">  &#123;% if config.advert.length % COLUMN_NUMBER &gt; 0 %&#125;&lt;/div&gt;&#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>将代码插入<code>主题/layout/_macro/post.swig</code>文件中，关键字：<code>theme.wechat_subscriber.enabled</code>上方</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.advert.enable and not is_index%&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &#123;% include &apos;advert.swig&apos; %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增用于控制推广功能开关</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">advert:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure></li><li><p>站点配置文件，新增推广内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">advert:</span><br><span class="line">天猫618: https://gw.alicdn.com/tfs/TB1p12MsQ9WBuNjSspeXXaz5VXa-440-180.jpg || https://s.click.taobao.com/t?e=m%3D2%26s%3DQ7%2BOxHRJNU8cQipKwQzePCperVdZeJviK7Vc7tFgwiFRAdhuF14FMSjJriMKVvzd5x%2BIUlGKNpUKzRB5pSb%2B3oLgBNn%2Fh8Y9fs5VlYBlFz5kblEZQzGoFcs%2Fhc73tO6KVYo%2BqyT%2FBa1NrKwvDJNPXkIGbLNY5ut4zueC0P1cNS9iw0%2FdWyiVaogaseAKBk0cTbU9KzMTtxpe7auY0HPYWszlTEcWhO9mCmht7GX%2FH9k%3D</span><br><span class="line">2018年618理想生活狂欢季——聚划算主会场: https://img.alicdn.com/tfs/TB125UMsMmTBuNjy1XbXXaMrVXa-440-180.jpg || https://s.click.taobao.com/t?e=m%3D2%26s%3D2c9N%2F89tPiMcQipKwQzePCperVdZeJviK7Vc7tFgwiFRAdhuF14FMXJZeCVJPqDB8sviUM61dt0KzRB5pSb%2B3oLgBNn%2Fh8Y9fs5VlYBlFz5kblEZQzGoFcs%2Fhc73tO6KVYo%2BqyT%2FBa1NrKwvDJNPXkIGbLNY5ut4zueC0P1cNS%2B%2BUEclaRYva8F8WBkZipnv9sOkOOEWZ4E%2FnCA8IhtTQhnqXdg7YFDycSpj5qSCmbA%3D</span><br><span class="line">2018年618理想生活狂欢节—消费电子主会场: https://img.alicdn.com/tfs/TB1GnfasntYBeNjy1XdXXXXyVXa-440-180.jpg || https://s.click.taobao.com/t?e=m%3D2%26s%3D5xcD%2FIEjdhYcQipKwQzePCperVdZeJviK7Vc7tFgwiFRAdhuF14FMUG5eE0BPbCdxq3IhSJN6GQKzRB5pSb%2B3oLgBNn%2Fh8Y9fs5VlYBlFz5kblEZQzGoFcs%2Fhc73tO6KVYo%2BqyT%2FBa1NrKwvDJNPXkIGbLNY5ut4zueC0P1cNS%2B6zThPYvErzhJBFs1%2FyLxVPxey8%2Bhd8pyvTW5l3DCD30V92HL3DKLNSqwyt%2BH6DtO%2FMqT4SeHHMKTHNVRq3ENViYq%2BoOM2USF%2Bn%2B1pvicu6FXll1U39L8dNcwDbqGDeU3JefVee9XDEgxYVk%2BaFSeXxiXvDf8DaRs%3D</span><br></pre></td></tr></table></figure></li></ul><h3 id="文章末尾加上”本文结束”字样"><a href="#文章末尾加上”本文结束”字样" class="headerlink" title="文章末尾加上”本文结束”字样"></a>文章末尾加上”本文结束”字样</h3><ul><li><p><code>主题/layout/_macro</code>，新增<code>passage-end-tag.swig</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index %&#125;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;------本文结束------&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>将代码插入<code>主题/layout/_macro/post.swig</code>文件中，关键字：<code>END POST BODY</code>下方</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.passage-end-tag.enable and not is_index %&#125;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">&#123;% include &apos;passage-end-tag.swig&apos; %&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 文章末尾添加“本文结束”标记</span><br><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure></li></ul><h3 id="底部标签"><a href="#底部标签" class="headerlink" title="底部标签"></a>底部标签</h3><ul><li><p>底部带有#号的标签<code>主题/layout/_macro/post.swig</code>，关键字：<code>post-footer</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 替换为 &lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></li></ul><h3 id="底部统计"><a href="#底部统计" class="headerlink" title="底部统计"></a>底部统计</h3><ul><li><code>主题/layout/_partials/footer.swig</code></li></ul><h2 id="首页文章样式"><a href="#首页文章样式" class="headerlink" title="首页文章样式"></a>首页文章样式</h2><h3 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h3><ul><li><p>新增内容<code>主题/source/css/_custom/custom.styl</code>文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line">.post &#123;</span><br><span class="line">   margin-top: 0px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="隐藏文章与文章间分割线"><a href="#隐藏文章与文章间分割线" class="headerlink" title="隐藏文章与文章间分割线"></a>隐藏文章与文章间分割线</h3><ul><li><p>修改内容<code>主题/source/css/_common/components/post/post-eof.styl</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.posts-expand &#123;</span><br><span class="line">  .post-eof &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    margin: $post-eof-margin-top auto $post-eof-margin-bottom;</span><br><span class="line">    width: 0%;</span><br><span class="line">    height: 0px;</span><br><span class="line">    background: $grey-light;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="首页自动形成摘要"><a href="#首页自动形成摘要" class="headerlink" title="首页自动形成摘要"></a>首页自动形成摘要</h3><ul><li><p>主题配置文件，关键字：<code>auto_excerpt</code>，文章前150字</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto_excerpt:</span><br><span class="line">  enable: true</span><br><span class="line">  length: 150</span><br></pre></td></tr></table></figure></li></ul><h2 id="写作样式"><a href="#写作样式" class="headerlink" title="写作样式"></a>写作样式</h2><h3 id="文内图片引用"><a href="#文内图片引用" class="headerlink" title="文内图片引用"></a>文内图片引用</h3><ul><li><p>站点配置文件，关键字：<code>post_asset_folder</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure></li><li><p>执行新建命令时会创建同名文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n &lt;title&gt;</span><br></pre></td></tr></table></figure></li><li><p>将图片放入同名文件夹下，文章内图片相对引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img 图片名称.jpg 图片描述 %&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="文内超链接"><a href="#文内超链接" class="headerlink" title="文内超链接"></a>文内超链接</h3><ul><li><p>文内超链接</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[TextUrl](https://blog.jyusun.com/)</span><br></pre></td></tr></table></figure></li></ul><h2 id="博客功能"><a href="#博客功能" class="headerlink" title="博客功能"></a>博客功能</h2><h3 id="文章浏览显示进度百分比"><a href="#文章浏览显示进度百分比" class="headerlink" title="文章浏览显示进度百分比"></a>文章浏览显示进度百分比</h3><ul><li><p>主题配置文件，关键字： <code>scrollpercent</code> ，将 <code>false</code> 改为 <code>true</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Scroll percent label in b2t button.</span><br><span class="line">scrollpercent: true</span><br></pre></td></tr></table></figure></li><li><p>如果想要把百分比在左边显示，关键字：<code>b2t</code>将false改为true</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Back to top in sidebar (only for Pisces | Gemini).</span><br><span class="line">b2t: true</span><br></pre></td></tr></table></figure></li></ul><h3 id="开启版权声明"><a href="#开启版权声明" class="headerlink" title="开启版权声明"></a>开启版权声明</h3><ul><li><p>主题配置文件下，关键字 <code>creative_commons</code> </p><blockquote><p>creative_commons:<br>  license: by-nc-sa<br>  sidebar: true<br>  post: true<br>  language: zh-CN</p></blockquote></li></ul><h3 id="打赏功能"><a href="#打赏功能" class="headerlink" title="打赏功能"></a>打赏功能</h3><ul><li><p>文章底部打赏共功能，关键字：<code>Reward</code>。把二维码图片放入 <code>主题/source/images</code> 下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reward:</span><br><span class="line">  wechatpay: /images/wechatpay.jpg</span><br><span class="line">  alipay: /images/alipay.jpg</span><br></pre></td></tr></table></figure></li><li><p>禁止鼠标悬浮二维码上底部文字抖动，主题配置文件：，关键字：<code>animation</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Reward (Donate)</span><br><span class="line">reward_settings:</span><br><span class="line">  # If true, reward would be displayed in every article by default.</span><br><span class="line">  # You can show or hide reward in a specific article throuth `reward: true | false` in Front Matter.</span><br><span class="line">  enable: true</span><br><span class="line">  animation: false</span><br><span class="line">  comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</span><br></pre></td></tr></table></figure></li></ul><h3 id="评论功能"><a href="#评论功能" class="headerlink" title="评论功能"></a>评论功能</h3><h3 id="在线沟通"><a href="#在线沟通" class="headerlink" title="在线沟通"></a>在线沟通</h3><ul><li><p><code>主题/layout/_partials/head/</code>，新增文件<code>daovoice.swig</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m)&#123;i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)&#125;)(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, &#123;</span><br><span class="line">      app_id: &quot;&#123;&#123;theme.daovoice.appid&#125;&#125;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p><code>主题/layout/_partials/head/head.swig</code>添加引用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice.enable %&#125;</span><br><span class="line">&#123;% include &apos;daovoice.swig&apos; %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure></li><li><p>主题配置文件，新增内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">daovoice:</span><br><span class="line">  enable: true</span><br><span class="line">  appid: asdqw5 #你的id</span><br></pre></td></tr></table></figure></li></ul><h3 id="分享功能"><a href="#分享功能" class="headerlink" title="分享功能"></a>分享功能</h3><ul><li><p>主题配置文件，关键字：<code>baidushare</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">baidushare：</span><br><span class="line">  type: button</span><br><span class="line">  baidushare: true</span><br></pre></td></tr></table></figure></li></ul><h3 id="文章内链接文本样式"><a href="#文章内链接文本样式" class="headerlink" title="文章内链接文本样式"></a>文章内链接文本样式</h3><ul><li><p>修改文件<code>主题/source/css/_common/components/post/post.styl</code>，在末尾添加css样式：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.post-body p a&#123;</span><br><span class="line">  color: #0593d3;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: #fc6423;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>其中选择.post-body 是为了不影响标题，选择 p 是为了不影响首页“阅读全文”的显示样式,颜色可以自己定义。</p><h3 id="博文压缩"><a href="#博文压缩" class="headerlink" title="博文压缩"></a>博文压缩</h3><ul><li>安装gulp</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gulp -g</span><br><span class="line">$ npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save</span><br></pre></td></tr></table></figure><ul><li>hexo主目录下新建gulpfile.js文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">var gulp = require(&apos;gulp&apos;);</span><br><span class="line">var minifycss = require(&apos;gulp-minify-css&apos;);</span><br><span class="line">var uglify = require(&apos;gulp-uglify&apos;);</span><br><span class="line">var htmlmin = require(&apos;gulp-htmlmin&apos;);</span><br><span class="line">var htmlclean = require(&apos;gulp-htmlclean&apos;);</span><br><span class="line">// 压缩 public 目录 css</span><br><span class="line">gulp.task(&apos;minify-css&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/**/*.css&apos;)</span><br><span class="line">        .pipe(minifycss())</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩 public 目录 html</span><br><span class="line">gulp.task(&apos;minify-html&apos;, function() &#123;</span><br><span class="line">  return gulp.src(&apos;./public/**/*.html&apos;)</span><br><span class="line">    .pipe(htmlclean())</span><br><span class="line">    .pipe(htmlmin(&#123;</span><br><span class="line">         removeComments: true,</span><br><span class="line">         minifyJS: true,</span><br><span class="line">         minifyCSS: true,</span><br><span class="line">         minifyURLs: true,</span><br><span class="line">    &#125;))</span><br><span class="line">    .pipe(gulp.dest(&apos;./public&apos;))</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩 public/js 目录 js</span><br><span class="line">gulp.task(&apos;minify-js&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/**/*.js&apos;)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;));</span><br><span class="line">&#125;);</span><br><span class="line">// 执行 gulp 命令时执行的任务</span><br><span class="line">gulp.task(&apos;default&apos;, [</span><br><span class="line">    &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;</span><br><span class="line">]);</span><br></pre></td></tr></table></figure><p>生成博文是执行 hexo g &amp;&amp; gulp 就会根据 gulpfile.js 中的配置，对 public 目录中的静态资源文件进行压缩。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hexo-Next7-0主题博客优化&quot;&gt;&lt;a href=&quot;#Hexo-Next7-0主题博客优化&quot; class=&quot;headerlink&quot; title=&quot;Hexo-Next7.0主题博客优化&quot;&gt;&lt;/a&gt;Hexo-Next7.0主题博客优化&lt;/h1&gt;&lt;h2 id=&quot;基
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="个人博客" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo" scheme="https://blog.jyusun.com/tags/hexo/"/>
    
      <category term="next" scheme="https://blog.jyusun.com/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>基于Docker搭建Gitlab社区版</title>
    <link href="https://blog.jyusun.com/contents/20190316102007.html"/>
    <id>https://blog.jyusun.com/contents/20190316102007.html</id>
    <published>2019-03-16T02:20:07.000Z</published>
    <updated>2020-02-12T09:41:52.409Z</updated>
    
    <content type="html"><![CDATA[<h1 id="基于Docker搭建Gitlab社区版"><a href="#基于Docker搭建Gitlab社区版" class="headerlink" title="基于Docker搭建Gitlab社区版"></a>基于Docker搭建Gitlab社区版</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>之前搭建Gitlab是直接在服务器上搭建的，本次基于Docker对Gitlab服务搭建及使用进行了整理。</li></ul><h2 id="搜索和拉取镜像"><a href="#搜索和拉取镜像" class="headerlink" title="搜索和拉取镜像"></a>搜索和拉取镜像</h2><ul><li><p>在远端仓库中搜索Gitlab</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search gitlab</span><br></pre></td></tr></table></figure></li><li><p>拉取最新镜像</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull gitlab/gitlab-ce</span><br></pre></td></tr></table></figure></li></ul><h2 id="运行镜像及配置"><a href="#运行镜像及配置" class="headerlink" title="运行镜像及配置"></a>运行镜像及配置</h2><h3 id="新建数据挂载路径"><a href="#新建数据挂载路径" class="headerlink" title="新建数据挂载路径"></a>新建数据挂载路径</h3><ul><li><p>新建配置文件挂载文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /var/gitlab/etc</span><br></pre></td></tr></table></figure></li><li><p>新建日志挂载文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /var/gitlab/logs</span><br></pre></td></tr></table></figure></li><li><p>新建数据挂载文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /var/gitlab/data</span><br></pre></td></tr></table></figure></li></ul><h3 id="运行Gitlab镜像"><a href="#运行Gitlab镜像" class="headerlink" title="运行Gitlab镜像"></a>运行Gitlab镜像</h3><ul><li><p>运行Gitlab镜像并指定相关配置地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">    --detach \</span><br><span class="line">    --name gitlab \</span><br><span class="line">    --hostname 192.168.233.201:9999 \</span><br><span class="line">    --publish 2222:22 \</span><br><span class="line">    --publish 8443:443 \</span><br><span class="line">    --publish 9998:80 \</span><br><span class="line">    --publish 9999:9999 \</span><br><span class="line">    --restart always \</span><br><span class="line">    --restart unless-stopped \</span><br><span class="line">    -v /var/gitlab/etc:/etc/gitlab \</span><br><span class="line">    -v /var/gitlab/logs:/var/log/gitlab \</span><br><span class="line">    -v /var/gitlab/data:/var/opt/gitlab \</span><br><span class="line">    gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure><p>注：初次启动需要初始化配置，启动稍慢2~3分钟，访问报502错误稍等一会再次刷新即可</p><blockquote><p>docker run \<br> –detach \ #后台运行<br> –name gitlab \ #镜像名称<br> –hostname 192.168.233.201:9999 \ #容器主机名称，如不配置会默认为DockerID 此时仓库地址会存在问题<br> –publish 2222:22 \  #内部sshd服务端口<br> –publish 8443:443 \ #https端口<br> –publish 9999:9999 \ #访问端口映射，仓库也可以配置单独的外部地址<br> –restart always \<br> –restart unless-stopped \<br> -v /var/gitlab/etc:/etc/gitlab \      #配置文件<br> -v /var/gitlab/logs:/var/log/gitlab \ #日志文件<br> -v /var/gitlab/data:/var/opt/gitlab \ #数据存储<br> gitlab/gitlab-ce:latest   #官方镜像源</p></blockquote></li></ul><h3 id="配置文件（未指定hostname时）"><a href="#配置文件（未指定hostname时）" class="headerlink" title="配置文件（未指定hostname时）"></a>配置文件（未指定hostname时）</h3><ul><li><p>启动效果，资源仓库地址为dockerid，需要调整</p><img src="/contents/20190316102007/dockerid.jpg" title="访问地址展示为dockerid"></li><li><p>编辑gitlab.rb配置仓库访问地址，默认初始化为docker的host，需要改为外部地址</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -t -i gitlab vim /etc/gitlab/gitlab.rb</span><br></pre></td></tr></table></figure><blockquote><p>external_url <span class="exturl" data-url="aHR0cDovLzE5Mi4xNjguMjMzLjIwMTo5OTk5" title="http://192.168.233.201:9999">http://192.168.233.201:9999<i class="fa fa-external-link"></i></span></p></blockquote><img src="/contents/20190316102007/external_url.jpg" title="访问地址"></li><li><p>修改完成，重新生成配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -t -i gitlab gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure><p>注：网上大多数都是说<code>/var/gitlab/data/gitlab-rails/etc/gitlab.yml</code>文件，此文件是根据<code>gitlab.rb</code>生成的，直接修改此文件如果重新生成配置，修改就会被覆盖，如图所示</p><img src="/contents/20190316102007/gitlabyml.jpg" title="gitlabyml说明"></li></ul><h2 id="基础使用教程"><a href="#基础使用教程" class="headerlink" title="基础使用教程"></a>基础使用教程</h2><ul><li><p>访问Gitlab服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.233.201:9999</span><br></pre></td></tr></table></figure></li></ul><h3 id="基础设置及展示"><a href="#基础设置及展示" class="headerlink" title="基础设置及展示"></a>基础设置及展示</h3><ul><li><p>首次访问会让我们初始化root密码</p><img src="/contents/20190316102007/initpass.jpg" title="初始化root密码"></li><li><p>登陆root用户</p><img src="/contents/20190316102007/login.jpg" title="登陆"></li><li><p>默认首页展示</p><img src="/contents/20190316102007/index.jpg" title="首页"></li></ul><h3 id="新建项目组"><a href="#新建项目组" class="headerlink" title="新建项目组"></a>新建项目组</h3><ul><li><p>作用：对项目、对人员可以进行分组管理</p></li><li><p>点击创建组按钮</p><img src="/contents/20190316102007/creategroup.jpg" title="创建组"></li><li><p>添加组信息</p><img src="/contents/20190316102007/addgroup.jpg" title="添加组信息"></li><li><p>组中还可以在细分建立子分组或项目（必须对组拥有owner权限用户才可以）</p><img src="/contents/20190316102007/groupnew.jpg" title="添加子信息"></li></ul><h3 id="新建项目"><a href="#新建项目" class="headerlink" title="新建项目"></a>新建项目</h3><ul><li><p>点击创建项目按钮</p><img src="/contents/20190316102007/createproject.jpg" title="创建项目"><p>注：也可以直接在分组中选择New project</p></li><li><p>选择组并填写相关信息</p><img src="/contents/20190316102007/createproject.jpg" title="添加项目"></li></ul><h3 id="用户注册"><a href="#用户注册" class="headerlink" title="用户注册"></a>用户注册</h3><ul><li>一般公司内部会关闭注册功能</li></ul><h3 id="管理员新建用户"><a href="#管理员新建用户" class="headerlink" title="管理员新建用户"></a>管理员新建用户</h3><ul><li><p>点击新建用户按钮</p><img src="/contents/20190316102007/createuser.jpg" title="创建用户"></li><li><p>添加相关信息创建用户</p><img src="/contents/20190316102007/adduser.jpg" title="添加用户"></li></ul><h3 id="将用户添加到组"><a href="#将用户添加到组" class="headerlink" title="将用户添加到组"></a>将用户添加到组</h3><ul><li><p>将用户添加到组中，使其对组内项目有使用权限</p><img src="/contents/20190316102007/groupauthuser.jpg"></li></ul><h3 id="项目授权"><a href="#项目授权" class="headerlink" title="项目授权"></a>项目授权</h3><ul><li>待续…</li></ul><h3 id="上传项目"><a href="#上传项目" class="headerlink" title="上传项目"></a>上传项目</h3><ul><li>待续…</li></ul><h3 id="下载项目"><a href="#下载项目" class="headerlink" title="下载项目"></a>下载项目</h3><ul><li>待续…</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;基于Docker搭建Gitlab社区版&quot;&gt;&lt;a href=&quot;#基于Docker搭建Gitlab社区版&quot; class=&quot;headerlink&quot; title=&quot;基于Docker搭建Gitlab社区版&quot;&gt;&lt;/a&gt;基于Docker搭建Gitlab社区版&lt;/h1&gt;&lt;h2 i
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="程序安装" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="gitlab" scheme="https://blog.jyusun.com/tags/gitlab/"/>
    
      <category term="gitlab-ce" scheme="https://blog.jyusun.com/tags/gitlab-ce/"/>
    
  </entry>
  
  <entry>
    <title>大数据学习-Hadoop-高可用（HA）集群搭建</title>
    <link href="https://blog.jyusun.com/contents/20190228112031.html"/>
    <id>https://blog.jyusun.com/contents/20190228112031.html</id>
    <published>2019-02-28T03:19:31.000Z</published>
    <updated>2019-02-28T03:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hadoop-高可用（HA）集群搭建"><a href="#Hadoop-高可用（HA）集群搭建" class="headerlink" title="Hadoop-高可用（HA）集群搭建"></a>Hadoop-高可用（HA）集群搭建</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h2><h3 id="软件及环境准备"><a href="#软件及环境准备" class="headerlink" title="软件及环境准备"></a>软件及环境准备</h3><table><thead><tr><th>软件名称</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td>VirtualBox或VMware</td><td>14</td><td></td></tr><tr><td>CentOS7</td><td>7.5</td><td></td></tr><tr><td>JDK</td><td>1.8</td><td></td></tr><tr><td>Hadoop</td><td>3.1.2</td><td>hadoop-3.1.2.tar.gz</td></tr><tr><td></td><td></td></tr></tbody></table><h3 id="机器节点规划"><a href="#机器节点规划" class="headerlink" title="机器节点规划"></a>机器节点规划</h3><ul><li>Hadoop五个节点HA规划</li></ul><table><thead><tr><th>HostName</th><th style="text-align:left">IP</th><th>NameNode</th><th>DataNode</th><th>ZooKeeper</th><th>ZKFC</th><th>JouaryNode</th></tr></thead><tbody><tr><td>node1</td><td style="text-align:left">192.168.233.101</td><td>*</td><td></td><td></td><td>*</td><td></td></tr><tr><td>node2</td><td style="text-align:left">192.168.233.102</td><td>*</td><td></td><td></td><td>*</td><td></td></tr><tr><td>node3</td><td style="text-align:left">192.168.233.103</td><td></td><td>*</td><td>*</td><td></td><td>*</td></tr><tr><td>node4</td><td style="text-align:left">192.168.233.104</td><td></td><td>*</td><td>*</td><td></td><td>*</td></tr><tr><td>node5</td><td style="text-align:left">192.168.233.105</td><td></td><td>*</td><td>*</td><td></td><td>*</td></tr></tbody></table><p>注：ZooKeeper和JouaryNode是可以共享的</p><h3 id="相关路径创建"><a href="#相关路径创建" class="headerlink" title="相关路径创建"></a>相关路径创建</h3><ul><li>基础软件安装配置路径</li></ul><table><thead><tr><th>路径</th><th>注释</th></tr></thead><tbody><tr><td>/opt/basics</td><td>基础路径</td></tr><tr><td>/opt/basics/java/</td><td>JDK路径</td></tr><tr><td>/opt/bigdata/hadoop/</td><td>Hadoop路径</td></tr><tr><td>/opt/bigdata/zookeeper/</td><td>ZooKeeper安装路径</td></tr></tbody></table><h2 id="系统基础配置（root用户）"><a href="#系统基础配置（root用户）" class="headerlink" title="系统基础配置（root用户）"></a>系统基础配置（root用户）</h2><h3 id="基本组件安装"><a href="#基本组件安装" class="headerlink" title="基本组件安装"></a>基本组件安装</h3><ul><li><p>安装net-tools vim wge ntp 等基础工具</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y net-tools vim* wget ntp telnet</span><br></pre></td></tr></table></figure><p>注：如果系统是最小化安装的，以上工具组件可能没有集成，需要另外安装</p></li></ul><h3 id="设置HostName和Hosts"><a href="#设置HostName和Hosts" class="headerlink" title="设置HostName和Hosts"></a>设置HostName和Hosts</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190213131719.html">链接-CentOS7设置hostname和hosts</a></p></li><li><p>根据规划将下面内容写入hosts</p><blockquote><p>192.168.233.101 node1<br>192.168.233.102 node2<br>192.168.233.103 node3<br>192.168.233.104 node4<br>192.168.233.105 node5</p></blockquote></li></ul><h3 id="关闭SELINUX"><a href="#关闭SELINUX" class="headerlink" title="关闭SELINUX"></a>关闭SELINUX</h3><ul><li><p>临时关闭</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setenforce 0</span><br></pre></td></tr></table></figure></li><li><p>永久关闭</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/selinux/config</span><br></pre></td></tr></table></figure><blockquote><p>SELINUX=disabled          #将SELINUX的值由enforcing改为disabled</p></blockquote></li></ul><h3 id="设置静态IP地址"><a href="#设置静态IP地址" class="headerlink" title="设置静态IP地址"></a>设置静态IP地址</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190217112031.html">链接-设置静态IP地址</a></p><p>注：IP根据自己的节点规划进行相应的配置</p></li></ul><h3 id="关闭防火墙"><a href="#关闭防火墙" class="headerlink" title="关闭防火墙"></a>关闭防火墙</h3><ul><li><a href="http://blog.jyusun.com/contents/20190218122031.html">链接-关闭防火墙</a></li></ul><h3 id="配置免密登陆"><a href="#配置免密登陆" class="headerlink" title="配置免密登陆"></a>配置免密登陆</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190218182031.html">链接-配置免密登陆</a></p><p>需要免密钥的两种场景：</p><blockquote><ol><li><p>管理脚本：远程管理其他节点启停服务时需要免密钥</p></li><li><p>NameNode：搭建HA的时候，需要免密钥控制对方和自己</p></li></ol></blockquote></li></ul><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><h3 id="JDK环境配置"><a href="#JDK环境配置" class="headerlink" title="JDK环境配置"></a>JDK环境配置</h3><ul><li><a href="http://blog.jyusun.com/contents/20190219202025.html">链接-Linux安装配置JDK1.8</a></li></ul><h3 id="ZooKeeper分布式集群搭建配置"><a href="#ZooKeeper分布式集群搭建配置" class="headerlink" title="ZooKeeper分布式集群搭建配置"></a>ZooKeeper分布式集群搭建配置</h3><ul><li><p><a href="http://blog.jyusun.com/contents/20190220202125.html">链接-Linux下ZooKeeper分布式集群搭建</a></p><p>注：根据节点规划，调整相应的配置</p></li></ul><h2 id="Hadoop相关配置"><a href="#Hadoop相关配置" class="headerlink" title="Hadoop相关配置"></a>Hadoop相关配置</h2><h3 id="安装及环境变量配置"><a href="#安装及环境变量配置" class="headerlink" title="安装及环境变量配置"></a>安装及环境变量配置</h3><ul><li><p>创建Hadoop路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/basics/hadoop/</span><br></pre></td></tr></table></figure></li><li><p>将事先准备好的hadoop-3.1.2.tar.gz文件上传至/opt/basics/hadoop路径</p></li><li><p>执行解压命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf hadoop-3.1.2.tar.gz</span><br></pre></td></tr></table></figure></li><li><p>配置环境变量，在末尾追加hadoop相关配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure><blockquote><p>HADOOP_HOME=/opt/basics/hadoop/hadoop-3.1.2<br>HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop<br>YARN_CONF_DIR=$HADOOP_HOME/etc/hadoop<br>PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH<br>export HADOOP_HOME HADOOP_CONF_DIR YARN_CONF_DIR PATH</p></blockquote></li><li><p>使配置立即生效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>验证是否安装成功</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop version</span><br></pre></td></tr></table></figure></li></ul><h3 id="Hadoop配置"><a href="#Hadoop配置" class="headerlink" title="Hadoop配置"></a>Hadoop配置</h3><ul><li><p>切换到hadoop路径下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd $HADOOP_HOME/etc/hadoop</span><br></pre></td></tr></table></figure><p>注：本章节下文配置均在此目录中</p><p>| 涉及文件      | 描述                      |<br>| ————- | ————————- |<br>| hadoop-env.sh |                           |<br>| core-site.xml |                           |<br>| workers       | DataNode节点信息          |<br>| hdfs-site.xml | SecondaryNameNode相应内容 |<br>|               |                           |<br>|               |                           |</p><p>​        </p></li><li><p>编辑core-site.xml文件，配置NameNode相应内容</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi core-site.xml</span><br></pre></td></tr></table></figure><blockquote><configuration><br>        <!-- 指定namenode的地址--><br>        <property><br>                <name>fs.defaultFS</name><br>                <value>hdfs://node1:9000</value><br>        </property><br>        <!-- 临时目录设定，为hadoop文件基础路径 --><br>        <property><br>                <name>hadoop.tmp.dir</name><br>                <value>/var/bigdata/hdfs/full</value><br>        </property><br>        <!-- 流文件缓冲区 4K --><br>        <property><br>                <name>io.file.buffer.size</name><br>                <value>4096</value><br>        </property><br></configuration></blockquote></li><li><p>编辑workers文件，配置DataNode相应内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi workers</span><br></pre></td></tr></table></figure><blockquote><p>node3</p><p>node4</p><p>node5</p></blockquote></li><li><p>编辑hdfs-site.xml文件，配置SecondaryNameNode相应内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi hdfs-site.xml</span><br></pre></td></tr></table></figure><blockquote><configuration><br>        <!-- 配置系统自动数据备份数量为3份（默认是3份） --><br>        <property><br>                <name>dfs.replication</name><br>                <value>3</value><br>        </property><br>        <!-- SecondaryNameNode地址 配置为节点2 --><br>        <property><br>                <name>dfs.namenode.secondary.http-address</name><br>                <value>node2:9001</value><br>        </property><br>        <!-- 不区分端口，直接使用namenode的IP和端口进行所有的webhdfs操作 --><br>        <property><br>                <name>dfs.webhdfs.enabled</name><br>                <value>true</value><br>        </property><br></configuration></blockquote></li></ul><h2 id="格式化NameNode"><a href="#格式化NameNode" class="headerlink" title="格式化NameNode"></a>格式化NameNode</h2><ul><li><p>执行格式化NameNode</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hdfs namenode -format</span><br></pre></td></tr></table></figure></li><li><p>启动hdfs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">start-dfs.sh</span><br></pre></td></tr></table></figure></li></ul><h2 id="访问hdfs"><a href="#访问hdfs" class="headerlink" title="访问hdfs"></a>访问hdfs</h2><ul><li><p>访问下面地址</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.233.101:9870</span><br></pre></td></tr></table></figure><p>注：Hadoop从3.1.0开始hdfs默认访问端口从50070改为9870</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hadoop-高可用（HA）集群搭建&quot;&gt;&lt;a href=&quot;#Hadoop-高可用（HA）集群搭建&quot; class=&quot;headerlink&quot; title=&quot;Hadoop-高可用（HA）集群搭建&quot;&gt;&lt;/a&gt;Hadoop-高可用（HA）集群搭建&lt;/h1&gt;&lt;h2 id=&quot;前
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="BigData" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/BigData/"/>
    
      <category term="Hadoop" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/BigData/Hadoop/"/>
    
    
      <category term="hadoop" scheme="https://blog.jyusun.com/tags/hadoop/"/>
    
      <category term="搭建" scheme="https://blog.jyusun.com/tags/%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>Linux下ZooKeeper分布式集群搭建</title>
    <link href="https://blog.jyusun.com/contents/20190220202125.html"/>
    <id>https://blog.jyusun.com/contents/20190220202125.html</id>
    <published>2019-02-20T12:21:25.000Z</published>
    <updated>2019-02-20T12:21:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ZooKeeper分布式集群搭建"><a href="#ZooKeeper分布式集群搭建" class="headerlink" title="ZooKeeper分布式集群搭建"></a>ZooKeeper分布式集群搭建</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h2><h3 id="软件及环境准备"><a href="#软件及环境准备" class="headerlink" title="软件及环境准备"></a>软件及环境准备</h3><table><thead><tr><th>软件名称</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td>CentOS</td><td>7.5</td><td>虚拟机节点3个且配置了JDK环境- <a href="https://blog.jyusun.com/contents/20190219202025.html">Linux安装配置JDK1.8</a> （zookeeper需要依赖jdk）</td></tr><tr><td>zookeeper</td><td>3.4.13</td><td>zookeeper-3.4.13.tar.gz</td></tr></tbody></table><h3 id="机器节点规划"><a href="#机器节点规划" class="headerlink" title="机器节点规划"></a>机器节点规划</h3><table><thead><tr><th>HostName</th><th>IP</th><th>描述</th></tr></thead><tbody><tr><td>zknode1</td><td>192.168.233.101</td><td>第一个节点</td></tr><tr><td>zknode2</td><td>192.168.233.102</td><td>第二个节点</td></tr><tr><td>zknode3</td><td>192.168.233.103</td><td>第三个节点</td></tr></tbody></table><p>注：根据规划为每个节点配置相应的HostName及IP地址</p><h3 id="相关路径创建"><a href="#相关路径创建" class="headerlink" title="相关路径创建"></a>相关路径创建</h3><ul><li><p>创建zookeeper安装路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /opt/basics/zookeeper/</span><br></pre></td></tr></table></figure></li><li><p>创建zookeeper数据存储路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /var/udata/zookeeper/</span><br></pre></td></tr></table></figure><p>注：由于zookeeper默认数据存储路径为/tmp下，所以我们需要调整数据存储路径</p></li></ul><h2 id="软件解压缩安装"><a href="#软件解压缩安装" class="headerlink" title="软件解压缩安装"></a>软件解压缩安装</h2><h3 id="将软件包上传至系统中"><a href="#将软件包上传至系统中" class="headerlink" title="将软件包上传至系统中"></a>将软件包上传至系统中</h3><ul><li>将下载好的软件包传至/opt/basics/zookeeper/目录中</li></ul><h3 id="解压缩包"><a href="#解压缩包" class="headerlink" title="解压缩包"></a>解压缩包</h3><ul><li><p>切换到上传路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/basics/zookeeper/</span><br></pre></td></tr></table></figure></li><li><p>解压缩包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvzf zookeeper-3.4.13.tar.gz</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置环境变量-每个节点都需要配置"><a href="#配置环境变量-每个节点都需要配置" class="headerlink" title="配置环境变量(每个节点都需要配置)"></a>配置环境变量(每个节点都需要配置)</h2><h3 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h3><ul><li><a href="http://blog.jyusun.com/contents/2019-02-18/20190218-120022/">Linux环境变量配置文件总结</a></li></ul><h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><ul><li><p>编辑.bashrc文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>将以下文内容粘贴至配置文件末尾</p><blockquote><p>ZOOKEEPER_HOME=/opt/basics/zookeeper/zookeeper-3.4.13<br>PATH=$ZOOKEEPER_HOME/bin:$PATH<br>export ZOOKEEPER_HOME PATH</p></blockquote></li></ul><h3 id="使修改立即生效"><a href="#使修改立即生效" class="headerlink" title="使修改立即生效"></a>使修改立即生效</h3><ul><li><p>配置文件如果有改动，需要执行一下source命令让文件生效</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure></li></ul><h2 id="ZooKeeper配置"><a href="#ZooKeeper配置" class="headerlink" title="ZooKeeper配置"></a>ZooKeeper配置</h2><h3 id="复制配置文件"><a href="#复制配置文件" class="headerlink" title="复制配置文件"></a>复制配置文件</h3><ul><li><p>切换到zookeeper配置文件路径</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd $ZOOKEEPER_HOME/conf</span><br></pre></td></tr></table></figure></li><li><p>复制zoo示例文件且重命名为zoo.cfg</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp zoo_sample.cfg zoo.cfg</span><br></pre></td></tr></table></figure></li></ul><h3 id="文件zoo-cfg配置"><a href="#文件zoo-cfg配置" class="headerlink" title="文件zoo.cfg配置"></a>文件zoo.cfg配置</h3><ul><li><p>编辑配置文件zoo.cfg</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi zoo.cfg</span><br></pre></td></tr></table></figure><ol><li><p>修改dataDir属性指定上边创建的数据存储路径</p><blockquote><p>dataDir=/var/udata/zookeeper</p></blockquote></li><li><p>在文件的末尾根据节点规划进行配置</p><blockquote><p>server.1=zknode1:2888:3888<br>server.2=zknode2:2888:3888<br>server.3=zknode3:2888:3888</p></blockquote></li></ol><p>注：此步骤配置完成，可以将此包分发至其他节点当前路径，或在其他节点根据上面配置信息依次配置即可。</p></li><li><p>数据存储位置中为节点指定id信息写入myid文件中（每个节点需要单独操作）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 1 &gt; /var/udata/zookeeper/myid</span><br></pre></td></tr></table></figure><p>注：不同的节点根据实际规划情况自行指定1、2、3</p></li></ul><h2 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h2><ul><li><p>命令：启动zk服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh status</span><br></pre></td></tr></table></figure></li><li><p>命令：查看zk状态</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh status</span><br></pre></td></tr></table></figure></li><li><p>命令：停止zk服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zkServer.sh stop</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ZooKeeper分布式集群搭建&quot;&gt;&lt;a href=&quot;#ZooKeeper分布式集群搭建&quot; class=&quot;headerlink&quot; title=&quot;ZooKeeper分布式集群搭建&quot;&gt;&lt;/a&gt;ZooKeeper分布式集群搭建&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="程序安装" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="zookeeper" scheme="https://blog.jyusun.com/tags/zookeeper/"/>
    
      <category term="ZooKeeper分布式" scheme="https://blog.jyusun.com/tags/ZooKeeper%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Linux安装配置JDK1.8</title>
    <link href="https://blog.jyusun.com/contents/20190219202025.html"/>
    <id>https://blog.jyusun.com/contents/20190219202025.html</id>
    <published>2019-02-19T12:20:25.000Z</published>
    <updated>2019-02-19T12:20:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux安装配置JDK"><a href="#Linux安装配置JDK" class="headerlink" title="Linux安装配置JDK"></a>Linux安装配置JDK</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>JDK是 Java 语言的软件开发工具包，主要用于java应用程序。JDK是整个java开发的核心，它包含了JAVA的运行环境（JVM+Java系统类库）和JAVA工具，所以我们要运行一个JAVA程序的时候就要先安装一个JDK。下文主要以二进制的方式安装配置。</li></ul><h2 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h2><h3 id="软件及环境准备"><a href="#软件及环境准备" class="headerlink" title="软件及环境准备"></a>软件及环境准备</h3><table><thead><tr><th>软件名称</th><th>版本</th><th>描述</th></tr></thead><tbody><tr><td>JDK</td><td>jdk1.8.0_191</td><td>jdk-8u191-linux-x64.tar.gz</td></tr></tbody></table><h3 id="相关路径创建"><a href="#相关路径创建" class="headerlink" title="相关路径创建"></a>相关路径创建</h3><ul><li><p>创建jdk安装路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p /opt/basics/java</span><br></pre></td></tr></table></figure></li></ul><h2 id="软件解压缩安装"><a href="#软件解压缩安装" class="headerlink" title="软件解压缩安装"></a>软件解压缩安装</h2><h3 id="将软件包上传至系统中"><a href="#将软件包上传至系统中" class="headerlink" title="将软件包上传至系统中"></a>将软件包上传至系统中</h3><ul><li>下载好的软件包传至/opt/basics/java目录中</li></ul><h3 id="解压缩包"><a href="#解压缩包" class="headerlink" title="解压缩包"></a>解压缩包</h3><ul><li><p>切换到上传路径</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd /opt/basics/java</span><br></pre></td></tr></table></figure></li><li><p>解压缩包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># tar -xvzf jdk-8u191-linux-x64.tar.gz</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h2><h3 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h3><ul><li><a href="http://blog.jyusun.com/contents/2019-02-18/20190218-120022/">Linux环境变量配置文件总结</a></li></ul><h3 id="环境变量配置"><a href="#环境变量配置" class="headerlink" title="环境变量配置"></a>环境变量配置</h3><ul><li><p>编辑.bashrc文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi ~/.bashrc</span><br></pre></td></tr></table></figure></li><li><p>将以下文件粘贴至属性文件末尾</p><blockquote><p>JAVA_HOME=/opt/basics/java/jdk1.8.0_191<br>JRE_HOME=$JAVA_HOME/jre<br>CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar<br>PATH=$JAVA_HOME/bin:$PATH<br>export JAVA_HOME JRE_HOME CLASSPATH PATH</p></blockquote></li></ul><h3 id="使修改立即生效"><a href="#使修改立即生效" class="headerlink" title="使修改立即生效"></a>使修改立即生效</h3><ul><li><p>配置文件如果有变动，需要执行一下source命令让文件生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># source ~/.bashrc</span><br></pre></td></tr></table></figure></li></ul><h3 id="查看配置的环境变量"><a href="#查看配置的环境变量" class="headerlink" title="查看配置的环境变量"></a>查看配置的环境变量</h3><ul><li><p>查看是否可以读取到环境变量</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># echo $JAVA_HOME</span><br><span class="line"># echo $CLASSPATH</span><br><span class="line"># echo $PATH</span><br></pre></td></tr></table></figure></li></ul><h2 id="配置完成，查看版本"><a href="#配置完成，查看版本" class="headerlink" title="配置完成，查看版本"></a>配置完成，查看版本</h2><ul><li><p>执行命令查看配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># java -version</span><br></pre></td></tr></table></figure><blockquote><p>java version “1.8.0_191”<br>Java(TM) SE Runtime Environment (build 1.8.0_191-b12)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)</p></blockquote><p>注：也可以使用jps命令查看进程</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux安装配置JDK&quot;&gt;&lt;a href=&quot;#Linux安装配置JDK&quot; class=&quot;headerlink&quot; title=&quot;Linux安装配置JDK&quot;&gt;&lt;/a&gt;Linux安装配置JDK&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="程序安装" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85/"/>
    
    
      <category term="jdk" scheme="https://blog.jyusun.com/tags/jdk/"/>
    
      <category term="配置JDK" scheme="https://blog.jyusun.com/tags/%E9%85%8D%E7%BD%AEJDK/"/>
    
  </entry>
  
  <entry>
    <title>配置SSH免密登陆</title>
    <link href="https://blog.jyusun.com/contents/20190218182031.html"/>
    <id>https://blog.jyusun.com/contents/20190218182031.html</id>
    <published>2019-02-18T10:20:31.000Z</published>
    <updated>2019-02-18T12:15:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="配置SSH免密登陆"><a href="#配置SSH免密登陆" class="headerlink" title="配置SSH免密登陆"></a>配置SSH免密登陆</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="生成-ssh文件夹"><a href="#生成-ssh文件夹" class="headerlink" title="生成.ssh文件夹"></a>生成.ssh文件夹</h2><ul><li><p>新安装的系统用户下一般情况下没有.ssh的文件夹</p></li><li><p>查看</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd ~ &amp; ls -al</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/1.jpg" title="ssh文件夹查看"></li><li><p>执行命令生成</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/2.jpg" title="ssh localhost"></li></ul><h2 id="生成公钥、私钥"><a href="#生成公钥、私钥" class="headerlink" title="生成公钥、私钥"></a>生成公钥、私钥</h2><ul><li><p>用于配置免密登陆</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/3.jpg" title="生成公钥私钥"></li></ul><h2 id="authorized-keys文件"><a href="#authorized-keys文件" class="headerlink" title="authorized_keys文件"></a>authorized_keys文件</h2><ul><li><p>将公钥（id_rsa.pub）写入到authorized_keys文件中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li></ul><h2 id="文件授权"><a href="#文件授权" class="headerlink" title="文件授权"></a>文件授权</h2><ul><li><p>SSH公钥生效需满足至少下面两个条件：</p><blockquote><ol><li>目录.ssh的权限必须是700，由于上面是通过ssh localhost生成的文件夹故此满足此条件；</li><li>文件.ssh/authorized_keys权限必须是600；</li></ol></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 0600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li></ul><h2 id="验证配置"><a href="#验证配置" class="headerlink" title="验证配置"></a>验证配置</h2><ul><li><p>将公钥（id_rsa.pub）写入到authorized_keys文件中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure><img src="/contents/20190218182031/4.jpg" title="验证成功"><p>注：能成功进入说明配置成功</p></li></ul><h2 id="同其他机器相互访问"><a href="#同其他机器相互访问" class="headerlink" title="同其他机器相互访问"></a>同其他机器相互访问</h2><ul><li><p>将.ssh文件夹完整复制到其他机器对应位置</p></li><li><p>授权后即可相互访问</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 0700 ~/.ssh</span><br><span class="line">chmod 0600 ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li><li><p>单向访问只需要将公钥写入到对方的authorized_keys文件中即可访问对方</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;配置SSH免密登陆&quot;&gt;&lt;a href=&quot;#配置SSH免密登陆&quot; class=&quot;headerlink&quot; title=&quot;配置SSH免密登陆&quot;&gt;&lt;/a&gt;配置SSH免密登陆&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; 
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="系统配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="免密登陆" scheme="https://blog.jyusun.com/tags/%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86/"/>
    
      <category term="公钥认证" scheme="https://blog.jyusun.com/tags/%E5%85%AC%E9%92%A5%E8%AE%A4%E8%AF%81/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7关闭防火墙</title>
    <link href="https://blog.jyusun.com/contents/20190218122031.html"/>
    <id>https://blog.jyusun.com/contents/20190218122031.html</id>
    <published>2019-02-18T04:20:31.000Z</published>
    <updated>2019-03-05T02:20:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CentOS7关闭防火墙"><a href="#CentOS7关闭防火墙" class="headerlink" title="CentOS7关闭防火墙"></a>CentOS7关闭防火墙</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>CentOS7默认的防火墙为firewalld，防火墙在一些非生产环境中，防火墙管理并不是我们关注的重点，至此我们需要将其关闭。</li></ul><h2 id="firewalld的基本命令"><a href="#firewalld的基本命令" class="headerlink" title="firewalld的基本命令"></a>firewalld的基本命令</h2><ul><li><p>启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start firewalld</span><br></pre></td></tr></table></figure></li><li><p>关闭</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld</span><br></pre></td></tr></table></figure></li><li><p>查看状态</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status firewalld</span><br></pre></td></tr></table></figure></li><li><p>开机禁用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld</span><br></pre></td></tr></table></figure></li><li><p>开机启用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable firewalld</span><br></pre></td></tr></table></figure><p><strong>注：以上命令需要以管理员用户执行</strong></p></li></ul><h2 id="设置防火墙关闭"><a href="#设置防火墙关闭" class="headerlink" title="设置防火墙关闭"></a>设置防火墙关闭</h2><p>依据上文，我们需要执行相应的命令来关闭防火墙</p><ul><li><p>查看当前状态（防火墙开启状态）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl status firewalld</span><br></pre></td></tr></table></figure><img src="/contents/20190218122031/1.jpg" title="防火墙开启状态"></li><li><p>关闭防火墙</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl stop firewalld</span><br></pre></td></tr></table></figure></li><li><p>开机禁用（永久关闭，重启也不会启用）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl disable firewalld</span><br></pre></td></tr></table></figure></li><li><p>再次查看当前状态（防火墙关闭成功）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl status firewalld</span><br></pre></td></tr></table></figure><img src="/contents/20190218122031/2.jpg" title="防火墙关闭状态"></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CentOS7关闭防火墙&quot;&gt;&lt;a href=&quot;#CentOS7关闭防火墙&quot; class=&quot;headerlink&quot; title=&quot;CentOS7关闭防火墙&quot;&gt;&lt;/a&gt;CentOS7关闭防火墙&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="系统配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="防火墙" scheme="https://blog.jyusun.com/tags/%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
      <category term="CentOS防火墙" scheme="https://blog.jyusun.com/tags/CentOS%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
      <category term="Linux防火墙" scheme="https://blog.jyusun.com/tags/Linux%E9%98%B2%E7%81%AB%E5%A2%99/"/>
    
  </entry>
  
  <entry>
    <title>Linux环境变量配置文件总结</title>
    <link href="https://blog.jyusun.com/contents/20190218120022.html"/>
    <id>https://blog.jyusun.com/contents/20190218120022.html</id>
    <published>2019-02-18T04:00:22.000Z</published>
    <updated>2019-02-18T04:00:22.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux环境变量配置文件总结"><a href="#Linux环境变量配置文件总结" class="headerlink" title="Linux环境变量配置文件总结"></a>Linux环境变量配置文件总结</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>Linux中环境变量可以配置在多个地方，在什么样的场景下将环境变量配置在哪个文件中比较合理，下文主要根据使用场景进行分析</li></ul><h2 id="主要文件介绍"><a href="#主要文件介绍" class="headerlink" title="主要文件介绍"></a>主要文件介绍</h2><ul><li>一般主要环境变量配置的文件</li></ul><table><thead><tr><th>文件</th><th>交互</th><th>描述</th></tr></thead><tbody><tr><td>/etc/profile</td><td>全局</td><td>此文件为系统的每个用户设置环境信息,当第一个用户登录时,该文件被执行，并从/etc/profile.d目录的配置文件中搜集shell的设置.</td></tr><tr><td>/etc/bashrc</td><td>全局</td><td>为每一个运行bash shell的用户执行此文件.当bash shell被打开时,该文件被读取。有些linux版本中的/etc目录下已经不存在bashrc文件。</td></tr><tr><td>~/.profile</td><td>用户家目录下的私有环境变量设定</td><td>每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行一次!默认情况下,它设置一些环境变量,然后执行用户的.bashrc文件</td></tr><tr><td>~/.bashrc</td><td>用户家目录下的私有环境变量设定</td><td>该文件包含专用于某个用户的bash shell的bash信息,当该用户登录时以及每次打开新的shell时,该文件被读取.</td></tr></tbody></table><h2 id="系统读取配置文件的顺序"><a href="#系统读取配置文件的顺序" class="headerlink" title="系统读取配置文件的顺序"></a>系统读取配置文件的顺序</h2><ul><li>待续</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux环境变量配置文件总结&quot;&gt;&lt;a href=&quot;#Linux环境变量配置文件总结&quot; class=&quot;headerlink&quot; title=&quot;Linux环境变量配置文件总结&quot;&gt;&lt;/a&gt;Linux环境变量配置文件总结&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
      <category term="知识拓展" scheme="https://blog.jyusun.com/categories/%E7%9F%A5%E8%AF%86%E6%8B%93%E5%B1%95/"/>
    
      <category term="系统学习" scheme="https://blog.jyusun.com/categories/%E7%9F%A5%E8%AF%86%E6%8B%93%E5%B1%95/%E7%B3%BB%E7%BB%9F%E5%AD%A6%E4%B9%A0/"/>
    
    
      <category term="profile" scheme="https://blog.jyusun.com/tags/profile/"/>
    
      <category term="bashrc" scheme="https://blog.jyusun.com/tags/bashrc/"/>
    
  </entry>
  
  <entry>
    <title>Linux系统设置静态IP地址</title>
    <link href="https://blog.jyusun.com/contents/20190217112031.html"/>
    <id>https://blog.jyusun.com/contents/20190217112031.html</id>
    <published>2019-02-17T03:19:31.000Z</published>
    <updated>2019-02-17T03:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设置静态IP"><a href="#设置静态IP" class="headerlink" title="设置静态IP"></a>设置静态IP</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>通常使用Linux系统都是需要提供服务的。</li><li>如果不设置静态的IP地址，采用动态地址的情况下，系统每次启动或IP被占用，都会重新获取一个IP地址，会造成我们不知道此服务器当前的IP地址而访问不了，不便于我们管理和维护。</li><li>综合上述原因需要给其指定一个固定的IP地址，这个就是静态的IP地址，客户端可以每次通过这个指定的IP地址来访问这个服务器即可。</li></ul><h2 id="编辑网卡配置文件"><a href="#编辑网卡配置文件" class="headerlink" title="编辑网卡配置文件"></a>编辑网卡配置文件</h2><ul><li><p>切换路径，并编辑网卡文件，如（ifcfg-ens33）文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cd /etc/sysconfig/network-scripts</span><br><span class="line"># vim ifcfg-ens33</span><br></pre></td></tr></table></figure><blockquote><p>TYPE=”Ethernet”<br>PROXY_METHOD=”none”<br>BROWSER_ONLY=”no”<br>BOOTPROTO=”static”       #静态的IP<br>DEFROUTE=”yes”<br>IPV4_FAILURE_FATAL=”no”<br>IPV6INIT=”yes”<br>IPV6_AUTOCONF=”yes”<br>IPV6_DEFROUTE=”yes”<br>IPV6_FAILURE_FATAL=”no”<br>IPV6_ADDR_GEN_MODE=”stable-privacy”<br>NAME=”ens33”<br>UUID=”658b8ef8-1295-446d-8235-7f6e4054b527”<br>DEVICE=”ens33”<br>ONBOOT=”yes”                        #开机启动<br>IPADDR=192.168.233.101      #IP地址<br>PREFIX=24                                #子网掩码24位,255.255.255.0<br>GATEWAY=192.168.233.2      #网关地址<br>DNS1=202.106.0.20               #联通DNS</p></blockquote><p>注：IP及网关根据实际网络情况进行相应的设置</p></li></ul><h2 id="使网卡设置生效"><a href="#使网卡设置生效" class="headerlink" title="使网卡设置生效"></a>使网卡设置生效</h2><ul><li><p>设置完成后，无需重新启动系统，使用命令重启网卡使其生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># systemctl restart network</span><br></pre></td></tr></table></figure></li></ul><h2 id="重启后验证"><a href="#重启后验证" class="headerlink" title="重启后验证"></a>重启后验证</h2><ul><li><p>重启网卡后，验证是否生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ifconfig</span><br></pre></td></tr></table></figure><p>注:如ifconfig命令无效，说明没有安装基础工具包（net-tools）</p></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;设置静态IP&quot;&gt;&lt;a href=&quot;#设置静态IP&quot; class=&quot;headerlink&quot; title=&quot;设置静态IP&quot;&gt;&lt;/a&gt;设置静态IP&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="系统配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="IP" scheme="https://blog.jyusun.com/tags/IP/"/>
    
      <category term="静态ip" scheme="https://blog.jyusun.com/tags/%E9%9D%99%E6%80%81ip/"/>
    
      <category term="LinuxIP" scheme="https://blog.jyusun.com/tags/LinuxIP/"/>
    
  </entry>
  
  <entry>
    <title>Centos7更新后遗留内核清理</title>
    <link href="https://blog.jyusun.com/contents/20190214131719.html"/>
    <id>https://blog.jyusun.com/contents/20190214131719.html</id>
    <published>2019-02-14T05:17:19.000Z</published>
    <updated>2019-02-14T05:17:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Centos7更新后遗留内核清理"><a href="#Centos7更新后遗留内核清理" class="headerlink" title="Centos7更新后遗留内核清理"></a>Centos7更新后遗留内核清理</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>今天对CentOS7系统进行了一次更新，更新后重启发现系统启动项多了一个，经过了解是更新后遗留的系统内核，在上网查找后，找到了下面的方法清理遗留的内核，经过本人测试完全可行。自己写下来便以后用到。</li></ul><h2 id="删除系统遗留内核"><a href="#删除系统遗留内核" class="headerlink" title="删除系统遗留内核"></a>删除系统遗留内核</h2><h3 id="查看当前内核"><a href="#查看当前内核" class="headerlink" title="查看当前内核"></a>查看当前内核</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># uname -sr</span><br></pre></td></tr></table></figure><blockquote><p>Linux 3.10.0-514.26.2.el7.x86_64</p></blockquote><h3 id="搜索查询"><a href="#搜索查询" class="headerlink" title="搜索查询"></a>搜索查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rpm -qa | grep kernel</span><br></pre></td></tr></table></figure><blockquote><p>kernel-3.10.0-514.26.2.el7.x86_64<br>abrt-addon-kerneloops-2.1.11-45.el7.centos.x86_64<br>kernel-tools-libs-3.10.0-514.26.2.el7.x86_64<br><strong>kernel-3.10.0-514.el7.x86_64</strong><br>kernel-tools-3.10.0-514.26.2.el7.x86_64</p></blockquote><h3 id="删除多余的版本"><a href="#删除多余的版本" class="headerlink" title="删除多余的版本"></a>删除多余的版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rpm -e kernel-3.10.0-514.el7.x86_64</span><br></pre></td></tr></table></figure><h2 id="内核定量"><a href="#内核定量" class="headerlink" title="内核定量"></a>内核定量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># vi /etc/yum.conf</span><br></pre></td></tr></table></figure><blockquote><p>installonly_limit=5</p></blockquote><h2 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br></pre></td></tr></table></figure><h2 id="再次查看"><a href="#再次查看" class="headerlink" title="再次查看"></a>再次查看</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># rpm -qa|grep kernel*</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Centos7更新后遗留内核清理&quot;&gt;&lt;a href=&quot;#Centos7更新后遗留内核清理&quot; class=&quot;headerlink&quot; title=&quot;Centos7更新后遗留内核清理&quot;&gt;&lt;/a&gt;Centos7更新后遗留内核清理&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="系统配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="Linux内核清理" scheme="https://blog.jyusun.com/tags/Linux%E5%86%85%E6%A0%B8%E6%B8%85%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>CentOS7设置hostname和hosts</title>
    <link href="https://blog.jyusun.com/contents/20190213131719.html"/>
    <id>https://blog.jyusun.com/contents/20190213131719.html</id>
    <published>2019-02-13T05:17:19.000Z</published>
    <updated>2019-02-13T05:17:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="设置hostname和hosts"><a href="#设置hostname和hosts" class="headerlink" title="设置hostname和hosts"></a>设置hostname和hosts</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>在使用Linux系统的过程中，某些软件访问需要指定IP地址，因IP可能会变动而导致软件需要再次配置新的IP。基于此种场景，配置hostname和hosts文件解决此问题：即软件中需要配置IP的地方使用hostname代替，通过解析hosts文件hostname就被解析成对应的IP地址。如果IP有变动也只需要调整hosts中IP与hostname的对应关系，无需在频繁改动软件内部IP配置。</li></ul><h2 id="设置HostName"><a href="#设置HostName" class="headerlink" title="设置HostName"></a>设置HostName</h2><ul><li><p>设置hostname为centosvm（可以根据自己的需求起名）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br></pre></td></tr></table></figure><blockquote><p>centosvm</p></blockquote><p>注：HostName尽量不要出现’/‘、’*’、’.’、’_’等特殊字符，否则某些软件引用过程中可能读不到正确的配置或一些莫名其妙的错误问题。</p></li></ul><h2 id="设置Hosts"><a href="#设置Hosts" class="headerlink" title="设置Hosts"></a>设置Hosts</h2><ul><li><p>在Hosts中设置的尾部追加IP地址、域名和主机名映射关系</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br></pre></td></tr></table></figure><blockquote><p>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4<br>::1         localhost localhost.localdomain localhost6 localhost6.localdomain6<br><strong>192.168.233.100 centosvm</strong></p></blockquote><p>注：需要配置多个映射关系在尾部继续追加即可</p></li></ul><h2 id="重启系统"><a href="#重启系统" class="headerlink" title="重启系统"></a>重启系统</h2><ul><li><p>hostname永久修改需要重启系统才可以生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># reboot</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;设置hostname和hosts&quot;&gt;&lt;a href=&quot;#设置hostname和hosts&quot; class=&quot;headerlink&quot; title=&quot;设置hostname和hosts&quot;&gt;&lt;/a&gt;设置hostname和hosts&lt;/h1&gt;&lt;h2 id=&quot;前言&quot;&gt;&lt;a hr
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="系统配置" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE/"/>
    
    
      <category term="hostname" scheme="https://blog.jyusun.com/tags/hostname/"/>
    
      <category term="hosts" scheme="https://blog.jyusun.com/tags/hosts/"/>
    
  </entry>
  
  <entry>
    <title>虚拟机迁移-VMWare-to-VirtualBox</title>
    <link href="https://blog.jyusun.com/contents/20190211092005.html"/>
    <id>https://blog.jyusun.com/contents/20190211092005.html</id>
    <published>2019-02-11T01:20:05.000Z</published>
    <updated>2019-02-11T01:20:05.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="虚拟机迁移-VMWare-to-VirtualBox"><a href="#虚拟机迁移-VMWare-to-VirtualBox" class="headerlink" title="虚拟机迁移-VMWare-to-VirtualBox"></a>虚拟机迁移-VMWare-to-VirtualBox</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>由于之前使用的虚拟机是在VMware上，公司要求将所有VMWare的虚拟机迁移至VirtualBox上，至此整理如下步骤。</li></ul><h2 id="导出VMware中的虚拟机"><a href="#导出VMware中的虚拟机" class="headerlink" title="导出VMware中的虚拟机"></a>导出VMware中的虚拟机</h2><ul><li><p>导出开放式格式.ovf的虚拟机</p><img src="/contents/20190211092005/1.jpg" title="导出开放式格式.ovf的虚拟机"><img src="/contents/20190211092005/2.jpg" title="导出开放式格式.ovf的虚拟机"></li><li><p>导出完成</p><img src="/contents/20190211092005/3.jpg" title="导出完成"></li></ul><h2 id="导入虚拟机到VirtualBox"><a href="#导入虚拟机到VirtualBox" class="headerlink" title="导入虚拟机到VirtualBox"></a>导入虚拟机到VirtualBox</h2><ul><li><p>将.ovf格式的虚拟机导入到VirtualBox中</p><img src="/contents/20190211092005/4.jpg" title="导入开放式格式.ovf的虚拟机"><img src="/contents/20190211092005/5.jpg" title="导入开放式格式.ovf的虚拟机"></li><li><p>导入成功并启动</p><img src="/contents/20190211092005/6.jpg" title="导入成功并启动"></li></ul><h2 id="迁移过程中网络问题解决"><a href="#迁移过程中网络问题解决" class="headerlink" title="迁移过程中网络问题解决"></a>迁移过程中网络问题解决</h2><h3 id="桥接模式"><a href="#桥接模式" class="headerlink" title="桥接模式"></a>桥接模式</h3><ul><li>迁移完成后，打开虚拟机，执行ifconfig命令发现网卡名称与我们配置的网卡名称不一致，最简单的解决办法是重命名我们配置的网卡信息与ifconfig中的名称一致即可。</li></ul><h3 id="NAT模式"><a href="#NAT模式" class="headerlink" title="NAT模式"></a>NAT模式</h3><ul><li>VirtualBox如果实现VM Ware中的访问模式，需要配置两个网卡，将当前的网卡指定为（host-only）模式，在新建一个nat网卡即可。</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;虚拟机迁移-VMWare-to-VirtualBox&quot;&gt;&lt;a href=&quot;#虚拟机迁移-VMWare-to-VirtualBox&quot; class=&quot;headerlink&quot; title=&quot;虚拟机迁移-VMWare-to-VirtualBox&quot;&gt;&lt;/a&gt;虚拟机迁移-VM
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="工具使用" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
    
      <category term="vm" scheme="https://blog.jyusun.com/tags/vm/"/>
    
  </entry>
  
  <entry>
    <title>CentOS配置Docker阿里镜像加速</title>
    <link href="https://blog.jyusun.com/contents/20190201102031.html"/>
    <id>https://blog.jyusun.com/contents/20190201102031.html</id>
    <published>2019-02-01T02:20:31.000Z</published>
    <updated>2019-12-01T02:20:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CentOS配置Docker阿里镜像加速"><a href="#CentOS配置Docker阿里镜像加速" class="headerlink" title="CentOS配置Docker阿里镜像加速"></a>CentOS配置Docker阿里镜像加速</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><ul><li>由于默认的Docker Hub镜像仓库是国外的，下载镜像较慢甚至中途卡死，所以配置阿里镜像加速器解决这一问题提高速度，管理你的镜像和拉取别人的镜像 。</li><li>推荐安装1.10.0以上版本的Docker客户端，参考文档 <span class="exturl" data-url="aHR0cHM6Ly95cS5hbGl5dW4uY29tL2FydGljbGVzLzExMDgwNg==" title="https://yq.aliyun.com/articles/110806">docker-ce<i class="fa fa-external-link"></i></span> </li></ul><h2 id="登陆阿里云"><a href="#登陆阿里云" class="headerlink" title="登陆阿里云"></a>登陆阿里云</h2><ul><li>阿里云镜像加速地址：<span class="exturl" data-url="aHR0cHM6Ly9jci5jb25zb2xlLmFsaXl1bi5jb20vY24tc2hhbmdoYWkvaW5zdGFuY2VzL21pcnJvcnM=" title="https://cr.console.aliyun.com/cn-shanghai/instances/mirrors">点击获取<i class="fa fa-external-link"></i></span></li></ul><h2 id="配置镜像加速器"><a href="#配置镜像加速器" class="headerlink" title="配置镜像加速器"></a>配置镜像加速器</h2><ul><li><p>针对Docker客户端版本大于 1.10.0 的用户</p><p>您可以通过修改daemon配置文件/etc/docker/daemon.json来使用加速器</p></li><li><p>创建docker配置文件夹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir -p /etc/docker</span><br></pre></td></tr></table></figure></li><li><p>将加速地址写入配置daemon.json</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo tee /etc/docker/daemon.json &lt;&lt;-&apos;EOF&apos;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https://l46iaapq.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li><li><p>重新加载配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure></li><li><p>重启docker使配置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></table></figure></li><li><p>查看配置生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><p>可以看到末尾Registry Mirrors 新增阿里云加速地址</p><blockquote><p>Client:<br>Debug Mode: false</p><p>Server:<br>Containers: 1<br> Running: 0<br> Paused: 0<br> Stopped: 1<br>Images: 1<br>Server Version: 19.03.6<br>Storage Driver: overlay2<br> Backing Filesystem: xfs<br> Supports d_type: true<br> Native Overlay Diff: true<br>Logging Driver: json-file<br>Cgroup Driver: cgroupfs<br>Plugins:<br> Volume: local<br> Network: bridge host ipvlan macvlan null overlay<br> Log: awslogs fluentd gcplogs gelf journald json-file local logentries splunk syslog<br>Swarm: inactive<br>Runtimes: runc<br>Default Runtime: runc<br>Init Binary: docker-init<br>containerd version: 894b81a4b802e4eb2a91d1ce216b8817763c29fb<br>runc version: 425e105d5a03fabd737a126ad93d62a9eeede87f<br>init version: fec3683<br>Security Options:<br> seccomp<br>  Profile: default<br>Kernel Version: 4.18.0-147.5.1.el8_1.x86_64<br>Operating System: CentOS Linux 8 (Core)<br>OSType: linux<br>Architecture: x86_64<br>CPUs: 1<br>Total Memory: 1.787GiB<br>Name: basic<br>ID: 3Z7R:4VMD:RMKB:PCOI:TBNS:J7GT:I4ES:6UIO:7NRE:NNLY:WWOT:365Q<br>Docker Root Dir: /var/lib/docker<br>Debug Mode: false<br>Registry: <span class="exturl" data-url="aHR0cHM6Ly9pbmRleC5kb2NrZXIuaW8vdjEv" title="https://index.docker.io/v1/">https://index.docker.io/v1/<i class="fa fa-external-link"></i></span><br>Labels:<br>Experimental: false<br>Insecure Registries:<br> 127.0.0.0/8<br>Registry Mirrors:<br> https://<em>**</em>.mirror.aliyuncs.com/<br>Live Restore Enabled: false</p></blockquote></li></ul><p>至此docker加速器配置完成</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CentOS配置Docker阿里镜像加速&quot;&gt;&lt;a href=&quot;#CentOS配置Docker阿里镜像加速&quot; class=&quot;headerlink&quot; title=&quot;CentOS配置Docker阿里镜像加速&quot;&gt;&lt;/a&gt;CentOS配置Docker阿里镜像加速&lt;/h1&gt;&lt;
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="docker" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/docker/"/>
    
    
      <category term="Docker" scheme="https://blog.jyusun.com/tags/Docker/"/>
    
      <category term="镜像加速" scheme="https://blog.jyusun.com/tags/%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F/"/>
    
  </entry>
  
  <entry>
    <title>IDEA默认配置文件位置调整</title>
    <link href="https://blog.jyusun.com/contents/20181116135728.html"/>
    <id>https://blog.jyusun.com/contents/20181116135728.html</id>
    <published>2018-11-16T05:57:28.000Z</published>
    <updated>2018-11-16T05:57:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><ul><li>IDEA 默认会在用户文件夹创建配置目录，由于使用过程中此配置目录会越来越大，因此将配置目录指定到想要存放的位置。</li></ul><h1 id="编辑默认配置路径"><a href="#编辑默认配置路径" class="headerlink" title="编辑默认配置路径"></a>编辑默认配置路径</h1><ul><li><p>编辑默认配置路径</p><p>编辑文件：{IDEA安装路径}/bin/idea.properties（本人将默认路径配置在IntelliJIdea的安装路径settings下，故做如下配置）</p></li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">idea.config.path=../settings/.IntelliJIdea/config</span><br><span class="line">idea.system.path=../settings/.IntelliJIdea/system</span><br><span class="line">idea.plugins.path=$&#123;idea.config.path&#125;/plugins</span><br><span class="line">idea.log.path=$&#123;idea.system.path&#125;/log</span><br></pre></td></tr></table></figure><p>如图所示红色部分</p><img src="/contents/20181116135728/1.jpg"><ul><li>配置完成后重新启动，配置即可生效！</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;IDEA 默认会在用户文件夹创建配置目录，由于使用过程中此配置目录会越来越大，因此将配置目录指定到想要存放的位置。&lt;/li&gt;
&lt;
      
    
    </summary>
    
      <category term="环境部署" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/"/>
    
      <category term="开发工具" scheme="https://blog.jyusun.com/categories/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="idea" scheme="https://blog.jyusun.com/tags/idea/"/>
    
  </entry>
  
  <entry>
    <title>Linux环境下Oracle生成AWR报告</title>
    <link href="https://blog.jyusun.com/contents/20180909121931.html"/>
    <id>https://blog.jyusun.com/contents/20180909121931.html</id>
    <published>2018-09-09T04:19:31.000Z</published>
    <updated>2018-09-09T04:19:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Linux环境下Oracle生成AWR报告"><a href="#Linux环境下Oracle生成AWR报告" class="headerlink" title="Linux环境下Oracle生成AWR报告"></a>Linux环境下Oracle生成AWR报告</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><ul><li>test</li></ul><h2 id="生成报告"><a href="#生成报告" class="headerlink" title="生成报告"></a>生成报告</h2><ul><li>创建文件存储路径（oracle需要对此路径有读写权限）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p ~/oradata/update/awrreport</span><br></pre></td></tr></table></figure><ul><li>切换到存储路径中</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cd ~/oradata/update/awrreport</span><br></pre></td></tr></table></figure><ul><li>使用sqlplus命令连接数据库</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># sqlplus / as sysdba</span><br></pre></td></tr></table></figure><blockquote><p>使用DBA用户或 sqlplus 用户名/密码</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@?/rdbms/admin/awrrpt.sql</span><br></pre></td></tr></table></figure><blockquote><ol><li>选择报告类型，默认选html （可直接回车）</li><li>报告涉及天数范围（1：当天）</li><li>开始、结束编号</li><li>报告名字 （回车默认）</li></ol></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Linux环境下Oracle生成AWR报告&quot;&gt;&lt;a href=&quot;#Linux环境下Oracle生成AWR报告&quot; class=&quot;headerlink&quot; title=&quot;Linux环境下Oracle生成AWR报告&quot;&gt;&lt;/a&gt;Linux环境下Oracle生成AWR报告&lt;/
      
    
    </summary>
    
      <category term="技术实践" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/"/>
    
      <category term="工具使用" scheme="https://blog.jyusun.com/categories/%E6%8A%80%E6%9C%AF%E5%AE%9E%E8%B7%B5/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
    
      <category term="awr" scheme="https://blog.jyusun.com/tags/awr/"/>
    
  </entry>
  
</feed>
